(function(t){function e(e){for(var r,a,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/aggr/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0613":function(t,e,n){"use strict";n.d(e,"a",(function(){return mt}));var r=n("2b0e"),i=n("2f62"),o=n("d951"),a=n("0c01"),s=n("28f3"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"-sticky-footer -auto",attrs:{bodyClass:"d-flex mobile-dir-col-desktop-dir-row"},on:{clickOutside:t.hide},scopedSlots:t._u([{key:"header",fn:function(){return[t.paneId?n("div",[n("div",{staticClass:"title"},[t._v(t._s(t.paneName)+"'s MARKETS")]),n("div",{staticClass:"subtitle"},[t._v("Choose which markets "),n("u",[t._v("this pane")]),t._v(" should listen to")])]):n("div",[n("div",{staticClass:"title"},[t._v(" SELECT MARKETS (ALL) ")]),n("div",{staticClass:"subtitle"},[t._v("Choose which markets "),n("u",[t._v("all")]),t._v(" panes should listen to")])]),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("div",{staticClass:"search"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"mb0 d-flex"},[n("div",{staticClass:"input-group flex-grow-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"eg: BITMEX:XBTUSD"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})]),n("dropdown",{attrs:{options:t.searchFilters,placeholder:"Filter","auto-close":!1,"selection-class":t.hasFilters?"ml8 -green":"-text"},on:{output:function(e){return t.toggleFilter(e)}},scopedSlots:t._u([{key:"selection",fn:function(){return[t._v(" filter "),n("i",{staticClass:"ml4",class:t.hasFilters?"icon-check":"icon-plus"})]},proxy:!0},{key:"option",fn:function(e){var r=e.index,i=e.value;return[i?n("i",{staticClass:"icon-check mr8"}):t._e(),t._v(" "+t._s(r)+" ")]}}])}),n("dropdown",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top"},expression:"{ placement: 'top' }"}],attrs:{options:t.otherPanes,placeholder:"Filter",title:"Filters",selectionClass:"-text"},on:{output:function(e){return t.selectPaneMarkets(e)}},scopedSlots:t._u([{key:"selection",fn:function(){return[t._v(" panes "),n("i",{staticClass:"icon-pile ml4"})]},proxy:!0},{key:"option",fn:function(e){var n=e.value;return[t._v(" "+t._s(n.name||n.id)+" ")]}}])})],1)]),n("div",{staticClass:"search__results hide-scrollbar"},[t.results.length?n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th"),n("th",[t._v("exchange")]),n("th",[t._v("pair")]),n("th",[t._v("type")])])]),n("tbody",[t._l(t.results,(function(e,r){return n("tr",{key:e.id,staticClass:"-action",class:{active:t.activeIndex===r},on:{click:function(n){return t.selectMarket(e.id)}}},[n("td",{staticClass:"icon search__exchange text-center",class:"icon-"+e.exchange}),n("td",{domProps:{textContent:t._s(e.exchange)}}),n("td",{domProps:{textContent:t._s(e.pair)}}),n("td",{domProps:{textContent:t._s(e.type)}}),n("td",{staticClass:"text-center"},[-1!==t.historicalMarkets.indexOf(e.id)?n("i",{staticClass:"icon-candlestick icon-lower"}):t._e()])])})),t.results.length>0&&t.results.length<=25?n("tr",{staticClass:"-action",on:{click:t.addAll}},[n("td",{attrs:{colspan:"100%"}},[t._v("add all ("+t._s(t.results.length)+") ☝")])]):t._e()],2)]):n("div",{staticClass:"text-danger search__no-result"},[n("p",{staticClass:"mt0 mb0 px16 pb0"},[t._v(" No results "),t.hasFilters?[t._v(" ("),n("button",{staticClass:"btn -text color-100 pl0 pr0",on:{click:t.clearFilters}},[t._v("delete filters")]),t._v(")")]:t._e()],2),t.searchFilters.historical?n("div",{staticClass:"color-100 px16 pt0"},[n("p",{staticClass:"color-100 mb0"},[t._v("In need for more historical data ?")]),n("p",{staticClass:"mt0 color-100"},[n("a",{staticClass:"btn -text",attrs:{href:"https://github.com/Tucsky/aggr-server",target:"_blank"}},[t._v("Run your own aggr")]),n("dono-dropdown",{staticClass:"-left ",attrs:{label:"support the project"}}),n("a",{staticClass:"btn -text",attrs:{href:"https://github.com/Tucsky/aggr/discussions",target:"_blank"}},[t._v("Suggest it on github "),n("i",{staticClass:"icon-github"})])],1)]):t._e()])])]),n("hr",{staticClass:"-horizontal"}),n("hr",{staticClass:"-vertical mb8 ml0 mr0 pl0 pr0"}),n("div",{staticClass:"form-group selection hide-scrollbar"},[n("label",{staticClass:"text-nowrap mt16 mr16 mb0 ml16",attrs:{for:"ok"}},[t._v("Selection "),t.paneId?n("code",{staticClass:"-filled",domProps:{textContent:t._s(t.paneName)}}):t._e(),n("button",{staticClass:"btn -text",on:{click:t.clearSelection}},[n("i",{staticClass:"icon-cross"})]),n("button",{staticClass:"btn -text",on:{click:t.copySelection}},[n("i",{staticClass:"icon-stamp"})])]),n("transition-group",{staticClass:"selection__items",attrs:{name:t.transitionGroupName,tag:"div"},on:{beforeEnter:t.beforeEnter,enter:t.enter,afterEnter:t.afterEnter,beforeLeave:t.beforeLeave,leave:t.leave}},t._l(t.selection,(function(e){return n("div",{key:e},[n("button",{staticClass:"mb4 btn -small  -accent mr4",class:{"-green":-1!==t.activeMarkets.indexOf(e)},attrs:{title:"Click to remove"},domProps:{textContent:t._s(e)},on:{click:function(n){return t.deselectMarket(e)}}})])})),0)],1),n("footer",[n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:t.hide}},[t._v("Cancel")]),n("button",{staticClass:"btn -large ml8 -green",domProps:{textContent:t._s(t.submitLabel)},on:{click:t.submit}})])])},l=[],u=n("7250"),d=n("5e7f"),p=n("1ea0"),h=n("a914");function f(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=v(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function m(t){return g(t)||b(t)||v(t)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,e){if(t){if("string"===typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function b(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function g(t){if(Array.isArray(t))return _(t)}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var C={mixins:[p["a"]],components:{Dialog:u["a"],DonoDropdown:d["a"]},props:{query:{default:""},paneId:{required:!1}},data:function(){return{markets:[],selection:[],originalSelection:[],activeIndex:null}},computed:{transitionGroupName:function(){return this.$store.state.settings.disableAnimations?null:"slide-notice"},otherPanes:function(){var t=this;return Object.keys(this.$store.state.panes.panes).filter((function(e){return e!==t.paneId})).map((function(e){return t.$store.state.panes.panes[e]}))},paneName:function(){return this.paneId?this.$store.state.panes.panes[this.paneId].name||this.paneId:null},activeMarkets:function(){return this.$store.state.app.activeMarkets.map((function(t){return t.exchange+":"+t.pair}))},paneMarkets:function(){return this.paneId?this.$store.state.panes.panes[this.paneId].markets:[]},toConnect:function(){var t=this;return this.paneId?this.selection.filter((function(e){return-1===t.paneMarkets.indexOf(e)})).length:this.selection.filter((function(e){return-1===t.activeMarkets.indexOf(e)})).length},toDisconnect:function(){var t=this;return this.originalSelection.filter((function(e){return-1===t.selection.indexOf(e)})).length},submitLabel:function(){var t=+this.toConnect,e=+this.toDisconnect,n="";return t&&(n+="add ".concat(t)),e&&(n+="".concat(t?" and ":"","remove ").concat(e)),n?n+" markets":"OK"},canFeelLucky:function(){return this.query.replace(/\W/g,"").length>4},searchFilters:function(){return this.$store.state.app.searchFilters},hasFilters:function(){var t=this.searchFilters.historical,e=this.searchFilters.spots,n=this.searchFilters.perpetuals,r=this.searchFilters.futures;return t||e||n||r},historicalMarkets:function(){return this.$store.state.app.historicalMarkets},indexedProducts:function(){return this.$store.state.app.indexedProducts},flattenedProducts:function(){var t;return(t=Array.prototype).concat.apply(t,m(Object.values(this.indexedProducts)))},queryFilter:function(){var t=this.query.replace(/[ ,]/g,"|");return this.searchFilters.normalize?new RegExp("^"+t,"i"):new RegExp(t,"i")},filteredProducts:function(){var t=this,e=this.searchFilters.historical,n=this.searchFilters.spots,r=this.searchFilters.perpetuals,i=this.searchFilters.futures,o=n||r||i;return this.flattenedProducts.filter((function(a){return(!e||-1!==t.historicalMarkets.indexOf(a.id))&&(!o||!!(i&&"future"===a.type||r&&"perp"===a.type||n&&"spot"===a.type))}))},results:function(){var t=this,e=this.searchFilters.normalize;return this.filteredProducts.filter((function(n){return-1===t.selection.indexOf(n.id)&&(e?t.queryFilter.test(n.local):t.queryFilter.test(n.id))})).slice(0,50)}},watch:{"$store.state.app.showSearch":function(t){t||this.close(!1)}},created:function(){this.paneId?this.selection=this.$store.state.panes.panes[this.paneId].markets.slice():this.selection=this.activeMarkets.slice(),this.originalSelection=this.selection.slice(),this.ensureProducts()},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.input.focus()})),document.addEventListener("paste",this.onPaste),document.addEventListener("keydown",this.onKeydown)},beforeDestroy:function(){document.removeEventListener("paste",this.onPaste),document.removeEventListener("keydown",this.onKeydown)},methods:{containMultipleMarketsConfigurations:function(){var t=this;return Object.keys(this.$store.state.panes.panes).map((function(e){return Object(s["m"])(t.$store.state.panes.panes[e].markets)})).filter((function(t,e,n){return n.indexOf(t)===e})).length>1},selectPaneMarkets:function(t){for(var e=this.otherPanes[t],n=0;n<e.markets.length;n++)-1===this.selection.indexOf(e.markets[n])&&this.selection.push(e.markets[n])},selectMarket:function(t){this.selection.push(t)},deselectMarket:function(t){var e=this.selection.indexOf(t);-1!==e&&this.selection.splice(e,1)},submit:async function(){if(this.paneId)this.$store.dispatch("panes/setMarketsForPane",{id:this.paneId,markets:this.selection});else{if(this.containMultipleMarketsConfigurations()&&!await a["a"].confirm("Are you sure ? Some of the panes are watching specific markets."))return;Object.keys(this.$store.state.panes.panes).length||await this.$store.dispatch("panes/addPane",{type:"trades"}),this.$store.dispatch("panes/setMarketsForAll",this.selection)}this.hide()},hide:function(){this.$store.dispatch("app/hideSearch")},toggleFilter:function(t){this.$store.commit("app/TOGGLE_SEARCH_FILTER",t)},beforeEnter:function(t){t.style.height="0px",t.style.width="0px"},enter:function(t){var e=t.children[0],n=e.offsetHeight+"px",r=e.offsetWidth+"px";t.dataset.height=n,t.dataset.width=r,setTimeout((function(){t.style.height=n,t.style.width=r}),100)},afterEnter:function(t){t.style.height="",t.style.width=""},beforeLeave:function(t){if("undefined"===typeof t.dataset.height){var e=t.children[0];t.dataset.height=e.offsetHeight+"px"}if(t.style.height=t.dataset.height,"undefined"===typeof t.dataset.width){var n=t.children[0];t.dataset.width=n.offsetWidth+"px"}t.style.width=t.dataset.width},leave:function(t){setTimeout((function(){t.style.height="0px",t.style.width="0px"}))},ensureProducts:async function(){var t,e=f(this.$store.getters["exchanges/getExchanges"]);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.$store.state.exchanges[n].fetched||(await h["a"].dispatch({op:"fetch-products",data:this.id}),h["a"].dispatch({op:"products",data:{exchange:n,data:null}}))}}catch(r){e.e(r)}finally{e.f()}},clearSelection:function(){this.selection.splice(0,this.selection.length)},copySelection:function(){Object(s["d"])(this.selection.join(",")),this.$store.dispatch("app/showNotice",{id:"products-clipboard",title:"Copied ".concat(this.selection.length," product(s) to clipboard")})},clearFilters:function(){this.$store.commit("app/CLEAR_SEARCH_FILTERS")},onPaste:function(t){if(!document.activeElement||"INPUT"!==document.activeElement.tagName){var e=t.clipboardData.getData("text/plain"),n=e.split(",").filter((function(t){return/^.{3,}:.{4,32}$/.test(t)}));n.length&&(this.selection=n)}},onKeydown:function(t){switch(t.key){case"Enter":t.preventDefault(),this.results[this.activeIndex]&&this.selectMarket(this.results[this.activeIndex].id);break;case"ArrowDown":case"ArrowUp":this.results.length&&("ArrowUp"===t.key?this.activeIndex=Math.max(0,this.activeIndex-1):null===this.activeIndex?this.activeIndex=0:this.activeIndex=Math.min(this.results.length-1,this.activeIndex+1));break}},addAll:function(){for(var t=0;t<this.results.length;t++)-1===this.selection.indexOf(this.results[t].id)&&(this.selection.push(this.results[t].id),t--)}}},k=C,w=(n("42af"),n("2877")),O=Object(w["a"])(k,c,l,!1,null,"69fc4c1e",null),S=O.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"-timeframe",on:{clickOutside:t.hide},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[t._v("Timeframe")]),n("div",{staticClass:"subtitle pl0",domProps:{textContent:t._s(t.paneName)}})]),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"text-center"},[n("div",{ref:"input",staticClass:"form-control w-100",attrs:{contenteditable:"",placeholder:t.placeholder},on:{input:t.onInput,keydown:t.onKeyDown}})]),n("div",{staticClass:"timeframe-for-human"},[t.valid?n("code",{domProps:{textContent:t._s("= "+t.timeframeForHuman)}}):n("code",{staticClass:"form-feedback"},[t._v("Invalid timeframe")])]),n("footer",[n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),n("button",{staticClass:"btn -green ml8 -large",attrs:{type:"submit"}},[n("i",{staticClass:"icon-check mr4"}),t._v(" OK")])])])])},I=[],T={props:{timeframe:{type:String}},mixins:[p["a"]],data:function(){return{newTimeframe:"",paneId:null}},computed:{paneName:function(){return this.$store.state.panes.panes[this.paneId].name||this.paneId},timeframeForHuman:function(){var t=this.format(this.newTimeframe);return Object(s["p"])(t)},valid:function(){return null!==this.timeframeForHuman}},watch:{"$store.state.app.showSearch":function(t){t||this.close(!1)}},created:function(){this.paneId=this.$store.state.app.focusedPaneId,this.timeframe&&(this.newTimeframe=this.timeframe),this.placeholder=this.$store.state[this.paneId].timeframe},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.input.focus()}))},methods:{onInput:function(t){this.newTimeframe=t.currentTarget.innerText},onKeyDown:function(t){if(this.disabled||13===t.which)return t.preventDefault(),void this.submit()},submit:function(){if(this.valid){var t=this.format(this.newTimeframe);this.$store.commit(this.paneId+"/SET_TIMEFRAME",t),this.hide()}},hide:function(){this.$store.dispatch("app/hideSearch")},format:function(t){var e,n=t.trim();return/t$|ticks?$/i.test(n)?parseInt(n)+"t":(e=/ms$/.test(n)?parseFloat(n)/1e3:/h$/.test(n)?60*parseFloat(n)*60:/m$/.test(n)?60*parseFloat(n):parseFloat(n),e)}}},x=T,A=(n("1e89"),Object(w["a"])(x,E,I,!1,null,null,null)),P=A.exports,R={isBooted:!1,isLoading:!1,redirectUrl:null,optimalDecimal:null,pairs:[],showSearch:!1,activeExchanges:{},activeMarkets:[],notices:[],historicalMarkets:[],indexedProducts:{},proxyUrl:null,apiUrl:null,version:"DEV",buildDate:"now",baseCurrency:"coin",baseCurrencySymbol:"฿",quoteCurrency:"dollar",quoteCurrencySymbol:"$",focusedPaneId:null,searchFilters:{historical:!1,spots:!0,perpetuals:!0,futures:!1,normalize:!0}},j={boot:async function(t){var e=t.commit;e("SET_API_SUPPORTED_PAIRS","BITFINEX:BTCUSD,BINANCE:btcusdt,OKEX:BTC-USDT,KRAKEN:XBT/USD,COINBASE:BTC-USD,POLONIEX:USDT_BTC,HUOBI:btcusdt,BITSTAMP:btcusd,BITMEX:XBTUSD,BITFINEX:BTCF0:USTF0,OKEX:BTC-USD-SWAP,OKEX:BTC-USDT-SWAP,BINANCE_FUTURES:btcusdt,BINANCE_FUTURES:btcusd_perp,HUOBI:BTC-USD,KRAKEN:PI_XBTUSD,DERIBIT:BTC-PERPETUAL,FTX:BTC-PERP,BYBIT:BTCUSD,BYBIT:BTCUSDT,FTX:BTC/USDT,FTX:BTC/USD,BINANCE_FUTURES:ethusdt,BINANCE_FUTURES:ethusd_perp,BITFINEX:ETHUSD,BITMEX:ETHUSD,BITSTAMP:ethusd,BYBIT:ETHUSD,BYBIT:ETHUSDT,COINBASE:ETH-USD,DERIBIT:ETH-PERPETUAL,FTX:ETH-PERP,FTX:ETH/USD,FTX:ETH/USDT,HUOBI:ethusdt,HUOBI:ETH-USD,KRAKEN:ETH/USD,KRAKEN:PI_ETHUSD,OKEX:ETH-USDT,OKEX:ETH-USDT-SWAP,OKEX:ETH-USD-SWAP,BITFINEX:DOGE:USD,COINBASE:DOGE-USD,COINBASE:DOGE-USDT,FTX:DOGE/USD,FTX:DOGE/USDT,HUOBI:DOGE-USD,OKEX:DOGE-USDT,OKEX:DOGE-USDT-SWAP,OKEX:DOGE-USD-SWAP,BINANCE:dogeusdt,BITMEX:DOGEUSDT,BINANCE_FUTURES:dogeusdt,BINANCE_FUTURES:dogeusd_perp,HUOBI:dogeusdt,BINANCE:linkusdt,BINANCE_FUTURES:linkusdt,BINANCE_FUTURES:linkusd_perp,BITFINEX:LINK:USD,BITMEX:LINKUSDT,BITSTAMP:linkusd,COINBASE:LINK-USD,FTX:LINK/USD,FTX:LINK/USDT,HUOBI:linkusdt,HUOBI:LINK-USD,KRAKEN:LINK/USD,KRAKEN:LINK/USDT,OKEX:LINK-USDT,OKEX:LINK-USD-SWAP,OKEX:LINK-USDT-SWAP,BITFINEX:LINKF0:USTF0,BYBIT:LINKUSDT"),e("SET_VERSION","3.0.2"),e("SET_BUILD_DATE","23 jul"),e("SET_API_URL","https://api.aggr.trade/historical/{from}/{to}/{timeframe}/{markets}"),e("SET_PROXY_URL","https://cors.aggr.trade/"),this.dispatch("app/refreshCurrencies")},setBooted:function(t){var e=t.commit,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e("SET_BOOTED",n)},showNotice:async function(t,e){var n=this,r=t.commit,i=t.getters;if("string"===typeof e&&(e={title:e}),e.id&&i.getNoticeById(e.id)){if(e.update)return this.dispatch("app/updateNotice",e);try{await this.dispatch("app/hideNotice",e.id)}catch(o){return}}e.id||(e.id=Object(s["v"])()),"undefined"===typeof e.timeout&&(e.timeout="error"===e.type?1e4:3e3),e.timeout>0&&(e._timeout=setTimeout((function(){delete e._timeout,n.dispatch("app/hideNotice",e.id)}),e.timeout)),r("CREATE_NOTICE",e)},hideNotice:function(t,e){var n=t.commit,r=t.getters,i=r.getNoticeById(e);return i?(i._timeout&&clearTimeout(i._timeout),i._reject&&i._reject(),new Promise((function(t,e){i._reject=e,i._timeout=setTimeout((function(){n("REMOVE_NOTICE",i),delete i._reject,delete i._timeout,t()}),100)}))):Promise.resolve()},updateNotice:function(t,e){var n=t.commit,r=t.getters,i=t.state,o=r.getNoticeById(e.id),a=i.notices.indexOf(o);if(!o||-1===a)return Promise.resolve();n("UPDATE_NOTICE",{index:a,notice:e})},refreshCurrencies:function(t){var e=t.commit,n=t.state,r=n.activeMarkets[0];if(r){for(var i=r.pair,o={BTC:["bitcoin","฿"],XBT:["bitcoin","฿"],GBP:["pound","£"],EUR:["euro","€"],USD:["dollar","$"],JPY:["yen","¥"],ETH:["ethereum","ETH"],XRP:["xrp","XRP"],LTC:["ltc","LTC"],TRX:["trx","TRX"],ADA:["ada","ADA"],IOTA:["iota","IOTA"],XMR:["xmr","XMR"],NEO:["neo","NEO"],EOS:["eos","EOS"]},a={base:"coin",baseSymbol:"฿",quote:"dollar",quoteSymbol:"$"},s=0,c=Object.keys(o);s<c.length;s++){var l=c[s];new RegExp(l+"$").test(i)&&(a.quote=o[l][0],a.quoteSymbol=o[l][1]),new RegExp("^"+l).test(i)&&(a.base=o[l][0],a.baseSymbol=o[l][1])}e("SET_CURRENCIES",a)}},showSearch:function(t){var e=t.commit,n=t.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{query:"",paneId:null},i=r.paneId,o=r.query;n.showSearch||(e("TOGGLE_SEARCH",!0),a["a"].open(S,{query:o,paneId:i}))},showTimeframe:function(t){var e=t.commit,n=t.state,r=t.rootState;!n.showSearch&&n.focusedPaneId&&r[n.focusedPaneId]&&(e("TOGGLE_SEARCH",!0),a["a"].open(P))},hideSearch:function(t){var e=t.commit,n=t.state;n.showSearch&&e("TOGGLE_SEARCH",!1)}},D={SET_BOOTED:function(t,e){t.isBooted=e},SET_REDIRECT_URL:function(t,e){t.redirectUrl&&e||(t.redirectUrl=e)},EXCHANGE_UPDATED:function(t,e){var n=!this.state.exchanges[e].disabled&&!this.state.exchanges[e].hidden;r["default"].set(t.activeExchanges,e,n)},TOGGLE_LOADING:function(t,e){t.isLoading=!!e},CREATE_NOTICE:function(t,e){t.notices.push(e)},UPDATE_NOTICE:function(t,e){var n=e.index,i=e.notice;r["default"].set(t.notices,n,i)},REMOVE_NOTICE:function(t,e){var n=t.notices.indexOf(e);-1!==n&&t.notices.splice(n,1)},TOGGLE_SEARCH:function(t,e){t.showSearch="boolean"===typeof e?e:!t.showSearch},SET_OPTIMAL_DECIMAL:function(t,e){t.optimalDecimal=e},SET_API_URL:function(t,e){t.apiUrl=e},SET_PROXY_URL:function(t,e){t.proxyUrl=e},SET_API_SUPPORTED_PAIRS:function(t,e){t.historicalMarkets=e?"string"===typeof e?e.split(",").map((function(t){return t.trim()})):e:[]},SET_VERSION:function(t,e){t.version=e},SET_BUILD_DATE:function(t,e){t.buildDate=e},INDEX_EXCHANGE_PRODUCTS:function(t,e){var n=e.exchange,i=e.products;r["default"].set(t.indexedProducts,n,i)},ADD_ACTIVE_MARKET:function(t,e){var n=e.exchange,r=e.pair,i=t.activeMarkets.find((function(t){return t.exchange===n&&t.pair===r}));if(i)throw new Error("add-active-market-already-exist");t.activeMarkets.push({id:n+r,exchange:n,pair:r})},REMOVE_ACTIVE_MARKET:function(t,e){var n=e.exchange,r=e.pair,i=t.activeMarkets.find((function(t){return t.exchange===n&&t.pair===r}));if(!i)throw new Error("remove-active-market-not-found");var o=t.activeMarkets.indexOf(i);t.activeMarkets.splice(o,1)},SET_CURRENCIES:function(t,e){t.baseCurrency=e.base,t.baseCurrencySymbol=e.baseSymbol,t.quoteCurrency=e.quote,t.quoteCurrencySymbol=e.quoteSymbol},SET_FOCUSED_PANE:function(t,e){t.focusedPaneId=e},TOGGLE_SEARCH_FILTER:function(t,e){r["default"].set(t.searchFilters,e,!t.searchFilters[e])},CLEAR_SEARCH_FILTERS:function(t){for(var e in t.searchFilters)"normalize"!==e&&(t.searchFilters[e]=!1);r["default"].set(t,"searchFilters",t.searchFilters)}},N={getNoticeById:function(t){return function(e){for(var n=0;n<t.notices.length;n++)if(t.notices[n].id===e)return t.notices[n]}}},L={namespaced:!0,state:R,getters:N,actions:j,mutations:D},B=n("3e57"),M=n("fa07"),$=n("4902"),U=Object.assign({_id:"settings"},B),F={boot:async function(t){var e=t.state,n=t.dispatch;h["a"].dispatch({op:"settings.calculateSlippage",data:e.calculateSlippage}),h["a"].dispatch({op:"settings.aggregationLength",data:e.aggregationLength}),h["a"].dispatch({op:"settings.preferQuoteCurrencySize",data:e.preferQuoteCurrencySize}),n("updateCSS"),r["default"].nextTick((function(){e.useAudio?$["a"].connect():$["a"].disconnect()}))},addRecentColor:function(t,e){var n=t.commit,r=t.state;r.recentColors.includes(e)||(r.recentColors.length>=16&&n("TRIM_RECENT_COLORS"),n("ADD_RECENT_COLOR",e))},setBackgroundColor:function(t,e){var n=t.commit,r=t.state,i=t.dispatch;n("SET_CHART_BACKGROUND_COLOR",e);var o=Object(M["d"])(Object(M["h"])(e)),a=o>144?"light":"dark";a!==r.theme&&n("SET_CHART_THEME",a),r.textColor.length&&n("SET_CHART_COLOR",""),i("updateCSS")},updateCSS:function(t){var e=t.state,n=e.theme,r="light"===n?.5:1,i="dark"===n?1:-10,o="dark"===n?-1:1,a=Object(M["h"])(e.backgroundColor);document.documentElement.style.setProperty("--theme-background-base",e.backgroundColor),document.documentElement.style.setProperty("--theme-background-100",Object(M["e"])(a,.015*r*i)),document.documentElement.style.setProperty("--theme-background-150",Object(M["e"])(a,.05*r*i)),document.documentElement.style.setProperty("--theme-background-200",Object(M["e"])(a,.075*r*i)),document.documentElement.style.setProperty("--theme-background-300",Object(M["e"])(a,.1*r*i));var s=Object(M["h"])(document.documentElement.style.getPropertyValue("--theme-background-100"));document.documentElement.style.setProperty("--theme-background-o75","rgba(".concat(s[0],", ").concat(s[1],",").concat(s[2],", .75)")),document.documentElement.style.setProperty("--theme-background-o20","rgba(".concat(a[0],", ").concat(a[1],",").concat(a[2],", .2)"));var c="light"!==n?"rgb(17,17,17)":"rgb(246,246,246)",l=e.textColor;l||(l="light"===n?"rgb(17,17,17)":"rgb(246,246,246)");var u=Object(M["h"])(l);document.documentElement.style.setProperty("--theme-color-base",l),document.documentElement.style.setProperty("--theme-color-100",Object(M["e"])(u,.1*o)),document.documentElement.style.setProperty("--theme-color-150",Object(M["e"])(u,.3*o)),document.documentElement.style.setProperty("--theme-color-200",Object(M["e"])(u,.5*o)),document.documentElement.style.setProperty("--theme-color-o75","rgba(".concat(u[0],", ").concat(u[1],",").concat(u[2],", .75)")),document.documentElement.style.setProperty("--theme-color-o20","rgba(".concat(u[0],", ").concat(u[1],",").concat(u[2],", .2)")),document.documentElement.style.setProperty("--theme-color-inverse",c)},setQuoteCurrencySizing:function(t,e){var n=t.commit;n("SET_QUOTE_CURRENCY_SIZING",e),this.dispatch("app/refreshCurrencies")},setAudioVolume:function(t,e){var n=t.commit,r=t.state;n("SET_AUDIO_VOLUME",e),e&&!r.useAudio?n("TOGGLE_AUDIO",!0):!e&&r.useAudio&&n("TOGGLE_AUDIO",!1)}},H={SET_QUOTE_AS_PREFERED_CURRENCY:function(t,e){t.preferQuoteCurrencySize=!!e,h["a"].dispatch({op:"settings.preferQuoteCurrencySize",data:t.preferQuoteCurrencySize})},TOGGLE_SLIPPAGE:function(t){var e=[!1,"bps","price"],n=Math.max(0,e.indexOf(t.calculateSlippage));t.calculateSlippage=e[(n+1)%e.length],h["a"].dispatch({op:"settings.calculateSlippage",data:t.calculateSlippage})},TOGGLE_AGGREGATION:function(t){var e=[0,1,10,100,1e3],n=Math.max(0,e.indexOf(t.aggregationLength));t.aggregationLength=e[(n+1)%e.length],h["a"].dispatch({op:"settings.aggregationLength",data:t.aggregationLength})},TOGGLE_ANIMATIONS:function(t){t.disableAnimations=!t.disableAnimations},TOGGLE_SETTINGS_PANEL:function(t,e){var n=t.settings.indexOf(e);-1===n?t.settings.push(e):t.settings.splice(n,1)},TOGGLE_AUDIO:function(t,e){t.useAudio=!!e,t.useAudio?$["a"].connect():$["a"].disconnect()},SET_AUDIO_VOLUME:function(t,e){t.audioVolume=e},SET_AUDIO_FILTER:function(t,e){var n=e.id,r=e.value;t.audioFilters[n]=r,$["a"].reconnect()},SET_CHART_BACKGROUND_COLOR:function(t,e){t.backgroundColor=e},SET_CHART_THEME:function(t,e){t.theme=e},SET_CHART_COLOR:function(t,e){t.textColor=e},SET_TIMEZONE_OFFSET:function(t,e){t.timezoneOffset=+e||0},ADD_RECENT_COLOR:function(t,e){t.recentColors.push(e)},TRIM_RECENT_COLORS:function(t){t.recentColors.pop()},SET_DECIMAL_PRECISION:function(t,e){t.decimalPrecision=e},TOGGLE_AUTO_HIDE_HEADERS:function(t){t.autoHideHeaders=!t.autoHideHeaders}},q={namespaced:!0,state:U,actions:F,mutations:H},G=n("06c2");function V(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=z(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function z(t,e){if(t){if("string"===typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var K="binance,binance_futures,bitfinex,bitmex,bitstamp,bybit,coinbase,deribit,ftx,hitbtc,huobi,kraken,okex,phemex,poloniex".split(",").reduce((function(t,e){return t[e.toUpperCase()]={fetched:!1},t}),{_exchanges:[]});K._id="exchanges";var X={getExchanges:function(t){return Object.keys(t).filter((function(t){return"INDEX"!==t&&!/^_/.test(t)}))}},J={boot:async function(t){var e=t.state,n=t.getters;e._exchanges.splice(0,e._exchanges.length);var r,i=V(n.getExchanges);try{for(i.s();!(r=i.n()).done;){var o=r.value;e._exchanges.push(o),e[o].fetched=!1,this.commit("app/EXCHANGE_UPDATED",o)}}catch(a){i.e(a)}finally{i.f()}await Promise.all(n.getExchanges.map((function(t){return Object(G["a"])(t)}))),await Object(s["t"])("connecting to exchanges"),await this.dispatch("panes/refreshMarketsListeners"),Object(G["b"])()},toggleExchange:async function(t,e){var n=t.commit,r=t.state,i=t.dispatch;n("TOGGLE_EXCHANGE",e),r[e].disabled?i("disconnect",e):i("connect",e),this.commit("app/EXCHANGE_UPDATED",e)},disconnect:async function(t,e){var n=t.rootState,r=new RegExp("^".concat(e,":"),"i"),i=Object.keys(n.panes.marketsListeners).filter((function(t){return r.test(t)}));await h["a"].disconnect(i)},connect:async function(t,e){var n=t.rootState,r=new RegExp("^".concat(e,":"),"i"),i=Object.keys(n.panes.marketsListeners).filter((function(t){return r.test(t)}));await h["a"].connect(i)},toggleExchangeVisibility:function(t,e){var n=t.commit;n("TOGGLE_EXCHANGE_VISIBILITY",e),this.commit("app/EXCHANGE_UPDATED",e)},indexExchangeProducts:function(t,e){for(var n=e.exchange,r=e.symbols,i=[],o="([a-z0-9]{2,})",a="(eur|usd|usdt|usdc|tusd)",s="([a-z0-9]{3,})",c=new RegExp("^".concat(o,"[^a-z0-9]?").concat(a,"$"),"i"),l=new RegExp("^".concat(o,"[^a-z0-9]?").concat(s,"$"),"i"),u=new RegExp("^".concat(a,"[^a-z0-9]?").concat(o,"$"),"i"),d=new RegExp("^".concat(s,"[^a-z0-9]?").concat(o,"$"),"i"),p=0;p<r.length;p++){var h=r[p],f=n+":"+h,m="spot";/\d{2}$/.test(h)?m="future":"BITMEX"===n||"BYBIT"===n||/(-|_)swap$|(-|_|:)perp/i.test(h)||"BINANCE_FUTURES"===n||"BITFINEX"===n&&/F0$/.test(h)||"PHEMEX"===n&&"s"!==h[0]?m="perp":"HUOBI"===n&&/_(CQ|NW|CQ|NQ)$/.test(h)?m="future":("HUOBI"===n&&/-/.test(h)||"KRAKEN"===n&&/PI_/.test(h))&&(m="perp");var y=h.replace(/-PERP(ETUAL)?/i,"-USD").replace(/[^a-z0-9](perp|swap|perpetual)$/i,"").replace(/[^a-z0-9]\d+$/i,""),v=void 0;"POLONIEX"===n?(v=y.match(u),v||(v=y.match(d))):(v=y.match(c),v||(v=y.match(l))),v||"DERIBIT"!==n&&"FTX"!==n&&"HUOBI"!==n||(v=y.match(/(\w+)[^a-z0-9]/i),v&&(v[2]=v[1]));var b=void 0,g=void 0;v&&(b=v[1],g=v[2],y=b+g.replace(/usdt/i,"usd")),i.push({id:f,base:b,quote:g,pair:h,local:y,exchange:n,type:m})}this.commit("app/INDEX_EXCHANGE_PRODUCTS",{exchange:n,products:i})}},Q={TOGGLE_EXCHANGE:function(t,e){var n=!0;"boolean"===typeof t[e].disabled&&(n=!t[e].disabled),r["default"].set(t[e],"disabled",n)},TOGGLE_EXCHANGE_VISIBILITY:function(t,e){var n=!0;"boolean"===typeof t[e].hidden&&(n=!t[e].hidden),r["default"].set(t[e],"hidden",n)},SET_FETCHED:function(t,e){r["default"].set(t[e],"fetched",!0)}},Y={namespaced:!0,getters:X,state:K,actions:J,mutations:Q},Z=n("be31"),tt=n("bd60"),et=n("cb7c"),nt=n("ce94"),rt=n("9613");function it(t){return it="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ot(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=at(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function at(t,e){if(t){if("string"===typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(t,e):void 0}}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ct=JSON.parse(JSON.stringify(et)),lt={currentLayout:function(t){var e=Object.keys(t.layouts).reduce((function(t,e){return t[e]=rt["c"][e],t}),{}),n=Object.keys(e).sort((function(t,e){return rt["b"][e]-rt["b"][t]}));e[n[n.length-1]]=0;var r,i=window.innerWidth,o=ot(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(i>e[a])return a}}catch(s){o.e(s)}finally{o.f()}}},ut={boot:async function(t){var e=t.state;if(e.marketsListeners={},!Object.keys(e.layouts).length){var n=window.innerWidth<768;e.layouts=n?nt:{lg:nt.lg}}},addPane:async function(t,e){var n=t.commit,i=t.dispatch,a=t.state;if(e&&e.type)if(tt["a"][e.type]){var c=e.name||"",l=Object(s["y"])(Object(s["x"])(c||e.type),Object.keys(a.panes)),u={id:l,name:c,type:e.type,zoom:e.zoom,settings:e.settings,markets:e.markets||[]};u.markets.length||(u.markets=Object.keys(a.marketsListeners)),await Object(o["a"])(l,{},!0,u),n("ADD_PANE",u),i("appendPaneGridItem",{id:u.id,type:u.type}),i("refreshMarketsListeners"),r["default"].nextTick((function(){window.scrollTo(0,document.body.scrollHeight)}))}else this.dispatch("app/showNotice",{title:'Unrecognized pane type "'+e.type+'"',type:"error"});else this.dispatch("app/showNotice",{title:"Invalid addPane options",type:"error"})},removePane:async function(t,e){var n=this,r=t.commit,i=t.state,o=t.dispatch,a=i.panes[e];a&&(o("removePaneGridItems",e),r("REMOVE_PANE",e),o("refreshMarketsListeners"),await Z["a"].removeState(e),setTimeout((function(){n.unregisterModule(e),localStorage.removeItem(e)})))},appendPaneGridItem:function(t,e){for(var n=t.commit,r=t.state,i=e.id,o=e.type,a=Object.keys(r.layouts),s=0,c=a;s<c.length;s++){var l=c[s],u={i:i,type:o};n("ADD_GRID_ITEM",{breakpoint:l,item:u})}},removePaneGridItems:function(t,e){var n=t.commit,r=t.state;for(var i in r.layouts){var o=r.layouts[i].find((function(t){return t.i===e}));if(o){var a=r.layouts[i].indexOf(o);n("REMOVE_GRID_ITEM",{breakpoint:i,index:a})}}},refreshMarketsListeners:async function(t){var e=t.commit,n=t.state,r={},i={};for(var o in n.panes){var a=n.panes[o].markets;if(a){if("counters"===n.panes[o].type||"stats"===n.panes[o].type){var c=Object(s["m"])(a);i[c]||(i[c]=a.map((function(t){return t.replace(":","")})))}var l,u=ot(a);try{for(u.s();!(l=u.n()).done;){var d=l.value;"undefined"===typeof r[d]&&(r[d]=0),r[d]++}}catch(g){u.e(g)}finally{u.f()}}}var p,f=Object.keys(r).concat(Object.keys(n.marketsListeners)).filter((function(t,e,n){return n.indexOf(t)===e})),m=[],y=[],v=ot(f);try{for(v.s();!(p=v.n()).done;){var b=p.value;!n.marketsListeners[b]&&r[b]?m.push(b):n.marketsListeners[b]&&!r[b]&&y.push(b)}}catch(g){v.e(g)}finally{v.f()}await Promise.all([h["a"].connect(m),h["a"].disconnect(y)]),h["a"].dispatch({op:"buckets",data:i}),e("SET_MARKETS_LISTENERS",r)},setMarketsForAll:function(t,e){var n=t.commit,r=t.state,i=t.dispatch;for(var o in r.panes)n("SET_PANE_MARKETS",{id:o,markets:e});i("refreshMarketsListeners")},setMarketsForPane:function(t,e){var n=t.commit,r=t.dispatch,i=e.id,o=e.markets;n("SET_PANE_MARKETS",{id:i,markets:o}),r("refreshMarketsListeners")},attachMarket:function(t,e){var n=t.state,r=t.commit,i=t.dispatch,o=e.id,a=e.market,s=n.panes[o].markets;-1===s.indexOf(a)&&(r("ADD_PANE_MARKET",{id:o,market:a}),i("refreshMarketsListeners"))},detachMarket:function(t,e){var n=t.state,r=t.commit,i=t.dispatch,o=e.id,a=e.market,s=n.panes[o].markets,c=s.indexOf(a);-1!==c&&(r("REMOVE_PAIR_MARKET",{id:o,index:c}),i("refreshMarketsListeners"))},copySettings:function(t,e){var n=t.rootState;if(n[e]){var r=JSON.stringify(n[e]);this.commit("app/SET_PANE_CLIPBOARD",r),this.dispatch("app/showNotice",{title:"Settings added to clipboard ✅"})}else this.dispatch("app/showNotice",{title:"Pane ".concat(e," doesn't exists"),type:"error"})},applySettings:function(t,e){var n=t.rootState,r=e.id,i=e.settings;if(n[r]){for(var o in i)n[r][o]=i[o];this.dispatch("app/showNotice",{title:"Settings have been applied to pane ".concat(r)})}else this.dispatch("app/showNotice",{title:"Pane ".concat(r," doesn't exists"),type:"error"})},duplicatePane:function(t,e){var n=t.state,r=t.rootState,i=t.dispatch;if(n.panes[e]&&r[e]){var o=JSON.parse(JSON.stringify(n.panes[e]));o.settings=JSON.parse(JSON.stringify(r[e])),i("addPane",o),this.dispatch("app/showNotice",{title:"Duplicated pane ".concat(e)})}else this.dispatch("app/showNotice",{title:"Pane ".concat(e," doesn't exists"),type:"error"})},resetPane:async function(t,e){var n,r=t.state,i=t.rootState,a=e.id,c=e.data,l=JSON.parse(JSON.stringify(r.panes[a]));c&&"object"===it(c)&&(n=Object.assign({},i[a],c)),i[a]._booted=!1,await Object(s["w"])(100),this.unregisterModule(a),await Z["a"].removeState(a),n&&await Z["a"].saveState(a,n),await Object(s["w"])(100),await Object(o["a"])(a,{},!0,l)},setZoom:function(t,e){var n=t.commit,r=t.dispatch,i=e.id,o=e.zoom;n("SET_PANE_ZOOM",{id:i,zoom:o}),r("refreshZoom",i)},changeZoom:function(t,e){var n=t.state,r=t.commit,i=t.dispatch,o=e.id,a=e.zoom;a=a?(n.panes[o].zoom||1)+a:1,r("SET_PANE_ZOOM",{id:o,zoom:a}),i("refreshZoom",o)},refreshZoom:function(t,e){var n=t.state,r=n.panes[e].zoom,i=document.getElementById(e);if(i){var o=i.parentElement;o.style.fontSize=r?r+"rem":"",r>1?i.classList.add("-large"):i.classList.remove("-large")}},toggleResponsive:async function(t){var e=t.state,n=t.getters,i=Object.keys(e.layouts),c=Object.keys(e.panes),l=n.currentLayout;if(i.length>1)for(var u in e.layouts)u!==l&&r["default"].delete(e.layouts,u);else{var d=!1;if(Object(s["m"])(c)===Object(s["m"])(["chart","liquidations","trades"])&&(d=await a["a"].confirm({message:"Override current layout with official responsive ?<br>(chart + trades + rekts)",ok:"Yes override",cancel:"Create layouts using this one as base"}),null===d))return!1;if(d)e.layouts={xl:[{i:"chart",type:"chart",x:0,y:0,w:28,h:32,isolated:!0},{i:"trades",type:"trades",x:28,y:0,w:4,h:26,isolated:!0},{i:"liquidations",type:"trades",x:28,y:26,w:4,h:6,isolated:!0}],lg:[{i:"chart",type:"chart",x:0,y:0,w:20,h:24,isolated:!0},{i:"trades",type:"trades",x:20,y:0,w:4,h:20,isolated:!0},{i:"liquidations",type:"trades",x:20,y:20,w:4,h:4,isolated:!0}],md:[{i:"chart",type:"chart",x:0,y:0,w:13,h:16,isolated:!0},{i:"trades",type:"trades",x:13,y:0,w:3,h:14,isolated:!0},{i:"liquidations",type:"trades",x:13,y:14,w:3,h:2,isolated:!0}],sm:[{i:"chart",type:"chart",x:0,y:0,w:12,h:5,isolated:!0},{i:"trades",type:"trades",x:0,y:5,w:8,h:7,isolated:!0},{i:"liquidations",type:"trades",x:8,y:5,w:4,h:7,isolated:!0}],xs:[{i:"chart",type:"chart",x:0,y:0,w:8,h:3,isolated:!0},{i:"trades",type:"trades",x:0,y:3,w:8,h:4,isolated:!0},{i:"liquidations",type:"trades",x:0,y:7,w:8,h:1,isolated:!0}]};else for(var p in rt["c"]){var h=rt["b"][p];if(p!==l){var f,m=h/rt["b"][l],y=JSON.parse(JSON.stringify(e.layouts[l])),v=ot(y);try{for(v.s();!(f=v.n()).done;){var b=f.value;b.x=Math.round(b.x*m),b.y=Math.round(b.y*m),b.w=Math.round(b.w*m),b.h=Math.round(b.h*m)}}catch(g){v.e(g)}finally{v.f()}r["default"].set(e.layouts,p,y)}}}return await Object(o["c"])(e),!0}},dt={ADD_PANE:function(t,e){r["default"].set(t.panes,e.id,e)},REMOVE_PANE:function(t,e){r["default"].delete(t.panes,e)},ADD_GRID_ITEM:function(t,e){var n=e.breakpoint,i=e.item;if("undefined"===typeof i.x){for(var o=rt["b"][n],a=4,s=t.layouts[n].slice().sort((function(t,e){return t.x+2*t.y-(e.x+2*e.y)})),c=[],l=0;l<o;l+=a){var u,d=0,p=ot(s);try{for(p.s();!(u=p.n()).done;){var h=u.value;(h.x>=l&&h.x<l+a||h.x+h.w>l&&h.x+h.w<l+a||h.x<l&&h.x+h.w>=l+a)&&(d=Math.max(d,h.y+h.h))}}catch(v){p.e(v)}finally{p.f()}c.push(d)}if(i.y=Math.min.apply(null,c),i.x=c.indexOf(Math.min.apply(null,c))*a,i.y>=o){var f,m=ot(t.layouts[n]);try{for(m.s();!(f=m.n()).done;){var y=f.value;y.y+=a}}catch(v){m.e(v)}finally{m.f()}i.y=0,i.x=0}i.w=a,i.h=a}t.layouts[n].push(i),r["default"].set(t.layouts,n,t.layouts[n])},REMOVE_GRID_ITEM:function(t,e){var n=e.breakpoint,r=e.index;t.layouts[n].splice(r,1)},UPDATE_ITEM:function(t,e){var n=e.breakpoint,r=e.item,i=rt["b"][n];for(var o in t.layouts){var a=t.layouts[o].find((function(t){return r.i===t.i})),s=rt["b"][o],c=s/i,l=1===c;!l&&a.isolated||(a.x=Math.floor(r.x*c),a.y=Math.floor(r.y*c),a.w=Math.floor(r.w*c),a.h=Math.floor(r.h*c),l&&!a.isolated&&(a.isolated=!0))}},SET_MARKETS_LISTENERS:function(t,e){t.marketsListeners=e},SET_PANE_MARKETS:function(t,e){var n=e.id,r=e.markets;t.panes[n].markets=r},REMOVE_PAIR_MARKET:function(t,e){var n=e.id,r=e.index;t.panes[n].markets.splice(r,1)},ADD_PAIR_MARKET:function(t,e){var n=e.id,r=e.market;t.panes[n].markets.push(r)},SET_PANE_NAME:function(t,e){var n=e.id,r=e.name;t.panes[n].name=r},SET_PANE_ZOOM:function(t,e){var n=e.id,i=e.zoom;r["default"].set(t.panes[n],"zoom",i)}},pt={namespaced:!0,state:ct,getters:lt,actions:ut,mutations:dt};r["default"].use(i["a"]);var ht=new i["a"].Store({}),ft={app:L,settings:q,exchanges:Y,panes:pt};async function mt(t,e){if(await Object(s["t"])(!0),ht.state.app){ht.dispatch("app/setBooted",!1),await Object(s["t"])("unloading ".concat(e)),await Object(s["w"])(100);var n=Object.keys(ht.state.panes.marketsListeners);for(var r in n.length&&await h["a"].disconnect(n),ht.state)ht.unregisterModule(r)}for(var i in await Object(s["t"])("loading core module"),Object(o["a"])("app",ft["app"]),await Object(s["w"])(10),await ht.dispatch("app/boot"),await Object(s["t"])("setting up workspace"),Object(o["a"])("settings",ft["settings"]),await Object(s["w"])(10),await ht.dispatch("settings/boot"),await Object(s["t"])("loading panes"),Object(o["a"])("panes",ft["panes"]),await Object(s["w"])(10),await ht.dispatch("panes/boot"),ht.state.panes.panes)await Object(s["t"])("registering pane module ".concat(i)),await Object(o["a"])(i,{},!1,ht.state.panes.panes[i]);for(var a in ht.dispatch("app/setBooted"),await Object(s["t"])("registering exchanges"),await Object(o["a"])("exchanges",ft["exchanges"]),ht.state.panes.panes){await Object(s["t"])("booting module ".concat(a));try{await ht.dispatch(a+"/boot")}catch(c){}}await Object(s["t"])("loading exchanges"),await ht.dispatch("exchanges/boot"),await Object(s["t"])(!1)}ht.subscribe((function(t,e){var n=t.type.split("/")[0];e[n]&&e[n]._id&&Object(o["b"])(e[n])}));e["b"]=ht},"06c2":function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return k}));var r=n("0613"),i=n("28f3"),o=n("a914"),a=n("be31");function s(t){return u(t)||l(t)||y(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function u(t){if(Array.isArray(t))return v(t)}function d(t,e){return f(t)||h(t,e)||y(t,e)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(t){if(Array.isArray(t))return t}function m(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=y(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(t,e){if(t){if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){t.timestamp=+new Date,a["a"].saveProducts(t)}async function g(t,e){var n=[];e&&(n=Array.isArray(e)?e:e.products),r["b"].dispatch("exchanges/indexExchangeProducts",{exchange:t,symbols:n||[]})}async function _(t,e){Array.isArray(e)||(e=[e]);var n,r=[],i=m(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.split("|"),c=d(s,2),l=c[0],u=c[1];u||(u="GET"),l="https://cors.aggr.trade/"+l;try{var p=await fetch(l,{method:u}).then((function(t){return t.json()}));r[e.indexOf(a)]=p}catch(f){r[e.indexOf(a)]=null}}}catch(y){i.e(y)}finally{i.f()}if(-1!==r.indexOf(null)?r=null:1===r.length&&(r=r[0]),r){var h=await o["a"].dispatchAsync({op:"format-products",data:{exchange:t,data:r}});return h?(g(t,h),b({exchange:t,data:h}),h):null}return null}async function C(t,e){var n,o=await a["a"].getProducts(t);if(o&&+new Date-o.timestamp<6048e5)n=o.data;else{if(!e)return null;Object(i["t"])("fetching ".concat(t,"'s products")),n=await _(t,e)}return n&&(r["b"].state.exchanges[t].fetched||r["b"].commit("exchanges/SET_FETCHED",t),g(t,n)),n}async function k(){var t,e=(t=Array.prototype).concat.apply(t,s(Object.values(r["b"].state.app.indexedProducts))).length;r["b"].dispatch("app/showNotice",{id:"fetch-products",type:"success",title:"".concat(e," markets indexed 🔥")})}},"09b7":function(t,e,n){},"0c01":function(t,e,n){"use strict";var r=n("2b0e"),i=n("0613"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"-picker",attrs:{mask:!1,"header-background":t.currentColor},on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[t._v(t._s(t.title))])])]},proxy:!0}])},[n("Picker",{attrs:{mode:t.picker,alpha:t.alpha},model:{value:t.currentColor,callback:function(e){t.currentColor=e},expression:"currentColor"}}),n("div",{staticClass:"verte__controller"},[t.enableAlpha?n("Slider",{staticClass:"-alpha",attrs:{gradient:["rgba("+t.rgb.red+", "+t.rgb.green+", "+t.rgb.blue+", 0)","rgba("+t.rgb.red+", "+t.rgb.green+", "+t.rgb.blue+", 1)"],min:0,max:1,step:.01,editable:!1,value:t.alpha,showCompletion:!1},model:{value:t.alpha,callback:function(e){t.alpha=e},expression:"alpha"}}):t._e(),t.rgbSliders?[n("Slider",{attrs:{gradient:["rgb(0,"+t.rgb.green+","+t.rgb.blue+")","rgb(255,"+t.rgb.green+","+t.rgb.blue+")"]},model:{value:t.rgb.red,callback:function(e){t.$set(t.rgb,"red",e)},expression:"rgb.red"}}),n("Slider",{attrs:{gradient:["rgb("+t.rgb.red+",0,"+t.rgb.blue+")","rgb("+t.rgb.red+",255,"+t.rgb.blue+")"]},model:{value:t.rgb.green,callback:function(e){t.$set(t.rgb,"green",e)},expression:"rgb.green"}}),n("Slider",{attrs:{gradient:["rgb("+t.rgb.red+","+t.rgb.green+",0)","rgb("+t.rgb.red+","+t.rgb.green+",255)"]},model:{value:t.rgb.blue,callback:function(e){t.$set(t.rgb,"blue",e)},expression:"rgb.blue"}})]:t._e(),n("div",{staticClass:"verte__inputs mt8"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -accent",attrs:{type:"button",title:"Rotate"},on:{click:t.switchModel}},[n("i",{staticClass:"icon-refresh"})]),n("editable",{attrs:{content:t.typedColor},on:{output:function(e){return t.inputChanged(e)}}}),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -accent",attrs:{type:"button",title:"Save color"},on:{click:t.submit}},[n("i",{staticClass:"icon-check"})])],1),t.showPalette?n("div",{ref:"recent",staticClass:"verte__recent"},t._l(t.colors,(function(e){return n("a",{key:e,staticClass:"verte__recent-color",style:"color: "+e,attrs:{role:"button",href:"#"},on:{click:function(n){return n.preventDefault(),t.selectColor(e)}}})})),0):t._e(),t.showHistory?n("div",{ref:"recent",staticClass:"verte__recent"},t._l(t.historySource,(function(e){return n("a",{key:e,staticClass:"verte__recent-color",style:"color: "+e,attrs:{role:"button",href:"#"},on:{click:function(n){return n.preventDefault(),t.selectColor(e)}}})})),0):t._e()],2)],1)},a=[],s=n("bea1"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"picker",staticClass:"verte-picker",class:"verte-picker--"+t.mode},[n("div",{ref:"origin",staticClass:"verte-picker__origin"},[n("canvas",{ref:"canvas",staticClass:"verte-picker__canvas",on:{mousedown:t.handleSelect,touchstart:t.handleSelect}}),n("div",{ref:"cursor",staticClass:"verte-picker__cursor",style:"transform: translate3d("+t.cursor.x+"px, "+t.cursor.y+"px, 0)"})]),"square"===t.mode?n("slider",{staticClass:"verte-picker__slider",attrs:{showCompletion:!1,gradient:["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],editable:!1,max:360},model:{value:t.currentHue,callback:function(e){t.currentHue=e},expression:"currentHue"}}):t._e(),"wheel"===t.mode?n("slider",{staticClass:"verte-picker__slider",attrs:{showCompletion:!1,gradient:["hsl("+t.currentColor.hue+",0%,"+t.currentColor.lum+"%)","hsl("+t.currentColor.hue+",100%,"+t.currentColor.lum+"%)"],editable:!1,max:100},model:{value:t.currentSat,callback:function(e){t.currentSat=e},expression:"currentSat"}}):t._e()],1)},l=[],u=n("7ab0"),d=n("724c");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={name:"VertePicker",components:{Slider:u["a"]},props:{edge:{type:Number,default:250},diameter:{type:Number,default:250},satSlider:{type:Boolean,default:!0},alpha:{type:Number,default:1},value:{type:String,default:"#fff"}},data:function(){return{mode:"square",currentHue:0,currentSat:0,currentColor:"",cursor:{},preventUpdating:!1,preventEcho:!1}},watch:{value:function(t){this.preventUpdating?this.preventUpdating=!1:this.handleValue(t,!0)},currentSat:function(){this.updateWheelColors(),this.updateColor()},currentHue:function(){this.updateSquareColors(),this.updateColor()}},methods:{initSquare:function(){var t=this.edge;this.$refs.canvas.width=t,this.$refs.canvas.height=t-100,this.ctx=this.$refs.canvas.getContext("2d"),this.updateSquareColors()},initWheel:function(){this.$refs.canvas.width=this.diameter,this.$refs.canvas.height=this.diameter,this.ctx=this.$refs.canvas.getContext("2d"),this.circle={path:new Path2D,xCords:this.diameter/2,yCords:this.diameter/2,radius:this.diameter/2},this.circle.path.moveTo(this.circle.xCords,this.circle.yCords),this.circle.path.arc(this.circle.xCords,this.circle.yCords,this.circle.radius,0,360),this.circle.path.closePath(),this.updateWheelColors()},handleValue:function(t){var e=this.pickerRect,n=e.width,r=e.height;if(this.currentColor=Object(s["j"])(t),this.preventEcho=!0,"wheel"===this.mode){var i=(100-this.currentColor.lum)*(this.diameter/200),o=this.diameter/2,a=Object(d["b"])(i,this.currentColor.hue/360);this.cursor={x:a.x+o,y:a.y+o},this.currentSat=this.currentColor.sat}if("square"===this.mode){var c=this.currentColor.sat/100*n,l=(100-this.currentColor.lum)/100*r;this.cursor={x:c,y:l},this.currentHue=this.currentColor.hue}},updateCursorPosition:function(t){var e=t.x,n=t.y,r=this.pickerRect,i=r.left,o=r.top,a=r.width,s=r.height,c={x:Math.min(Math.max(e-i,0),a),y:Math.min(Math.max(n-o,0),s)};("wheel"!==this.mode||this.ctx.isPointInPath(this.circle.path,c.x,c.y))&&(this.cursor=c,this.updateColor())},updateColor:function(){this.preventEcho?this.preventEcho=!1:(this.currentColor=this.getCanvasColor(),this.preventUpdating=!0,this.$emit("change",this.currentColor),this.$emit("input",this.currentColor))},updateWheelColors:function(){if(this.circle){var t=this.pickerRect,e=t.width,n=t.height,r=this.circle.xCords,i=this.circle.yCords,o=this.circle.radius,a=this.satSlider?this.currentSat:100;this.ctx.clearRect(0,0,e,n);for(var s=0;s<360;s+=1){var c=this.ctx.createRadialGradient(r,i,0,r,i,o),l=(s-2)*Math.PI/180,u=(s+2)*Math.PI/180;this.ctx.beginPath(),this.ctx.moveTo(r,i),this.ctx.arc(r,i,o,l,u),this.ctx.closePath(),c.addColorStop(0,"hsl(".concat(s,", ").concat(a,"%, 100%)")),c.addColorStop(.5,"hsl(".concat(s,", ").concat(a,"%, 50%)")),c.addColorStop(1,"hsl(".concat(s,", ").concat(a,"%, 0%)")),this.ctx.fillStyle=c,this.ctx.fill()}}},updateSquareColors:function(){var t=this.pickerRect,e=t.width,n=t.height;this.ctx.clearRect(0,0,e,n),this.ctx.fillStyle="hsl(".concat(this.currentHue,", 100%, 50%)"),this.ctx.fillRect(0,0,e,n);var r=this.ctx.createLinearGradient(0,0,e,0);r.addColorStop(0,"hsl(0, 0%, 50%)"),r.addColorStop(1,"hsla(0, 0%, 0%, 0)"),this.ctx.fillStyle=r,this.ctx.fillRect(0,0,e,n);var i=this.ctx.createLinearGradient(0,0,0,n);i.addColorStop(0,"hsl(0, 0%, 100%)"),i.addColorStop(.5,"hsla(0, 0%, 100%, 0)"),i.addColorStop(.5,"hsla(0, 0%, 0%, 0)"),i.addColorStop(1,"hsl(0, 0%, 0%) "),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,e,n)},getCanvasColor:function(){var t=this.cursor,e=t.x,n=t.y,r=0,i=0,o=0;if("wheel"===this.mode){var a=this.diameter/2,c=e-a,l=-1*(n-a),u=Object(d["e"])(c,l),p=u.r,h=u.theta;i=100*(a-p)/a,o=~Math.sign(h)?360-h:-h,r=this.currentSat}if("square"===this.mode){var f=this.pickerRect,m=f.width,y=f.height;r=100*e/m,i=100-100*n/y,o=this.currentHue}return Object(s["h"])(Object(s["b"])({alpha:this.alpha,hue:Math.round(o),sat:Math.round(r),lum:Math.round(i)}))},handleSelect:function(t){var e=this;t.preventDefault(),this.pickerRect=this.$refs.canvas.getBoundingClientRect(),this.updateCursorPosition(Object(d["d"])(t));var n=function(t){window.requestAnimationFrame((function(){e.updateCursorPosition(Object(d["d"])(t))}))},r=function t(){document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),document.removeEventListener("mouseup",t),document.removeEventListener("touchend",t)};document.addEventListener("mousemove",n),document.addEventListener("touchmove",n),document.addEventListener("mouseup",r),document.addEventListener("touchend",r)}},mounted:function(){var t=this;this.$nextTick((function(){t.pickerRect=h(h({},t.$refs.canvas.getBoundingClientRect()),{},{width:t.$refs.canvas.clientWidth,height:t.$refs.canvas.clientHeight}),"wheel"===t.mode&&t.initWheel(),"square"===t.mode&&t.initSquare(),t.$nextTick((function(){t.handleValue(t.value)}))}))}},y=m,v=(n("e0d0"),n("2877")),b=Object(v["a"])(y,c,l,!1,null,null,null),g=b.exports,_=n("fa07"),C=n("7250"),k=n("1ea0"),w={name:"Verte",mixins:[k["a"]],components:{Dialog:C["a"],Picker:g,Slider:u["a"]},props:{picker:{type:String,default:"square",validator:Object(d["f"])("picker",["wheel","square"])},value:{type:String,default:"#000"},title:{type:String,default:"Colorpicker"},model:{type:String,default:"rgb",validator:Object(d["f"])("model",["rgb","hex","hsl"])},display:{type:String,default:"picker",validator:Object(d["f"])("display",["picker","widget"])},menuPosition:{type:String,default:"bottom",validator:Object(d["f"])("menuPosition",["top","bottom","left","right","center"])},showHistory:{type:Boolean,default:!0},showPalette:{type:Boolean,default:!0},colorHistory:{type:Array,default:null},enableAlpha:{type:Boolean,default:!0},rgbSliders:{type:Boolean,default:!1}},data:function(){return{rgb:Object(s["k"])("#000"),hex:Object(s["i"])("#000"),hsl:Object(s["j"])("#000"),delta:{x:0,y:0},type:"rgb",internalColorHistory:[]}},beforeDestroy:function(){document.getElementById("app").classList.remove("-picking-color")},computed:{colors:function(){return _["a"]},historySource:function(){return this.$store.state.settings.recentColors},currentColor:{get:function(){return this[this.model],"rgb"===this.model?Object(s["c"])(this[this.model]):"hsl"===this.model?Object(s["b"])(this[this.model]):"hex"===this.model?Object(s["a"])(this[this.model]):""},set:function(t){this.selectColor(t)}},typedColor:function(){return"rgb"===this.type?Object(s["c"])(this[this.type]):"hsl"===this.type?Object(s["b"])(this[this.type]):"hex"===this.type?Object(s["a"])(this[this.type]):this.currentColor},alpha:{get:function(){return this[this.model]?isNaN(this[this.model].alpha)?1:this[this.model].alpha:1},set:function(t){this[this.model].alpha=t,this.selectColor(this[this.model])}}},watch:{value:function(t,e){t!==e&&t!==this.currentColor&&this.selectColor(t)}},created:function(){this.selectColor(this.value||"#000",!0),document.getElementById("app").classList.add("-picking-color")},methods:{selectColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t;if("string"===typeof t&&6===t.length&&(t="#"+t),Object(s["e"])(t))n="string"===typeof t?t:Object(s["b"])(t);else if(Object(s["f"])(t))n="string"===typeof t?t:Object(s["c"])(t);else{if(!Object(s["d"])(t))return;n="string"===typeof t?t:Object(s["a"])(t)}this.rgb=Object(s["k"])(n),this.hex=Object(s["i"])(n),this.hsl=Object(s["j"])(n),e||this.$emit("input",this.currentColor)},switchModel:function(){var t=["hex","rgb","hsl"],e=t.indexOf(this.type);this.type=t[e+1]||t[0]},submit:function(){this.$emit("beforeSubmit",this.currentColor),this.addColorToHistory(this.currentColor),this.$emit("input",this.currentColor),this.$emit("submit",this.currentColor)},addColorToHistory:function(t){this.$store.dispatch("settings/addRecentColor",t)},inputChanged:function(t){this.selectColor(t),this.type=Object(s["l"])(t)}}},O=w,S=Object(v["a"])(O,o,a,!1,null,null,null),E=S.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[t._v(t._s(t.title))])]},proxy:!0}])},[n("p",{staticClass:"mx0",domProps:{innerHTML:t._s(t.message)}}),n("footer",[t.cancel?n("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.cancel)},on:{click:function(e){return t.close(!1)}}}):t._e(),n("button",{staticClass:"btn -green -large",on:{click:function(e){return t.close(!0)}}},[n("i",{staticClass:"icon-check mr4"}),t._v(" "+t._s(t.ok))])])])},T=[],x={props:{title:{type:String,default:"Confirmation"},message:{type:String,required:!0},ok:{type:String,default:"OK"},cancel:{type:String,default:"Cancel"}},mixins:[k["a"]],data:function(){return{}},methods:{}},A=x,P=Object(v["a"])(A,I,T,!1,null,null,null),R=P.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[t._v(t._s(t.action))])]},proxy:!0}])},[t.question?n("p",{staticClass:"mx0"},[t._v(t._s(t.question))]):t._e(),n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",staticClass:"form-control w-100",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),n("footer",[n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),n("button",{staticClass:"btn -green ml8 -large",attrs:{type:"submit"}},[n("i",{staticClass:"icon-check mr4"}),t._v(" Submit")])])])])},D=[],N={props:{question:{type:String},action:{type:String,required:!0},input:{type:String,default:""}},mixins:[k["a"]],data:function(){return{value:""}},created:function(){this.input&&this.input.length&&(this.value=this.input)},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.input.focus()}))},methods:{submit:function(){this.close(this.value)}}},L=N,B=Object(v["a"])(L,j,D,!1,null,null,null),M=B.exports;function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e,n){return e&&U(t.prototype,e),n&&U(t,n),t}var H=function(){function t(){$(this,t),this.mountedComponents={}}return F(t,[{key:"createComponent",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,s=r["default"].extend(Object.assign({store:i["b"]},t)),c=new s(Object.assign({},{propsData:Object.assign({},n),destroyed:function(){a&&e.mountedComponents[a]--,e.pickerInstance===c&&delete e.pickerInstance,"function"===typeof o&&o(c.output)}}));return a&&!this.mountedComponents[a]&&(this.mountedComponents[a]=0),this.mountedComponents[a]++,c}},{key:"openAsPromise",value:async function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return new Promise((function(i){t=e.createComponent(t,n,i,r),e.mountDialog(t)}))}},{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t=this.createComponent(t,e,null,n),this.mountDialog(t),t}},{key:"mountDialog",value:function(t){var e=document.getElementById("app")||document.body;e.appendChild(t.$mount().$el)}},{key:"isDialogOpened",value:function(t){return!!this.mountedComponents[t]}},{key:"openPicker",value:function(t,e,n){return this.pickerInstance?(this.pickerInstance.selectColor(t,!0),"undefined"!==typeof n&&(this.pickerInstance.title=n),this.pickerInstance.$off("input")):this.pickerInstance=this.open(E,{value:t,title:n}),"function"===typeof e&&this.pickerInstance.$on("input",e),this.pickerInstance}},{key:"confirm",value:async function(t){if(t&&("string"===typeof t&&(t={message:t}),t.message))return this.openAsPromise(R,t)}},{key:"prompt",value:async function(t){if(t&&("string"===typeof t&&(t={action:t}),t.action))return this.openAsPromise(M,t)}}]),t}();e["a"]=new H},"15a7":function(t,e,n){"use strict";n("3596")},"1e89":function(t,e,n){"use strict";n("423d")},"1ea0":function(t,e,n){"use strict";var r=n("7250");e["a"]={components:{Dialog:r["a"]},data:function(){return{preventClickOutside:!1,output:null}},created:function(){},methods:{close:function(t){if(this._isDestroyed,!this.preventClose){"undefined"!==typeof t&&null!==t&&(this.output=t),this.$destroy();try{this.$el.parentNode.removeChild(this.$el)}catch(e){}return Promise.resolve()}}}}},2818:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[t._v("BUCKET")]),n("div",{staticClass:"subtitle"},[t._v(t._s(t.name))])]),n("dropdown",{staticClass:"form-control -left -center w-auto",attrs:{selected:t.type,label:"Type",options:t.availableTypes,placeholder:"type"},on:{output:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"type",value:e})}}})]},proxy:!0}])},[n("div",{staticClass:"column mb8"},[n("div",{staticClass:"form-group  -fill"},[n("label",[t._v("Name")]),n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){return t.$store.dispatch(t.paneId+"/renameBucket",{id:t.bucketId,name:e.target.value})}}})]),t.conditionnalColor?t._e():n("div",{ref:"colorContainer",staticClass:"form-group -end mtauto -tight"},[n("verte",{attrs:{picker:"square",menuPosition:"left",model:"rgb",value:t.color},on:{input:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"color",value:e})}}})],1),"histogram"===t.type?n("div",{staticClass:"form-group -tight -end mtauto"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input -auto flex-right",attrs:{title:"Enable onditionnal color"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.conditionnalColor},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_BUCKET_COLOR_CONDITION",t.bucketId)}}}),n("div",{attrs:{on:"dynamic",off:"fixed"}})])]):t._e()]),t.conditionnalColor?n("div",{staticClass:"form-group mb8"},[n("label",{attrs:{for:""}},[t._v("Color condition "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"eg: value > 0 ? 'red' : 'white'"}})]),n("textarea",{staticClass:"form-control",attrs:{rows:"2",spellcheck:"false"},domProps:{value:t.color},on:{change:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"color",value:e.target.value})}}})]):t._e(),n("div",{staticClass:"column"},[n("div",{staticClass:"form-group mb8"},[n("label",[t._v(" Window (m) "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Sum over given interval (eg: 30s or 10m or 1h)"}})]),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.getHms(t.$store.state[t.paneId].window)+" (default)"},domProps:{value:t.window},on:{change:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"window",value:e.target.value})}}})]),n("div",{staticClass:"form-group mb8"},[n("label",[t._v(" Precision "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Decimal precision"}})]),n("editable",{staticClass:"form-control",attrs:{placeholder:"auto",content:t.precision},on:{output:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"precision",value:e})}}})],1)]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("Value "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"/!\\Javascript syntax/!\\<br>use build in variable such as vbuy/vsell (volume) cbuy/csell (trade count) lbuy/lsell (liquidation volume)"}})]),n("textarea",{staticClass:"form-control",attrs:{rows:"5",spellcheck:"false"},domProps:{value:t.input},on:{change:function(e){return t.$store.dispatch(t.paneId+"/updateBucket",{id:t.bucketId,prop:"input",value:e.target.value})}}}),n("p",{staticClass:"help-text mt-8"},[t._v(" Sum "),n("code",[t._v(t._s(t.input))]),t._v(" over "+t._s(t.window)+" window ")])]),n("hr"),n("div",{staticClass:"column"},[n("div",{staticClass:"form-group"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control",attrs:{title:t.enabled?"Disable":"Enable"},on:{change:function(e){return t.disable(t.bucketId,e)}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.enabled}}),n("div"),n("span",[t._v(" "+t._s(t.enabled?"Active":"Disabled")+" ")])])]),n("button",{staticClass:"btn -red",on:{click:t.remove}},[n("i",{staticClass:"icon-trash"})])])])},i=[],o=n("0613"),a=n("28f3"),s=n("7250"),c=n("1ea0"),l={props:["paneId","bucketId"],mixins:[c["a"]],components:{Dialog:s["a"]},computed:{color:function(){return o["b"].state[this.paneId].buckets[this.bucketId].color},conditionnalColor:function(){return"undefined"===typeof o["b"].state[this.paneId].buckets[this.bucketId].conditionnalColor&&this.$set(o["b"].state[this.paneId].buckets[this.bucketId],"conditionnalColor",!1),o["b"].state[this.paneId].buckets[this.bucketId].conditionnalColor},enabled:function(){return o["b"].state[this.paneId].buckets[this.bucketId].enabled},name:function(){return o["b"].state[this.paneId].buckets[this.bucketId].name},type:function(){return o["b"].state[this.paneId].buckets[this.bucketId].type},input:function(){return o["b"].state[this.paneId].buckets[this.bucketId].input},precision:function(){return o["b"].state[this.paneId].buckets[this.bucketId].precision||null},window:function(){var t=o["b"].state[this.paneId].buckets[this.bucketId].window;return t?Object(a["n"])(t):null}},data:function(){return{availableTypes:{line:"Line",area:"Area",histogram:"Histogram"}}},methods:{getHms:function(t){return Object(a["n"])(t)},disable:function(t,e){this.$store.dispatch(this.paneId+"/updateBucket",{id:t,prop:"enabled",value:e.target.checked}),this.close()},remove:async function(){await this.close(),this.$store.commit(this.paneId+"/REMOVE_BUCKET",this.bucketId)}}},u=l,d=n("2877"),p=Object(d["a"])(u,r,i,!1,null,null,null);e["a"]=p.exports},"28f3":function(t,e,n){"use strict";n.d(e,"u",(function(){return o})),n.d(e,"i",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"k",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"n",(function(){return u})),n.d(e,"v",(function(){return d})),n.d(e,"y",(function(){return p})),n.d(e,"l",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"x",(function(){return m})),n.d(e,"g",(function(){return y})),n.d(e,"w",(function(){return v})),n.d(e,"m",(function(){return b})),n.d(e,"s",(function(){return g})),n.d(e,"t",(function(){return _})),n.d(e,"q",(function(){return C})),n.d(e,"h",(function(){return k})),n.d(e,"r",(function(){return w})),n.d(e,"c",(function(){return O})),n.d(e,"j",(function(){return S})),n.d(e,"b",(function(){return I})),n.d(e,"d",(function(){return T})),n.d(e,"p",(function(){return x})),n.d(e,"o",(function(){return A}));var r=n("0c01"),i=n("0613");var o={text:""};function a(t,e){var n=t<0;return t=Math.abs(t),t=t>=1e6?+(t/1e6).toFixed(isNaN(e)?1:e)+"M":t>=1e5?+(t/1e3).toFixed(isNaN(e)?0:e)+"K":t>=1e3?+(t/1e3).toFixed(isNaN(e)?1:e)+"K":+t.toFixed(4),n?"-"+t:t}function s(t){return Math.floor(t)===t?0:t.toString().split(".")[1].length||0}function c(t){return t=+t||0,i["b"].state.settings.decimalPrecision?t.toFixed(i["b"].state.settings.decimalPrecision):i["b"].state.app.optimalDecimal?t.toFixed(i["b"].state.app.optimalDecimal):t.toFixed(2)}function l(t){var e,n,r=Math.floor((+new Date-t)/1e3);return n=(e=Math.floor(r/31536e3))>1?e+"y":(e=Math.floor(r/2592e3))>=1?e+"m":(e=Math.floor(r/86400))>=1?e+"d":(e=Math.floor(r/3600))>=1?e+"h":(e=Math.floor(r/60))>=1?e+"m":Math.ceil(r)+"s",n}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(isNaN(t)||null===t)return null;var n=t<0?"-":"";t=Math.abs(t);var r=Math.floor(t/1e3/3600),i=Math.floor(t/1e3%3600/60),o=Math.floor(t/1e3%3600%60),a="";return a+=e&&a.length||!(r>0)?"":n+r+"h"+(!e&&i?", ":""),a+=e&&a.length||!(i>0)?"":n+i+"m"+(!e&&o?", ":""),a+=e&&a.length||!(o>0)?"":n+o+"s",(!a.length||!e&&t<6e4&&t>1e3*o)&&(a+=(a.length?", ":"")+n+(t-1e3*o)+"ms"),a.trim()}function d(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyz0123456789",n="",r=e.length,i=0;i<t;i++)n+=e.charAt(Math.floor(Math.random()*r));return n}function p(t,e){var n=t.substr(),r=1;while(-1!==e.indexOf(t))t=n+ ++r;return t}function h(t){var e=new Date(1e3*t);return e.getDate()+"/"+(e.getMonth()+1)+" "+e.toTimeString().split(" ")[0]}var f=function t(e,n,r){if(1!==n.length){if(0===n.length)throw"error";return e[n[0]]||(e[n[0]]={}),t(e[n[0]],n.slice(1),r)}e[n[0]]=r},m=function(t){var e="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",r=new RegExp(e.split("").join("|"),"g");return t.toString().toLowerCase().replace(/\s+/g,"-").replace(r,(function(t){return n.charAt(e.indexOf(t))})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},y=function(t,e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()};function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){setTimeout((function(){return e()}),t)}))}function b(t){return t.map((function(t){return t.replace(/[^a-zA-Z]+/gi,"")})).sort((function(t,e){return t.localeCompare(e)})).join("")}function g(t){return t.match(/([^:]*):(.*)/).slice(1,3)}async function _(t){o.text=!1===t?null:t}function C(t,e){for(var n=atob(t),r=new Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);var o=new Uint8Array(r),a=new Blob([o],{type:e+";base64"}),s=URL.createObjectURL(a);window.open(s)}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/\(/,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:/\)/;if(!n.test(t[e]))throw new Error("No "+n.toString()+" at index "+e);for(var i=1,o=e+1;o<t.length;o++)if(r.test(t[o])){if(0==--i)return o}else n.test(t[o])&&i++;return-1}function w(t){var e,n=/\(|{|\[/g,r=0;do{if(e=n.exec(t)){r++;var i=k(t,e.index,/\(|{|\[/,/\)|}|\]/),o=t.slice(e.index+1,i).replace(/,/g,"#COMMA#");t=t.slice(0,e.index+1)+o+t.slice(i,t.length)}}while(e&&r<10);if(r>=10)throw new Error("maxiumum parseFunctionArguments iteration reached");return t.split(",").map((function(t){return t.trim().replace(/#COMMA#/g,",")}))}function O(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var n=1024,r=e<0?0:e,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,o)).toFixed(r))+" "+i[o]}function E(t){var e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(n){}document.body.removeChild(e)}function I(){var t=document.createElement("input");return t.type="file",new Promise((function(e){t.onchange=function(t){if(!t.target.files.length)throw new Error("Invalid selection");var n=t.target.files[0],i=new FileReader;i.readAsText(n,"UTF-8"),i.onload=async function(t){return r["a"].confirm({title:"Disclaimer",message:"Aggr disclaims all liability for damages , consequential or otherwise,<br>arising out of or in connection with the current import.",ok:"I understand",cancel:"Cancel import"}).then((function(n){if(!n)throw new Error("Rejected disclaimer");e(t.target.result)}))}},t.click()}))}function T(t){return navigator.clipboard?navigator.clipboard.writeText(t):(E(t),Promise.resolve())}function x(t){var e=t.toString().trim();return"t"===e[e.length-1]?parseInt(e)+" TICKS":isNaN(e)?null:u(1e3*e)}function A(t){if(null==t)return null;if("app"===t.id)return t;var e=window.getComputedStyle(t).overflowY,n="visible"!==e&&"hidden"!==e;return n&&t.scrollHeight>t.clientHeight?t:A(t.parentNode)}},"29d8":function(t,e,n){},"2da9":function(t,e,n){},3252:function(t,e,n){"use strict";n("2da9")},3596:function(t,e,n){},3642:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SerieBuilder}));var _serieUtils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("68e0"),_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("0613"),_utils_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("28f3"),_chartOptions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("5a23");function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"===typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var VARIABLE_REGEX=/(?:^|\n)([a-zA-Z0_9_]+)\(?(\d*)\)?\s*=\s*([^;,]*)?/,VARIABLES_VAR_NAME="vars",FUNCTIONS_VAR_NAME="fns",SERIE_TYPES={candlestick:"ohlc",bar:"ohlc",line:"number",histogram:"number",area:"number",cloudarea:"range"},SerieBuilder=function(){function SerieBuilder(){_classCallCheck(this,SerieBuilder)}return _createClass(SerieBuilder,[{key:"build",value:function(t,e,n){this.paneId=n,this.indicatorId=t.id,this.serieIndicatorsMap=e,this.markets=[];var r,i=_createForOfIteratorHelper(_store__WEBPACK_IMPORTED_MODULE_1__["b"].state.panes.panes[this.paneId].markets);try{for(i.s();!(r=i.n()).done;){var o=r.value;-1===this.markets.indexOf(o)&&this.markets.push(o)}}catch(_){i.e(_)}finally{i.f()}var a,s=this.parse(t.script),c=_createForOfIteratorHelper(s.functions);try{for(c.s();!(a=c.n()).done;){var l=a.value;this.determineFunctionState(l)}}catch(_){c.e(_)}finally{c.f()}var u,d=_createForOfIteratorHelper(s.variables);try{for(d.s();!(u=d.n()).done;){var p=u.value;this.determineVariableState(p)}}catch(_){d.e(_)}finally{d.f()}var h,f=this.test(s,t.options),m=_createForOfIteratorHelper(s.functions);try{for(m.s();!(h=m.n()).done;){var y=h.value;this.determineFunctionState(y)}}catch(_){m.e(_)}finally{m.f()}var v,b=_createForOfIteratorHelper(s.variables);try{for(b.s();!(v=b.n()).done;){var g=v.value;this.determineVariableState(g)}}catch(_){b.e(_)}finally{b.f()}return{output:s.output,functions:s.functions,variables:s.variables,references:s.references,markets:s.markets,plots:s.plots,type:f}}},{key:"normalizeInput",value:function(t){return t=t.replace(/([^.])?\b(bar)\b/gi,"$1renderer"),t=t.replace(/([^.]|^)\b(vbuy|vsell|cbuy|csell|lbuy|lsell)\b/gi,"$1renderer.bar.$2"),t=t.replace(/([^.]|^)\b(time)\b\s*([^:])/gi,"$1renderer.localTimestamp$3"),t=t.replace(/[^\S\r\n]/g,""),t}},{key:"determineFunctionState",value:function(t){if(_typeof(_serieUtils__WEBPACK_IMPORTED_MODULE_0__[t.name])&&"object"===_typeof(_serieUtils__WEBPACK_IMPORTED_MODULE_0__[t.name])){t.persistence=[],t.state={};var e=["count","points","sum"];for(var n in _serieUtils__WEBPACK_IMPORTED_MODULE_0__[t.name]){try{t.state[n]=JSON.parse(JSON.stringify(_serieUtils__WEBPACK_IMPORTED_MODULE_0__[t.name][n]))}catch(r){t.state[n]=_serieUtils__WEBPACK_IMPORTED_MODULE_0__[t.name]}-1===e.indexOf(n)&&t.persistence.push(n)}}else t.state={}}},{key:"determineVariableState",value:function(t){t.length>1?t.state=[]:t.state=0}},{key:"parse",value:function(t){var e=[],n=[],r=[],i={},o=[],a=this.normalizeInput(t);return a=this.parseVariables(a,n),a=this.parseFunctions(a,e,r),a=this.parseMarkets(a,i),a=this.parseReferences(a,o,r),a=this.formatOutput(a),{output:a,functions:e,variables:n,plots:r,markets:i,references:o}}},{key:"formatOutput",value:function(t){var e,n=/\(|{|\[/g;do{if(e=n.exec(t)){var r="("===e[0],i=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_2__["h"])(t,e.index,/\(|{|\[/,/\)|}|\]/),o=t.slice(e.index+1,i).replace(/\n/g," ");/if|for/.test(t.slice(e.index-2,2))&&(t=t.slice(0,e.index)+t.slice(e.index,e.index+1)+o+t.slice(i,i+1)+(r?"\n":"")+t.slice(i+1,t.length)),n.lastIndex=i}}while(e);for(var a=t.trim().split(/\n/),s=0;s<a.length;s++){var c=a[s].match(/renderer.sources\['[\w/:_-]+']\.\w+/g);c&&1===c.length&&(a[s]="if (".concat(c[0],") {\n          ").concat(a[s],"\n        }"))}return a.join("\n").replace(/\n\n/g,"\n")}},{key:"parseVariables",value:function(t,e){var n=null;do{if(n=VARIABLE_REGEX.exec(t)){var r=n[1],i=+n[2]||1;t=t.replace(new RegExp("([^.]|^)\\b("+r+")\\b","ig"),"$1".concat(VARIABLES_VAR_NAME,"[").concat(e.length,"]"));var o={type:"unknown",length:i,name:r};e.push(o),t=t.replace(new RegExp("(".concat(VARIABLES_VAR_NAME,"\\[").concat(e.length-1,"\\])\\(").concat(o.length,"\\)\\s*=\\s*")),"$1=")}}while(n&&e.length<20);return t=this.determineVariablesType(t,e),t}},{key:"parseSerie",value:function(t,e,n){for(var r=e[1].replace(/^plot/,""),i=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_2__["h"])(t,e.index+e[1].length),o=t.slice(e.index+e[1].length+1,i),a=e[1]+"("+o+")",s=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_2__["r"])(o),c={},l=0;l<s.length;l++)try{var u=s[l].match(/^(\w+)\s*=(.*)/),d=_slicedToArray(u,3),p=d[1],h=d[2];if(!p||!h.length)continue;var f=h.trim();try{f=JSON.parse(f)}catch(w){}c[p.trim()]=f,s.splice(l,1),l--}catch(w){continue}var m="renderer.indicators['".concat(this.indicatorId,"'].series[").concat(n.length,"]"),y="".concat(m," = "),v=SERIE_TYPES[r],b="renderer.localTimestamp";if(c.offset&&(b+="+renderer.timeframe*".concat(c.offset)),1===s.length&&"{"===s[0][0]&&/time:/.test(s[0]))y+=s[0];else if("ohlc"===v)if(4===s.length)y+="{ time: ".concat(b,", open: ").concat(s[0],", high: ").concat(s[1],", low: ").concat(s[2],", close: ").concat(s[3]," }");else{if(1!==s.length)throw new Error("invalid input for function ".concat(e[1],", expected a ohlc object or 4 number"));y+=s[0]}else if("range"===v){if(2!==s.length)throw new Error("invalid input for function ".concat(e[1],", expected 2 arguments (lowerValue and higherValue)"));y+="{ time: ".concat(b,", lowerValue: ").concat(s[0],", higherValue: ").concat(s[1]," }")}else if("number"===v){if(1!==s.length)throw new Error("invalid input for function ".concat(e[1],", expected 1 value (number)"));y+="{ time: ".concat(b,", value: ").concat(s[0]," }")}var g,_="series[".concat(n.length,"].update(renderer.indicators['").concat(this.indicatorId,"'].series[").concat(n.length,"])"),C=y+",";"histogram"===r?C+=m+".value&&":"line"===r?C+=m+".value !== null&&":"cloudarea"===r&&(C+=m+".lowerValue !== null&&"),C+=_,t=t.replace(a,C),"string"===typeof c.id&&c.id.length?(g=c.id,delete c.id):g=this.getPlotId(o);var k=Object.keys(this.serieIndicatorsMap).concat(n.map((function(t){return t.id})));return n.push({id:Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_2__["y"])(g,k),type:_chartOptions__WEBPACK_IMPORTED_MODULE_3__["g"][r]||r,expectedInput:v,options:c}),t}},{key:"parseFunctions",value:function(t,e,n){var r=null,i=new RegExp("([a-zA-Z0_9_]+)\\(","g");do{if(r=i.exec(t)){var o=r[1],a=Object.prototype.hasOwnProperty.call(Math,o),s=SERIE_TYPES[o.replace(/^plot/,"")],c="."===t[r.index-1];if(a||s||c){i.lastIndex=r.index+r[0].length,s&&(t=this.parseSerie(t,r,n));continue}var l={name:o},u=_serieUtils__WEBPACK_IMPORTED_MODULE_0__[o+"$"];if(!u){if(/for|if/i.test(o)){i.lastIndex=r.index+r[0].length;continue}throw new Error("function ".concat(o," doesn't exists"))}var d=r.index,p=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_2__["h"])(t,d+r[1].length),h=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_2__["r"])(t.slice(d+r[1].length+1,p));2===h.length&&(l.arg=h[1]),"ohlc"!==o&&"cum_ohlc"!==o||1!==h.length||h.push("renderer.localTimestamp"),t="".concat(t.slice(0,d),"utils.").concat(o,"$(").concat(FUNCTIONS_VAR_NAME,"[").concat(e.length,"].state,").concat(h.join(","),")").concat(t.slice(p+1,t.length)),e.push(l)}}while(r);return t}},{key:"parseMarkets",value:function(t,e){if(!this.markets.length)return t;var n=/\b([A-Z_]{3,}:[a-zA-Z0-9/_-]{5,})(:[\w]{4,})?\.?([a-z]{4,})?\b/,r=null;do{if(r=n.exec(t)){var i=r[1]+(r[2]?r[2]:""),o=i.replace(":",""),a=r[3];e[o]||(e[o]=[]),a&&-1===e[o].indexOf(a)&&e[o].push(a),t=t.replace(new RegExp("([^.$])\\b("+i+")\\b","i"),"$1renderer.sources['".concat(o,"']"))}}while(r);return t}},{key:"parseReferences",value:function(t,e,n){var r=this,i=new RegExp("\\$([a-z_\\-0-9]+)\\b"),o=null;do{if(o=i.exec(t)){var a=o[1];try{(function(){var i=r.getSeriePath(a,n),o=_slicedToArray(i,2),s=o[0],c=o[1];e.find((function(t){return t.indicatorId===s&&t.plotIndex===c}))||e.push({indicatorId:s,serieId:a,plotIndex:c}),t=t.replace(new RegExp("\\$("+a+")\\b","ig"),"renderer.indicators['".concat(s,"'].series[").concat(c,"]"))})()}catch(s){throw{message:'The serie "'.concat(a,'" was not found in the current indicators'),status:"indicator-required",serieId:a}}}}while(o);return t}},{key:"getSeriePath",value:function(t,e){var n,r,i=e.find((function(e){return e.id===t||e.id.replace(/\W/g,"")===t.replace(/\W/g,"")}));if(i&&(n=this.indicatorId,r=e.indexOf(i)),!n&&this.serieIndicatorsMap[t]){var o=this.serieIndicatorsMap[t];n=o.indicatorId,r=o.plotIndex}if(n||-1===Object.values(this.serieIndicatorsMap).map((function(t){return t.indicatorId})).indexOf(t)||(n=t,r=0),n)return[n,r]}},{key:"determineVariablesType",value:function(t,e){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e.indexOf(i),a=new RegExp("".concat(VARIABLES_VAR_NAME,"\\[").concat(o,"\\](?:\\[(\\d+)\\])?"),"g"),s=null;do{if(s=a.exec(t)){var c=s[1],l=s.index+s[0].length;if("undefined"===typeof c)t=t.substring(0,l)+".state[0]"+t.substring(l);else{var u=t.substring(0,s.index),d="".concat(VARIABLES_VAR_NAME,"[").concat(o,"].state[Math.min(").concat(VARIABLES_VAR_NAME,"[").concat(o,"].state.length-1,").concat(c,")]"),p=t.substring(s.index+s[0].length);t="".concat(u).concat(d).concat(p),a.lastIndex=u.length+d.length}i.length=Math.max(i.length,(+c||0)+1)}}while(s);if(!i.length)throw new Error("no length on var "+i.name);1===i.length?(i.type="number",t=t.replace(new RegExp("".concat(VARIABLES_VAR_NAME,"\\[").concat(o,"\\]\\.state\\[\\d+\\]"),"g"),"".concat(VARIABLES_VAR_NAME,"[").concat(o,"].state"))):i.type="array",t=t.replace(new RegExp("#".concat(VARIABLES_VAR_NAME,"\\[").concat(o,"\\]\\.state\\[\\d+\\]"),"g"),"".concat(VARIABLES_VAR_NAME,"[").concat(o,"].state"))}}catch(h){r.e(h)}finally{r.f()}return t}},{key:"test",value:function(t,e){var n,r=t.output,i=t.functions,o=t.variables,a=t.markets,s=t.plots,c=t.references;try{n=this.getAdapter(r)}catch(y){throw new Error("syntax error: ".concat(y.message))}for(var l=this.getFakeRenderer(null,i,o,a,c),u=s.map((function(){return{update:function(){}}})),d=0;d<3;d++){try{n(l,i,o,u,e,_serieUtils__WEBPACK_IMPORTED_MODULE_0__)}catch(y){throw new Error("syntax error: "+("string"===typeof y?y:y.message))}for(var p=0;p<l.indicators[this.indicatorId].series.length;p++){var h=l.indicators[this.indicatorId].series[p],f=s[p],m="undefined"!==typeof h.value?"number":"undefined"!==typeof h.open?"ohlc":"undefined"!==typeof h.higherValue?"range":null;if(isNaN(h.time))throw new Error("".concat(f.type,".time expected a valid timestamp (number of seconds since January 1, 1970) but got NaN"));if(h.time<l.timestamp)throw new Error("".concat(f.type,".time should be the same as the current bar timestamp ").concat(l.timestamp,", got ").concat(h.time));if(m!==f.expectedInput)throw new Error("plot ".concat(f.type," expected ").concat(f.expectedInput," but got ").concat(m));if(m!==f.expectedInput)throw new Error("plot ".concat(f.type," expected ").concat(f.expectedInput," but got ").concat(m));if("ohlc"===m){if(isNaN(h.open))throw new Error("".concat(f.type,".open expected value to be a number, got NaN"));if(isNaN(h.high))throw new Error("".concat(f.type,".high expected value to be a number, got NaN"));if(isNaN(h.low))throw new Error("".concat(f.type,".low expected value to be a number, got NaN"));if(isNaN(h.close))throw new Error("".concat(f.type,".close expected value to be a number, got NaN"))}if("number"===m&&isNaN(h.value))throw new Error("".concat(f.type," expected value to be a number, got NaN"))}l=this.getFakeRenderer(l,i,o,a,c),this.refreshSerieMeta(i,o)}}},{key:"refreshSerieMeta",value:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if("undefined"!==typeof r.state.count&&r.state.count++,"undefined"!==typeof r.state.points)r.state.points.push(r.state.output),r.state.sum+=r.state.output,r.state.count>r.arg&&(r.state.sum-=r.state.points.shift(),r.state.count--);else if("undefined"!==r.state.open)r.state.open=r.state.close,r.state.high=r.state.close,r.state.low=r.state.close;else if(r.persistence)for(var i=0;i<r.persistence.length;i++)r.state["_"+r.persistence[i]]=r.state[r.persistence[i]]}for(var o=0;o<e.length;o++){var a=e[o];"array"===a.type&&(a.state.unshift(a.state[0]),a.state.length>a.length&&a.state.pop())}}},{key:"getFakeRenderer",value:function(t,e,n,r,i){var o={open:58137,high:58137,low:58102,close:58112,pair:"BTCUSD",vbuy:3532,vsell:54550,cbuy:7,csell:15,lbuy:0,lsell:0},a=t||{timeframe:10,timestamp:null,localTimestamp:null,length:1,bar:{vbuy:11,vsell:22,cbuy:2,csell:3,lbuy:1,lsell:0},sources:{},indicators:_defineProperty({},this.indicatorId,{functions:e,variables:n,series:[],plotsOptions:[]})};if(t)a.timestamp=t.timestamp+10,a.localTimestamp=a.timestamp;else{a.timestamp=10*Math.floor(Math.round(+new Date/1e3)/10),a.localTimestamp=a.timestamp;var s,c=_createForOfIteratorHelper(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;a.indicators[l.indicatorId]||(a.indicators[l.indicatorId]={series:[],plotsOptions:[],functions:[],variables:[]},l.indicatorId===this.indicatorId&&(a.indicators[l.indicatorId].functions=e,a.indicators[l.indicatorId].variables=n)),a.indicators[l.indicatorId].series[l.plotIndex]={time:a.timestamp,value:1,open:2,high:2,low:2,close:2}}}catch(f){c.e(f)}finally{c.f()}}for(var u in r){var d=Object.assign({},o),p=(Math.random()-.5)/100,h=(Math.random()-.5)/100;t&&(d.open*=t.sources[u].close),d.close=Math.abs(d.close*p),d.high=Math.max(d.high,d.close),d.low=Math.min(d.low,d.close),d.vbuy=Math.abs(d.vbuy*h),d.vsell=Math.abs(d.vsell*h),d.cbuy=Math.abs(d.cbuy*h),d.csell=Math.abs(d.csell*h),d.lbuy=Math.abs(d.lbuy*h),d.lsell=Math.abs(d.lsell*h),a.bar.vbuy+=d.vbuy,a.bar.vsell+=d.vsell,a.bar.cbuy+=d.cbuy,a.bar.csell+=d.csell,a.bar.lbuy+=d.lbuy,a.bar.lsell+=d.lsell,a.sources[u]=d}return a}},{key:"getAdapter",value:function(t){return function(){return new Function("renderer",FUNCTIONS_VAR_NAME,VARIABLES_VAR_NAME,"series","options","utils",'"use strict"; '+t)}()}},{key:"getPlotId",value:function(t){t=t.replace(/options\.([a-zA-Z0-9_]+)/g,"");var e=t.match(new RegExp("\\b(".concat(this.markets.sort((function(t,e){return e.length-t.length})).join("|"),")\\b(?:\\.\\w+)"),"g"))||[],n=(t.match(/renderer\.bar\.([a-zA-Z0-9_]+)/g)||[]).map((function(t){return t.replace("renderer.bar.","")})).filter((function(t){return"bar"!==t})),r=(t.match(new RegExp("([a-zA-Z0_9_]+)\\(","g"))||[]).map((function(t){return t.trim().slice(0,-1)})).filter((function(t){return _serieUtils__WEBPACK_IMPORTED_MODULE_0__[t+"$"]})),i=[].concat(_toConsumableArray(r),_toConsumableArray(e),_toConsumableArray(n)).filter((function(t,e,n){return n.indexOf(t)===e}));return Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_2__["x"])(i.join("-"))}},{key:"parseScriptOptions",value:function parseScriptOptions(functions,plots,options){var minLength=0,_iterator8=_createForOfIteratorHelper(functions),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var instruction=_step8.value;if("undefined"!==typeof instruction.arg)try{instruction.arg=eval(instruction.arg),"number"===typeof instruction.arg&&(minLength=Math.max(minLength,instruction.arg))}catch(error){}}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}options.minLength=minLength;var _iterator9=_createForOfIteratorHelper(plots),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var plot=_step9.value;for(var prop in plot.options)try{plot.options[prop]=eval(plot.options[prop])}catch(error){}}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}}]),SerieBuilder}()},"392d":function(t){t.exports=JSON.parse('{"price":{"name":"Price","script":"plotcandlestick(avg_ohlc(bar))","options":{"priceScaleId":"right","priceLineVisible":true,"lastValueVisible":true,"borderVisible":true,"upColor":"rgba(33, 150, 243, 0)","borderUpColor":"rgb(255, 255, 255)","wickUpColor":"rgba(255, 255, 255, .45)","downColor":"rgba(66, 165, 245, .47)","borderDownColor":"rgb(255, 255, 255, .33)","wickDownColor":"rgb(100, 181, 246, .53)"}},"smas":{"enabled":false,"name":"SMA {fastLength} {mediumLength} {slowLength}","displayName":"SMA 50 100 200","script":"plotline(sma($price.close, options.fastLength), color=options.fastColor)\\nplotline(sma($price.close, options.mediumLength), color=options.mediumColor)\\nplotline(sma($price.close, options.slowLength), color=options.slowColor)","options":{"priceScaleId":"right","fastLength":50,"mediumLength":100,"slowLength":200,"fastColor":"#42a5f5","mediumColor":"#64b5f6","slowColor":"#90caf9"}},"emas":{"enabled":false,"name":"EMA {fastLength} {mediumLength} {slowLength}","displayName":"EMA 50 100 200","script":"plotline(ema($price.close, options.fastLength), color=options.fastColor)\\nplotline(ema($price.close, options.mediumLength), color=options.mediumColor)\\nplotline(ema($price.close, options.slowLength), color=options.slowColor)","options":{"priceScaleId":"right","fastLength":50,"mediumLength":100,"slowLength":200,"fastColor":"#42a5f5","mediumColor":"#64b5f6","slowColor":"#90caf9"}},"cmas":{"enabled":false,"name":"CMA {fastLength} {mediumLength} {slowLength}","displayName":"CMA 50 100 200","script":"plotline(cma($price.close, options.fastLength), color=options.fastColor)\\nplotline(cma($price.close, options.mediumLength), color=options.mediumColor)\\nplotline(cma($price.close, options.slowLength), color=options.slowColor)","options":{"priceScaleId":"right","fastLength":50,"mediumLength":100,"slowLength":200,"fastColor":"#42a5f5","mediumColor":"#64b5f6","slowColor":"#90caf9"}},"volume":{"name":"Volume","script":"plothistogram(vbuy + vsell, id=totalvolume)","options":{"priceFormat":{"type":"volume"},"color":"rgba(255, 255, 255, .15)","priceScaleId":"volume","scaleMargins":{"top":0.91,"bottom":0}}},"volume_delta":{"name":"Volume Δ","script":"plothistogram({ time: time, value: Math.abs(vbuy-vsell), color: vbuy - vsell > 0 ? options.upColor : options.downColor})","options":{"priceFormat":{"type":"volume"},"upColor":"#3BCA6D","downColor":"#EB1E2F","priceScaleId":"volume","scaleMargins":{"top":0.91,"bottom":0}}},"volume_buy_sell":{"enabled":false,"name":"Buy/sells volume","script":"plotcloudarea(-vsell, vbuy)\\nplotline(0, color=rgba(255,255,255,.25), lineStyle=2)","options":{"priceFormat":{"type":"volume"},"upColor":"#3BCA6D","downColor":"#EB1E2F","priceScaleId":"volume","scaleMargins":{"top":0.91,"bottom":0}}},"liquidations":{"name":"Liquidations","script":"plothistogram(lbuy, color=options.upColor)\\nplothistogram(-lsell, color=options.downColor)","options":{"priceFormat":{"type":"volume"},"priceScaleId":"volume_liquidations","upColor":"rgb(255,76,243)","downColor":"rgb(255,183,77)","scaleMargins":{"top":0.81,"bottom":0.1}}},"cvd":{"name":"CVD","description":"Cumulative Volume Delta","script":"plotline(cum(vbuy - vsell))","options":{"priceScaleId":"cvd","priceFormat":{"type":"volume"},"color":"#3BCA6D"}},"btccvdperp":{"enabled":false,"name":"CVD (BTC PERP)","script":"plotline(cum((BITMEX:XBTUSD.vbuy + BITFINEX:BTCF0:USTF0.vbuy + OKEX:BTC-USD-SWAP.vbuy + OKEX:BTC-USDT-SWAP.vbuy + BINANCE_FUTURES:btcusdt.vbuy + BINANCE_FUTURES:btcusd_perp.vbuy + HUOBI:BTC-USD.vbuy + KRAKEN:PI_XBTUSD.vbuy + DERIBIT:BTC-PERPETUAL.vbuy + FTX:BTC-PERP.vbuy + BYBIT:BTCUSD.vbuy) - (BITMEX:XBTUSD.vsell + BITFINEX:BTCF0:USTF0.vsell + OKEX:BTC-USD-SWAP.vsell + OKEX:BTC-USDT-SWAP.vsell + BINANCE_FUTURES:btcusdt.vsell + BINANCE_FUTURES:btcusd_perp.vsell + HUOBI:BTC-USD.vsell + KRAKEN:PI_XBTUSD.vsell + DERIBIT:BTC-PERPETUAL.vsell + FTX:BTC-PERP.vsell + BYBIT:BTCUSD.vsell)))","options":{"priceFormat":{"type":"volume"},"priceScaleId":"cvdperp","color":"#42a5f5"}},"btccvdspot":{"enabled":false,"name":"CVD (BTC SPOT)","script":"plotline(cum((BITFINEX:BTCUSD.vbuy+ BINANCE:btcusdt.vbuy+ OKEX:BTC-USDT.vbuy+ KRAKEN:XBT/USD.vbuy+ COINBASE:BTC-USD.vbuy+ POLONIEX:USDT_BTC.vbuy+ HUOBI:btcusdt.vbuy+ BITSTAMP:btcusd.vbuy) - (BITFINEX:BTCUSD.vsell +BINANCE:btcusdt.vsell +OKEX:BTC-USDT.vsell +KRAKEN:XBT/USD.vsell +COINBASE:BTC-USD.vsell +POLONIEX:USDT_BTC.vsell +HUOBI:btcusdt.vsell +BITSTAMP:btcusd.vsell)))","options":{"priceFormat":{"type":"volume"},"priceScaleId":"cvdspot","color":"#4caf50"}},"ctd":{"enabled":false,"script":"plotline(cum(cbuy-csell))","name":"CTD","description":"Cumulative Trades Delta","options":{"priceScaleId":"ctd","lineStyle":4,"lineWidth":1}},"cld":{"enabled":false,"script":"plotline(cum(lbuy-lsell))","name":"CLD","description":"Cumulative Liquidations Delta","options":{"priceFormat":{"type":"volume"},"color":"rgb(156,39,176)","priceScaleId":"ctd","lineWidth":1}},"linregcurve":{"enabled":false,"script":"plotline(linreg($price.close, 50))\\nplotline(linreg($price.close, 100))\\nplotline(linreg($price.close, 200))","name":"Linear Regression","options":{"priceScaleId":"right","lineStyle":4,"lineWidth":1}},"allmarkets":{"enabled":false,"script":"plotline(BITFINEX:BTCUSD.close, color=#97c554, title=Bitfinex.spot)\\nplotline(BINANCE:btcusdt.close, color=#f3ba2f, title=Binance.spot)\\nplotline(OKEX:BTC-USDT.close, color=#5894f2, title=Okex.spot)\\nplotline(KRAKEN:XBT/USD.close, color=#5841d8, title=Kraken.spot)\\nplotline(COINBASE:BTC-USD.close, color=#0e70e2, title=Coinbase.spot)\\nplotline(POLONIEX:USDT_BTC.close, color=#858b8f, title=Poloniex.spot)\\nplotline(HUOBI:btcusdt.close, color=#2ca6e0, title=Huobi.spot)\\nplotline(BITSTAMP:btcusd.close, color=#169f4a, title=Bitstamp.spot)\\nplotline(BITMEX:XBTUSD.close, color=#595fb5, title=Bitmex.perp)\\nplotline(BITFINEX:BTCF0:USTF0.close, color=#97c554, title=Bitfinex.perp)\\nplotline(OKEX:BTC-USD-SWAP.close, color=#5894f2, title=Okex.perp)\\nplotline(BINANCE_FUTURES:btcusdt.close, color=#f3ba2f, title=Binance.perp)\\nplotline(BINANCE_FUTURES:btcusd_perp.close, color=#f3ba2f, title=Binance.perp)\\nplotline(HUOBI:BTC-USD.close, color=#2ca6e0, title=Huobi.perp)\\nplotline(KRAKEN:PI_XBTUSD.close, color=#5841d8, title=Kraken.perp)\\nplotline(DERIBIT:BTC-PERPETUAL.close, color=#2dae9a, title=Deribit.perp)\\nplotline(FTX:BTC-PERP.close, color=#02a6c2, title=Ftx.perp)\\nplotline(BYBIT:BTCUSD.close, color=#f9b600, title=Bybit.perp)","name":"All markets","options":{"priceScaleId":"right","spotColor":"#81c784","futuresColor":"#ec407a"}},"ichimoku":{"enabled":false,"script":"conversionLine=(lowest($price.low, options.conversionLineLength) + highest($price.high, options.conversionLineLength)) / 2\\nbaseLine=(lowest($price.low, options.baseLineLength) + highest($price.high, options.baseLineLength)) / 2\\nleadLineOne=(conversionLine + baseLine) / 2\\nleadLineTwo=(lowest($price.low, options.laggingSpanTwoLength) + highest($price.high, options.laggingSpanTwoLength)) / 2\\nplotcloudarea(leadLineTwo, leadLineOne, offset=options.displacement)","name":"Ichimoku","options":{"baseLineLength":26,"conversionLineLength":9,"displacement":24,"laggingSpanTwoLength":52,"priceScaleId":"right"}},"bollinger_bands":{"enabled":false,"script":"a = sma(Math.pow($price.close,2),options.length)\\nb = Math.pow(sum($price.close,options.length),2)/Math.pow(options.length,2)\\nstdev = Math.sqrt(a - b)\\nsrc = $price.close\\n\\nbasis = sma($price.close, options.length)\\ndev = options.mult * stdev\\nupper = basis + dev\\nlower = basis - dev\\n\\nplotline(basis, color=options.basisColor)\\nplotcloudarea(lower, upper)","name":"Bollinger Bands","options":{"priceScaleId":"right","mult":2,"length":20,"lineStyle":2,"basisColor":"rgba(66,165,245,0.5)","positiveColor":"rgba(0,0,0,0.1)","negativeColor":"rgba(0,0,0,0.1)","lowerLineColor":"rgba(66,165,245,0.5)","higherLineColor":"rgba(66,165,245,0.5)"}}}')},"3c3d":function(t,e,n){},"3e57":function(t){t.exports=JSON.parse('{"preferQuoteCurrencySize":true,"aggregationLength":1,"disableAnimations":false,"calculateSlippage":null,"decimalPrecision":null,"autoHideHeaders":true,"theme":"dark","backgroundColor":"rgb(23,27,41)","textColor":"","timezoneOffset":0,"useAudio":false,"audioVolume":1,"audioFilters":{"PingPongDelay":true,"Compressor":false,"Delay":false,"HighPassFilter":true,"LowPassFilter":false},"settings":["other","workspaces","chart","stats","counters","audio"],"recentColors":[]}')},"3f50":function(t,e,n){"use strict";n("e0ff")},"423d":function(t,e,n){},"42af":function(t,e,n){"use strict";n("6825")},4902:function(t,e,n){"use strict";var r=n("2b0e"),i=n("6502"),o=n.n(i),a=n("0613"),s=n("28f3");function c(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var f=function(){function t(){d(this,t),this.filtersOptions={HighPassFilter:{frequency:800,Q:10,gain:-10,filterType:"highpass",bypass:0},LowPassFilter:{frequency:1500,Q:1,gain:0,filterType:"lowpass",bypass:0},Compressor:{threshold:-1,makeupGain:1,attack:1,release:0,ratio:4,knee:5,automakeup:!0,bypass:0},Delay:{feedback:.3,delayTime:160},PingPongDelay:{wetLevel:.6,feedback:.01,delayTimeLeft:175,delayTimeRight:100},Chorus:{rate:1.5,feedback:.4,depth:.7,delay:.0045,bypass:0}},this.count=0,this.minTime=0}return h(t,[{key:"connect",value:function(){var t=this;this.context||(this.minTime=0,this.count=0,r["default"].nextTick((function(){t.bindContext(),t.bindOutput()})))}},{key:"bindContext",value:function(){var t=this;this.context=new(window.AudioContext||window.webkitAudioContext);var e=!1;if("suspended"===this.context.state){var n=document.body;setTimeout((function(){n.focus()}),500);var r=function(i){e||(e=!0,t.context&&a["b"].state.settings.useAudio&&t.context.resume(),setTimeout((function(){a["b"].state.settings.useAudio&&"suspended"===t.context.state?"suspended"===t.context.state&&a["b"].dispatch("app/showNotice",{id:"audio",type:"error",title:"Browser prevented audio from starting 😣<br>Click somewhere to retry."}):(a["b"].state.settings.useAudio&&a["b"].dispatch("app/showNotice",{id:"audio",type:"success",title:"Audio resumed successfully 🔊"}),window.removeEventListener("focus",r),window.removeEventListener("blur",r),n.removeEventListener("click",r)),e=!1}),500))}.bind(this);window.addEventListener("blur",r),window.addEventListener("focus",r),n.addEventListener("click",r)}else a["b"].dispatch("app/showNotice",{id:"audio",type:"success",title:"Audio enabled 🔊"});return this.context}},{key:"bindOutput",value:function(){if(this.context){this.output&&(this.output.disconnect(),this.output=null),this.tuna=new o.a(this.context);var t=[];for(var e in this.filtersOptions)if(a["b"].state.settings.audioFilters[e]){var n=e;"HighPassFilter"!==e&&"LowPassFilter"!==e||(n="Filter"),t.push(new this.tuna[n](this.filtersOptions[e]))}if(t.length){var r,i,s=c(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;r&&r.connect(l),r=l}}catch(u){s.e(u)}finally{s.f()}r.connect(this.context.destination),this.output=t[0]}else this.output=this.context.destination}}},{key:"loadSoundBuffer",value:function(e){var n=this;return new Promise((function(r,i){void 0!==t.savedAudioBuffers[e]&&t.savedAudioBuffers[e]instanceof AudioBuffer?r(t.savedAudioBuffers[e]):fetch(e).then((function(t){return t.arrayBuffer()})).then((function(o){n.context.decodeAudioData(o).then((function(n){t.savedAudioBuffers[e]=n,r(n)})).catch((function(t){i(t)}))})).catch((function(t){i(t)}))}))}},{key:"playurl",value:async function(e,n,r,i,o,a,s,c,l){var u=this;if("running"===this.context.state&&t.savedAudioBuffers[e]){var d=this.getNextTime(i);setTimeout((function(){var i=u.context.createGain(),p=u.context.createBufferSource();p.buffer=t.savedAudioBuffers[e],p.connect(i),i.connect(u.output),p.start(d,o),p.stop(d+a+r+s),u.fade(p,i,d,n,c,a,r,s,l,o)}),1e3*(d-this.context.currentTime))}}},{key:"play",value:async function(t,e,n,r,i,o,a,s,c){var l=this;if("running"===this.context.state){var u=this.getNextTime(r);setTimeout((function(){u=l.context.currentTime;var r=l.context.createOscillator(),d=l.context.createGain();r.frequency.value=t,r.type=a,d.connect(l.output),r.connect(d),l.fade(r,d,u,e,s,i,o,n,c)}),1e3*(u-this.context.currentTime))}}},{key:"fade",value:function(t,e,n,r,i,o,a,s,c,l){var u=this;t.onended=function(){e.disconnect(),u.count--},o?(e.gain.setValueAtTime(i,n),e.gain.exponentialRampToValueAtTime(r,n+o),s&&(e.gain.setValueAtTime(r,n+o+a),setTimeout((function(){e.gain.exponentialRampToValueAtTime(c,n+o+a+s)}),1e3*(o+a)))):(e.gain.setValueAtTime(r,n),s&&e.gain.exponentialRampToValueAtTime(c,n+o+a+s)),"undefined"!==typeof l?t.start(n,l):t.start(n),t.stop(n+o+a+s)}},{key:"getNextTime",value:function(t){var e=0;this.minTime?(this.minTime=Math.max(this.minTime,this.context.currentTime),!t&&this.count&&(e=this.count>10?this.count>20?this.count>100?.01:.02:.04:.08)):this.minTime=this.context.currentTime;var n=this.minTime+e+t;return this.minTime+=e,this.count++,n}},{key:"reconnect",value:function(){this.disconnect(),this.connect()}},{key:"disconnect",value:function(){this.context&&"running"===this.context.state&&this.context.close(),this.output&&this.output.disconnect(),this.context=null,this.output=null,a["b"].dispatch("app/showNotice",{id:"audio",title:"Audio disabled 🔇"})}},{key:"buildAudioFunction",value:async function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t="'use strict'; \n    var gain = Math.sqrt(ratio);\n    ".concat(t);var o=/(play|playurl)\(/g,c=null;null===r&&(r=a["b"].state.settings.audioVolume);try{do{if(c=o.exec(t)){var l=t.slice(c.index+c[0].length,Object(s["h"])(t,c.index+c[0].length-1)),u=Object(s["r"])(l);if(!u)throw new Error("invalid argument(s) for "+c[0]+" function");var d=void 0;d="play"===c[1]?[329.63,1,1,null,0,0,"'triangle'",.001,.001]:["'https://ia902807.us.archive.org/27/items/blackpinkepitunes01boombayah/01.%20DDU-DU%20DDU-DU%20%28BLACKPINK%20ARENA%20TOUR%202018%20_SPECIAL%20FINAL%20IN%20KYOCERA%20DOME%20OSAKA_%29.mp3'",1,1,null,0,0,0,1e-5,1e-5];for(var p=0;p<d.length;p++){var h=d[p];if("undefined"!==typeof u[p]){if("string"===typeof u[p]){u[p]=u[p].trim();var f=/^('|").*('|")$/.test(u[p]),m=/^('|").*('|")$/.test(d[p]);f&&!m?u[p]=d[p]:!f&&m&&(u[p]="'".concat(u[p],"'"))}try{h=JSON.parse(u[p])}catch(b){h=u[p]}null!==h&&""!==h||(h=d[p])}u[p]=null===h?"null":h}if("play"===c[1]?+u[0]&&n&&1!==n&&(u[0]*=n):await this.loadSoundBuffer(u[0].slice(1,u[0].length-1)),r&&1!==r)for(var y=1;y<=2;y++)+u[1]?u[1]*=r:u[1]=r+"*("+u[1]+")";var v=u.join(", ");t=t.replace("("+l+")","("+v+")")}}while(c);return t=t.replaceAll("play(","audioService['play']("),t=t.replaceAll("playurl(","audioService['playurl']("),new Function("audioService","ratio","side","level",t)}catch(b){if(i)throw b;return a["b"].dispatch("app/showNotice",{id:"audio-script-error",type:"error",title:"Please check that ".concat(e," audio script is syntactically correct.")+(b.message?"<br>".concat(b.message):""),timeout:6e4}),new Function}}}]),t}();f.savedAudioBuffers={},e["a"]=new f},"4ee8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQ5JREFUeNrslz0KwjAUgJNCF3EoiIuniIu7eJF6BE9kLyLuLvYULiJ0EJdC8QWe4NA0eT91sQ9CWkj7ffnhJTHm38MKvs2hLPD5AaX9pcAHnuF7x5WwCnAjkbBKcLYERSBDeB5p16JEpymQCidL2BHgJAk7EjxZIiZQQJkJc80LSsMR0IBHJYYEVspZ90YVWArmvm8t3M0UU1AW4XO3uULllDj1/HRZhzJdKJxiR91Qqg1FpShQsVIxTMMRqlIKh+Hfc0bAx8HPn2Tu8R/87RhGwe8JZ8aa8PAt9L4RH0gYEklw0pGMIJEMJx9KQcKhRBFo0iC8FicihgQZzr6Y9Eiw4KKr2ZeE4cKn8PEWYACxq1U+/EnHbQAAAABJRU5ErkJggg=="},5637:function(t,e,n){"use strict";n("3c3d")},"5a23":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return v})),n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return g})),n.d(e,"g",(function(){return _})),n.d(e,"b",(function(){return C}));var r=n("0613"),i=n("bea1"),o=n("8192");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={crosshair:{vertLine:{color:"rgba(255, 255, 255, .5)",width:.5,style:2,visible:!0,labelVisible:!0},horzLine:{color:"rgba(255, 255, 255, .5)",width:.5,style:2,visible:!0,labelBackgroundColor:"white",labelVisible:!0},mode:0},watermark:{color:"rgba(255,255,255, 0.1)",visible:!1,text:"Loading",fontSize:24,horzAlign:"center",vertAlign:"center"},layout:{backgroundColor:"transparent",textColor:"white",fontFamily:"Barlow Semi Condensed"},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},timeScale:{barSpacing:3,minBarSpacing:0,rightOffset:12,lockVisibleTimeRangeOnResize:!0,rightBarStaysOnScroll:!0,borderVisible:!0,borderColor:"rgba(255, 255, 255, .2)",visible:!0,timeVisible:!0,secondsVisible:!0},priceScale:{position:"right",mode:0,borderColor:"rgba(255, 255, 255, .2)",scaleMargins:{top:.1,bottom:.2}}},u={crosshairMarkerVisible:!1,lastValueVisible:!1,priceLineVisible:!1,priceFormat:{type:"price",minMove:"0.01",precision:2},scaleMargins:{top:.1,bottom:.2}},d={priceLineStyle:1,color:"white",lineWidth:1,lineStyle:0,lineType:0},p={priceLineColor:"rgba(255, 255, 255, .5)",borderVisible:!1,upColor:"#c3a87a",downColor:"#e53935",borderUpColor:"#c3a87a",borderDownColor:"#e53935",wickUpColor:"rgba(223, 195, 148, .8)",wickDownColor:"rgba(224, 91, 95, .8)"},h={color:"#c3a87a",scaleMargins:{top:.8,bottom:0}},f={topColor:"rgba(21, 146, 230, 0.4)",bottomColor:"rgba(21, 146, 230, 0)",lineColor:"rgba(21, 146, 230, 1)",lineStyle:0,lineWidth:2},m={positiveColor:"rgba(76,175,80,0.1)",negativeColor:"rgba(255,82,82,0.1)",higherLineColor:"#4CAF50",higherLineStyle:o["a"].Simple,higherLineWidth:1,lowerLineColor:"#FF5252",lowerLineStyle:o["a"].Simple,lowerLineWidth:1},y={thinBars:!1,upColor:"#a5d6a7",downColor:"#e57373",openVisible:!0},v=s(s({},l),{},{priceScale:{position:"none",mode:0},timeScale:{barSpacing:3,rightOffset:5,lockVisibleTimeRangeOnResize:!0,rightBarStaysOnScroll:!0,borderColor:"rgba(255, 255, 255, .2)",timeVisible:!0}});function b(t){var e=t;e||(e=r["b"].state.settings.textColor?r["b"].state.settings.textColor:"light"===r["b"].state.settings.theme?"#111111":"#f6f6f6");var n=Object(i["c"])(s(s({},Object(i["k"])(e)),{},{alpha:.2})),o="light"===r["b"].state.settings.theme?"rgba(0, 0, 0, .25)":"rgba(255, 255, 255, .25)",a={crosshair:{vertLine:{color:o},horzLine:{color:o}},layout:{textColor:e,borderColor:n},priceScale:{borderColor:n},timeScale:{borderColor:n}};return a}function g(t){var e=Object.assign({},t),n=b();for(var r in n)Object.assign(e[r],n[r]);return e}var _={cloudarea:"cloud-area"},C={line:d,area:f,candlestick:p,"cloud-area":m,bar:y,histogram:h}},"5a81":function(t,e,n){"use strict";n("f552")},"5e7f":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{options:t.donationMenu,placeholder:t.label,selectionClass:"-text"},scopedSlots:t._u([{key:"option",fn:function(e){var r=e.value;return[n("i",{staticClass:"-fill",class:"icon-"+r.icon}),n("span",{staticClass:"ml4"},[t._v(t._s(r.label))])]}}])})},i=[],o=n("9ab4"),a=n("60a3");function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function d(t){var e=f();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var y=function(t){l(n,t);var e=d(n);function n(){var t;return c(this,n),t=e.apply(this,arguments),t.donationMenu=[{label:"with Bitcoin",icon:"bitcoin",click:function(){return window.open("bitcoin:3PK1bBK8sG3zAjPBPD7g3PL14Ndux3zWEz")}},{label:"with Monero",icon:"xmr",click:function(){return window.open("monero:48NJj3RJDo33zMLaudQDdM8G6MfPrQbpeZU2YnRN2Ep6hbKyYRrS2ZSdiAKpkUXBcjD2pKiPqXtQmSZjZM7fC6YT6CMmoX6")}},{label:"with other coin",icon:"COINBASE",click:function(){return window.open("https://commerce.coinbase.com/checkout/c58bd003-5e47-4cfb-ae25-5292f0a0e1e8")}}],t}return n}(a["c"]);y=Object(o["a"])([Object(a["a"])({props:{label:{default:"donate"}}})],y);var v=y,b=v,g=n("2877"),_=Object(g["a"])(b,r,i,!1,null,null,null);e["a"]=_.exports},6825:function(t,e,n){},"68e0":function(t,e,n){"use strict";function r(t,e){var n=0,r=!1;for(var i in"undefined"===typeof t.open&&(r=!0,t.open=0),t.high=0,t.low=0,t.close=0,e.sources)null!==e.sources[i].open&&(r&&(t.open+=e.sources[i].open),t.high+=e.sources[i].high,t.low+=e.sources[i].low,t.close+=e.sources[i].close,n++);return n||(n=1),r&&(t.open/=n),t.high/=n,t.low/=n,t.close/=n,{time:e.localTimestamp,open:t.open,high:t.high,low:t.low,close:t.close}}function i(t,e){var n=0;for(var r in t.close=0,e.sources)null!==e.sources[r].open&&(t.close+=e.sources[r].close,n++);return n||(n=1),t.close/=n,t.close}function o(t,e,n){return"undefined"===typeof t.open&&(t.open=e,t.high=e,t.low=e),t.high=Math.max(t.high,e),t.low=Math.min(t.low,e),t.close=e,{time:n,open:t.open,high:t.high,low:t.low,close:t.close}}function a(t,e,n){return"undefined"===typeof t.open?(t.open=e,t.high=e,t.low=e):e=t.open+e,t.high=Math.max(t.high,e),t.low=Math.min(t.low,e),t.close=e,{time:n,open:t.open,high:t.high,low:t.low,close:t.close}}function s(t,e){return"undefined"===typeof t.open&&(t.open=e),t.close=t.open+e,t.close}n.r(e),n.d(e,"avg_ohlc$",(function(){return r})),n.d(e,"avg_close$",(function(){return i})),n.d(e,"ohlc$",(function(){return o})),n.d(e,"cum_ohlc$",(function(){return a})),n.d(e,"cum$",(function(){return s})),n.d(e,"highest",(function(){return c})),n.d(e,"highest$",(function(){return l})),n.d(e,"lowest",(function(){return u})),n.d(e,"lowest$",(function(){return d})),n.d(e,"linreg",(function(){return p})),n.d(e,"linreg$",(function(){return h})),n.d(e,"avg$",(function(){return f})),n.d(e,"sum",(function(){return m})),n.d(e,"sum$",(function(){return y})),n.d(e,"sma",(function(){return v})),n.d(e,"sma$",(function(){return b})),n.d(e,"cma",(function(){return g})),n.d(e,"cma$",(function(){return _})),n.d(e,"ema",(function(){return C})),n.d(e,"ema$",(function(){return k})),n.d(e,"avg_heikinashi",(function(){return w})),n.d(e,"avg_heikinashi$",(function(){return O}));var c={count:0,points:[]};function l(t,e){return t.output=e,t.count?Math.max.apply(null,t.points):e}var u={count:0,points:[]};function d(t,e){return t.output=e,t.count?Math.min.apply(null,t.points):e}var p={count:0,sum:0,points:[]};function h(t,e,n){if(t.output=e,t.count<1)return null;for(var r=0,i=0,o=0,a=0,s=0,c=0,l=0;l<=t.points.length;l++){var u=l===t.points.length?e:t.points[l];i=l+1,o+=i,a+=u,s+=i*i,c+=u*i,r++}var d=(r*c-o*a)/(r*s-o*o),p=a/r,h=p-d*o/n+d;return h+d*(r-1)}function f(t,e){for(var n=0,r=0,i=0;i<e.length;i++)null!==e[i]&&(r+=e[i],n++);return r/n}var m={count:0,sum:0,points:[]};function y(t,e){return t.output=e,t.sum+e}var v={count:0,sum:0,points:[]};function b(t,e){var n=(t.sum+e)/(t.count+1);return t.output=e,n}var g={count:0,sum:0,points:[]};function _(t,e){return t.output=(t.sum+e)/(t.count+1),t.output}var C={count:0,sum:0,points:[]};function k(t,e,n){var r=2/(n+1);if(t.count){var i=t.points[t.points.length-1];t.output=(e-i)*r+i}else t.output=e;return t.output}var w={count:0,points:[]};function O(t,e){var n=0;for(var r in t.open=0,t.high=0,t.low=0,t.close=0,e.sources)null!==e.sources[r].open&&(t.open+=e.sources[r].open,t.high+=e.sources[r].high,t.low+=e.sources[r].low,t.close+=e.sources[r].close,n++);if(n||(n=1),t.high/=n,t.low/=n,t.close/=n,t.count>0){var i=t.points[t.points.length-1];t.open=(i.open+i.close)/2,t.close=.25*(t.open+t.high+t.low+t.close),t.low=Math.min(t.open,t.low,t.close),t.high=Math.max(t.open,t.high,t.close)}else t.open/=n;return t.output={time:e.localTimestamp,open:t.open,high:t.high,low:t.low,close:t.close},t.output}},6904:function(t,e,n){},"6fa3":function(t,e,n){},"724c":function(t,e,n){"use strict";function r(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var r=function(){e=null,n||t.apply(void 0,arguments)},i=n&&!e;window.cancelAnimationFrame(e),e=window.requestAnimationFrame(r),i&&t.apply(void 0,arguments)}}function i(t,e){return t.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}))}function o(t,e){return{r:Math.sqrt(t*t+e*e),theta:180*Math.atan2(e,t)/Math.PI}}function a(t,e){return{x:t*Math.cos(e*Math.PI*2),y:t*Math.sin(e*Math.PI*2)}}function s(t){}function c(t,e){return function(t){var n=-1!==e.indexOf(t);return n}}function l(t){if(t.type.match(/^touch/i)){var e=t.touches[0];return{x:e.clientX,y:e.clientY}}return t.type.match(/^mouse/i)?{x:t.clientX,y:t.clientY}:{x:0,y:0}}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return l}))},7250:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog",class:{"-mask":t.mask},on:{click:t.clickOutside}},[n("div",{ref:"dialogContent",staticClass:"dialog-content",class:t.contentClass,style:{transform:"translate("+t.delta.x+"px, "+t.delta.y+"px)"},on:{click:function(t){t.stopPropagation()},mousedown:t.onMouseDown}},[t.header?n("header",{style:{color:t.headerColor,background:t.headerBackground},on:{mousedown:t.handleDrag,touchstart:t.handleDrag}},[t._t("header"),n("div",{staticClass:"dialog-controls"},[t._t("controls"),n("a",{staticClass:"dialog-controls__close -link -text -no-grab",attrs:{href:"javascript:void(0);"},on:{click:t.close,touchend:t.close}},[n("i",{staticClass:"icon-cross"})])],2)],2):t._e(),n("div",{staticClass:"dialog-body hide-scrollbar",class:t.bodyClass},[t._t("default")],2)])])},i=[],o=n("9ab4"),a=n("fa07"),s=n("60a3"),c=n("724c");function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function m(t){var e=b();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var _=function(t){h(n,t);var e=m(n);function n(){var t;return u(this,n),t=e.apply(this,arguments),t.delta={x:0,y:0},t.target={x:0,y:0},t.animating=!1,t}return p(n,[{key:"headerColor",get:function(){if(this.headerBackground){var t=Object(a["d"])(Object(a["h"])(this.headerBackground));return t>150?"black":"white"}return null}},{key:"created",value:function(){this.clickOutsideClose=!0,this.startPosition&&(this.startPosition.x&&(this.delta.x=window.innerWidth*this.startPosition.x),this.startPosition.y&&(this.delta.y=window.innerHeight*this.startPosition.y))}},{key:"beforeDestroy",value:function(){this._handleRelease&&this._handleRelease()}},{key:"handleDrag",value:function(t){var e=this;if(2!==t.button&&!t.target.classList.contains("-no-grab")){t.preventDefault();var n=Object.assign({},this.delta),r=Object(c["d"])(t),i=this.$refs.dialogContent.offsetTop;this._handleDragging=function(t){var o=Object(c["d"])(t),a=n.x+o.x-r.x,s=Math.max(-1*i,n.y+o.y-r.y);e.target.x=a,e.target.y=s,e.animate()},this._handleRelease=function(){document.removeEventListener("mousemove",e._handleDragging),document.removeEventListener("mouseup",e._handleRelease),document.removeEventListener("touchmove",e._handleDragging),document.removeEventListener("touchend",e._handleRelease),delete e._handleRelease},document.addEventListener("mousemove",this._handleDragging),document.addEventListener("mouseup",this._handleRelease),document.addEventListener("touchmove",this._handleDragging),document.addEventListener("touchend",this._handleRelease)}}},{key:"onMouseDown",value:function(){var t=this;this.clickOutsideClose=!1;var e=function e(){document.removeEventListener("mouseup",e),setTimeout((function(){t.clickOutsideClose=!0}),100)};document.addEventListener("mouseup",e)}},{key:"animate",value:function(){this.delta.x=this.target.x,this.delta.y=this.target.y;var t=Math.abs(this.delta.x-this.target.x)+Math.abs(this.delta.y-this.target.y);if(t>10&&!this.animating)return this.animating=!0,requestAnimationFrame(this.animate);this.animating=!1}},{key:"clickOutside",value:function(){if(!this.clickOutsideClose)return!1;this.$emit("clickOutside")}},{key:"close",value:function(){this.$emit("clickOutside")}}]),n}(s["c"]);_=Object(o["a"])([Object(s["a"])({name:"Dialog",props:{open:{type:Boolean},mask:{type:Boolean,default:!0},header:{type:Boolean,default:!0},headerBackground:{required:!1},bodyClass:{required:!1},contentClass:{required:!1},startPosition:{required:!1}}})],_);var C=_,k=C,w=n("2877"),O=Object(w["a"])(k,r,i,!1,null,null,null);e["a"]=O.exports},7596:function(t){t.exports=JSON.parse('[{"name":"trades:rekt","type":"trades","data":{"tradeType":"liquidations","thresholds":[{"id":"threshold","amount":10000,"buyColor":"rgba(236,64,122,0.5)","sellColor":"rgba(255,152,0,0.5)","buyAudio":"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*2,0,,,\'sine\')\\nplay(329.63, srqtR, srqtR*4,0.08,,,\'sine\')","sellAudio":"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*2,0,,,\'sine\')\\nplay(440, srqtR, srqtR*4,0.08,,,\'sine\')"},{"id":"significant","amount":25000,"buyColor":"rgba(236,64,122,0.6)","sellColor":"rgba(255,152,0,0.7)","buyAudio":"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,\'sine\')\\nplay(329.63, srqtR, srqtR*6,0.08,,,\'sine\')","sellAudio":"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,\'sine\')\\nplay(440, srqtR, srqtR*6,0.08,,,\'sine\')"},{"id":"huge","amount":100000,"gif":"rekt","buyColor":"rgba(236,64,122,0.7)","sellColor":"rgba(255,152,0,0.8)","buyAudio":"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,\'sine\')\\nplay(329.63, srqtR, srqtR*8,0.08,,,\'sine\')","sellAudio":"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,\'sine\')\\nplay(440, srqtR, srqtR*8,0.08,,,\'sine\')"},{"id":"rare","amount":1000000,"gif":"explosion","buyColor":"rgb(156,39,176)","sellColor":"rgb(255,235,59)","buyAudio":"var srqtR = Math.min(1, gain / 10)\\nplay(329.63, srqtR, 1,0,,,\'sine\')\\nplay(329.63, srqtR, srqtR*10,0.08,,,\'sine\')","sellAudio":"var srqtR = Math.min(1, gain / 10)\\nplay(440, srqtR, 1,0,,,\'sine\')\\nplay(440, srqtR, srqtR*10,0.08,,,\'sine\')"}]}},{"name":"threshold:bongo 🥁","type":"threshold","data":{"0":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/DeepHouseSessions_Noiz_SP/MP3/One+Shots/Bongo_08_73_SP.mp3?cb=6cfb91bb-f15f-432a-bfae-17ef22b22005, gain * .75)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/DeepHouseSessions_Noiz_SP/MP3/One+Shots/Bongo_13_73_SP.mp3?cb=6ff3b374-9c98-4d3e-9f8e-4f02eef40c8e, gain * .75)"},"1":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/SaharanRhythms_Noiz_SP/MP3/One+Shots/BongoHighFlam_SP_223_01.mp3?cb=4d88d832-850d-4ad1-9e89-a23b3cbdfb89, gain)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/SaharanRhythms_Noiz_SP/MP3/One+Shots/BongoLowFlamQuiet_SP_223_01.mp3?cb=ae87962f-a948-484e-a2dc-392c41f14105, gain)"},"2":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/SaharanRhythms_Noiz_SP/MP3/One+Shots/BongoHighRoll_SP_223_01.mp3?cb=6d81f0bb-9e13-4404-aae5-02bce10d2a0a, gain)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/SaharanRhythms_Noiz_SP/MP3/One+Shots/BongoLowRoll_SP_223_01.mp3?cb=39110d56-d2cd-4be7-8e1f-d2f1c9f677cf, gain)"},"3":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/CinematicPercussion_Noiiz_SP/MP3/One+Shots/Chimes+&+Bells/TubularBell_5_Mallet_395_SP.mp3?cb=2baef87d-892e-4704-8068-26d15072850c, gain / 2, 30)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/CinematicPercussion_Noiiz_SP/MP3/One+Shots/Chimes+&+Bells/TubularBell_7_Mallet_395_SP.mp3?cb=dfd72abd-0bdc-4d0e-8085-dea85017a49c, gain / 2, 20)"},"liquidations":{"buyAudio":"playurl(https://d7d3471nr939s.cloudfront.net/PlasticDrums_Noiiz/MP3/One+Shots/Kitchen+Kit/D_WaterBottleTom_01_631.mp3?cb=d1d46d16-81be-4674-875c-6c55cb54c797, gain)","sellAudio":"playurl(https://d7d3471nr939s.cloudfront.net/PlasticDrums_Noiiz/MP3/One+Shots/Kitchen+Kit/C%23_PlasticBottleKick_01_631.mp3?cb=eb673166-02a6-43b9-8187-daf05ea65a16, gain)"}}},{"name":"indicator:classic","type":"indicator","data":{"options":{"upColor":"rgba(100, 157, 102, 0)","downColor":"rgb(156,52,62)","borderUpColor":"rgb(59, 202, 109)","borderDownColor":"rgb(239,67,82)","wickUpColor":"rgb(59, 202, 109)","wickDownColor":"rgb(239,67,82)","borderVisible":true,"lastValueVisible":true,"priceLineColor":"rgba(255, 255, 255, .5)","priceLineVisible":true}}}]')},"7ab0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"slider",class:{"-vertical":t.vertical,"-disabled":t.disabled}},[n("div",t._g({ref:"track",staticClass:"slider__track"},t.trackSlide?{mousedown:t.select,touchstart:t.select}:{}),[n("div",{ref:"fill",staticClass:"slider__fill"}),t.showCompletion&&t.handles[0]?n("div",{staticClass:"slider__completion",style:"width: "+t.handles[0].positionX+"px"}):t._e(),t._l(t.handles,(function(e,r){return n("div",{key:r,staticClass:"slider__handle",style:"transform: translate("+e.positionX+"px, "+e.positionY+"px); background-color: "+e.color+";",on:{mousedown:t.select,touchstart:t.select}},[t.label?n("div",{staticClass:"slider__label"},[t._t("tooltip",[t._v(" "+t._s(e.value)+" ")],{value:e.value})],2):t._e()])}))],2)])},i=[],o=n("bea1"),a=n("724c");function s(t){return d(t)||u(t)||l(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function d(t){if(Array.isArray(t))return p(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h={name:"VerteSlider",props:{gradient:Array,colorCode:{type:Boolean,default:!1},label:{type:Boolean,default:!1},trackSlide:{type:Boolean,default:!0},vertical:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:255},step:{type:Number,default:1},value:{type:Number,default:0},handlesValue:{type:Array,default:function(){return[0]}},showCompletion:{type:Boolean,default:!0}},data:function(){return{fill:{translate:0,scale:0},multiple:!1,currentValue:0,handles:[],values:[]}},watch:{gradient:function(t){this.initGradient(t),this.reloadHandlesColor()},values:function(){this.multiple=this.values.length>1,this.fill=!this.multiple&&(this.fill||{})},value:function(t,e){t!==e&&t!==this.currentValue&&this.updateValue(this.value,!0)}},methods:{init:function(){var t=this;this.$emitInputEvent=Object(a["a"])((function(){t.$emit("input",t.currentValue)})),this.multiple=this.values.length>1,this.values=this.handlesValue,this.handles=this.handlesValue.map((function(t){return{value:t,positionX:0,positionY:0,color:"#fff"}})),1===this.values.length&&(this.values[0]=Number(this.value)),this.values.sort(),this.initElements(),this.gradient&&this.initGradient(this.gradient),this.initEvents(),this.values.forEach((function(e,n){t.activeHandle=n,t.updateValue(e,!0)}))},initElements:function(){var t;(this.wrapper=this.$refs.wrapper,this.track=this.$refs.track,this.fill=this.$refs.fill,this.classes)&&(t=this.wrapper.classList).add.apply(t,s(this.classes))},initGradient:function(t){t.length>1?this.fill.style.backgroundImage="linear-gradient(90deg, ".concat(t,")"):(this.fill.style.backgroundImage="",this.fill.style.backgroundColor=t[0],this.handles.forEach((function(e){e.style.color=t[0]})))},handleResize:function(){this.updateSize(),this.updateValue(this.currentValue,!0)},initEvents:function(){window.addEventListener("resize",this.handleResize)},select:function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),2!==t.buttons){if(this.pendingDblClick)return this.pendingDblClick=!1,void this.$emit("reset");this.pendingDblClick=!0,this._dblClickTimeout=window.setTimeout((function(){e.pendingDblClick=!1}),300),this.updateSize(),this.track.classList.add("slider--dragging"),this.ticking=!1;var n=this.getStepValue(t);if(this.multiple){var r=Object(a["c"])(this.values,n);this.activeHandle=this.values.indexOf(r)}this.updateValue(n),this.tempDrag=this.dragging.bind(this),this.tempRelease=this.release.bind(this),document.addEventListener("mousemove",this.tempDrag),document.addEventListener("touchmove",this.tempDrag),document.addEventListener("touchend",this.tempRelease),document.addEventListener("mouseup",this.tempRelease)}},dragging:function(t){var e=this,n=this.getStepValue(t);this.ticking||(window.requestAnimationFrame((function(){e.updateValue(n),e.ticking=!1})),this.ticking=!0)},release:function(){this.track.classList.remove("slider--dragging"),document.removeEventListener("mousemove",this.tempDrag),document.removeEventListener("touchmove",this.tempDrag),document.removeEventListener("mouseup",this.tempRelease),document.removeEventListener("touchend",this.tempRelease)},getStepValue:function(t){var e,n=Object(a["d"])(t),r=n.x,i=n.y;if(this.vertical){var o=i-this.currentY,s=parseInt((this.height-o)/this.stepHeight+.5,10);e=s*this.step+this.min}else{var c=r-this.currentX,l=parseInt(c/this.stepWidth+.5,10);e=l*this.step+this.min}return this.decimalsCount?Number(e.toFixed(this.decimalsCount)):e},updateSize:function(){var t=this.track.getBoundingClientRect();this.vertical?(this.currentY=t.top,this.height=this.$el.clientHeight,this.height||(this.height=parseInt(this.track.parentElement.style.height)),!this.height&&t.height&&(this.height=t.height),this.stepHeight=this.height/(this.max-this.min)*this.step):(this.currentX=t.left,this.width=this.$el.clientWidth,this.width||(this.width=parseInt(this.track.parentElement.style.width)),!this.width&&t.width&&(this.width=t.width),this.stepWidth=this.width/(this.max-this.min)*this.step)},getPositionPercentage:function(t){return((t-this.min)/(this.max-this.min)).toFixed(2)},normalizeValue:function(t){if(isNaN(Number(t)))return this.value;if(this.multiple){var e=this.values[this.activeHandle-1]||this.min,n=this.values[this.activeHandle+1]||this.max;t=Math.min(Math.max(Number(t),e),n)}return Math.min(Math.max(Number(t),this.min),this.max)},addHandle:function(t){var e=Object(a["c"])(this.values,t),n=this.values.indexOf(e),r=this.values[n],i=r<=t?n+1:n;this.handles.splice(i,0,{value:t,positionX:0,positionY:0,color:"#fff"}),this.values.splice(i,0,t),this.activeHandle=i,this.currentValue=null,this.updateValue(t)},removeHandle:function(t){this.handles.splice(t,1),this.values.splice(t,1),this.activeHandle=0===t?t+1:t-1},getHandleColor:function(t){for(var e=this.gradient.length-1,n=t,r=1;r<=e;r++)if(n>=(r-1)/e&&n<=r/e){var i=(n-(r-1)/e)/(1/e);return Object(o["g"])(this.gradient[r-1],this.gradient[r],i)}return"rgb(0, 0, 0)"},reloadHandlesColor:function(){var t=this;this.handles.forEach((function(e,n){var r=t.getPositionPercentage(e.value),i=t.getHandleColor(r);t.handles[n].color=i.toString()}))},updateValue:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.requestAnimationFrame((function(){var r=e.normalizeValue(t),i=e.getPositionPercentage(r);if(e.fill&&(e.fill.translate=i*(e.vertical?e.height:e.width),e.fill.scale=1-i),e.values[e.activeHandle]=r,e.handles[e.activeHandle].value=r,e.vertical?e.handles[e.activeHandle].positionY=(1-i)*e.height:e.handles[e.activeHandle].positionX=i*e.width,e.currentValue=r,e.gradient){var o=e.getHandleColor(i);e.handles[e.activeHandle].color=o.toString(),e.colorCode&&(e.currentValue=o)}n||e.$emitInputEvent()}))}},created:function(){var t=this.step.toString().split(".")[1];this.currentValue=this.value,this.decimalsCount=t?t.length:0},mounted:function(){var t=this;this.init(),this.$nextTick((function(){t.updateSize(),t.updateValue(void 0,!0)}))},destroyed:function(){window.removeEventListener("resize",this.handleResize),this._updateSizeTimeout&&clearTimeout(this._updateSizeTimeout)}},f=h,m=(n("3252"),n("2877")),y=Object(m["a"])(f,r,i,!1,null,null,null);e["a"]=y.exports},"7e2d":function(t,e,n){"use strict";n("6904")},8219:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAS5JREFUeNrsljEOgjAUQIuEGJ1c3D0C3kDdTTyCB3F09wgewl2OIEdwN5o6SFQM+Jt8TAeV/t8fF2zyQ4D+/15bKCjV9BZwExebSQyHBE/Hy+k2/ZmABe/hJc2VCATgykciEIKzJQIC3EB3EIOarnuIIUhol7otAjxxgCvsk2CO/wxY8Jj4uKS4HJot4AF3lqhbgpUHXGHumvUMwOhN4lxgs5thLfIMSMBftUBiRBVIBQW0cL1/a8j/QB8iEuLkEAfqWxAJDjTi7AOZoMDl043wS9IV7/vOhBnImSMgIZHhJqS4ApVE27Gv3e4Qp7pOrkWpEjnCSymBkiBh4EeIwqUwZVpdJEhwxVhXI3GD6L7ZxAoqnCNgS3QsiQr+oBYLma9XYUmUCM//XzZOewowABKyYnH/TytxAAAAAElFTkSuQmCC"},8322:function(t,e,n){},8837:function(t,e,n){},"88e8":function(t,e,n){},"8b12":function(t,e,n){"use strict";n("09b7")},"8dbc":function(t,e,n){"use strict";n("bd8a")},9613:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=+new Date,i=(/aggr.trade$/.test(window.location.hostname),1e3),o=100,a={xl:32,lg:24,md:16,sm:12,xs:8},s={xl:1400,lg:1024,md:768,sm:480,xs:0}},a857:function(t,e,n){"use strict";n("88e8")},a914:function(t,e,n){"use strict";var r=n("0613"),i=n("28f3"),o=n("ba10"),a=n.n(o);function s(){return new Worker(n.p+"js/aggregator.96d9e9d9.worker.js")}var c=n("06c2"),l=n("be31");function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(t,e){return y(t)||m(t,e)||h(t,e)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function y(t){if(Array.isArray(t))return t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function k(t){var e=S();return function(){var n,r=E(t);if(e){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?O(t):e}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}var I=function(t){_(n,t);var e=k(n);function n(){var t;return v(this,n),t=e.call(this),t.pending=0,t.worker=new s,t.worker.addEventListener("message",(function(e){t.emit(e.data.op,e.data.data,e.data.trackingId)})),t.listenUtilityEvents(),window.addEventListener("beforeunload",(function(){t.worker.postMessage({op:"unload"})})),t}return g(n,[{key:"dispatch",value:function(t){this.worker.postMessage(t)}},{key:"connect",value:async function(t){if(t.length){for(var e=0;e<t.length;e++){var n=Object(i["s"])(t[e]),o=d(n,2),a=o[0],s=o[1];if(r["b"].state.exchanges[a].disabled){var c=[];for(var l in r["b"].state.panes.panes)-1!==r["b"].state.panes.panes[l].markets.indexOf(t[e])&&c.push(l);r["b"].dispatch("app/showNotice",{type:"warning",timeout:1e4,title:"⚠️ Not connecting to ".concat(a,":").concat(s," because ").concat(a," is disabled<br><small>Found market in ").concat(c.join(", "),".</small>")}),t.splice(e,1),e--}}await this.dispatchAsync({op:"connect",data:t})}}},{key:"disconnect",value:async function(t){t.length&&await this.dispatchAsync({op:"disconnect",data:t})}},{key:"dispatchAsync",value:function(t){var e=this,n=Object(i["v"])(8);return this.pending,this.pending++,new Promise((function(r){var i=function n(i){var o=i.data;o.trackingId===t.trackingId&&(e.pending--,e.worker.removeEventListener("message",n),r(o.data))};e.worker.addEventListener("message",i),t.trackingId=n,e.worker.postMessage(t)}))}},{key:"listenUtilityEvents",value:function(){var t=this;this.once("hello",(async function(){await l["a"].initialize();var t=await l["a"].getCurrentWorkspace();l["a"].setCurrentWorkspace(t)})),this.on("connection",(function(t){var e=t.exchange,n=t.pair;r["b"].commit("app/ADD_ACTIVE_MARKET",{exchange:e,pair:n})})),this.on("disconnection",(function(t){var e=t.exchange,n=t.pair;r["b"].commit("app/REMOVE_ACTIVE_MARKET",{exchange:e,pair:n})})),this.on("products",(async function(e,n){var r=e.exchange,i=e.endpoints,o=await Object(c["a"])(r,i);t.dispatch({op:"products",data:{exchange:r,data:o},trackingId:n})}))}}]),n}(a.a);e["a"]=new I},a97b:function(t,e,n){},bb78:function(t,e,n){"use strict";n("6fa3")},bd60:function(t,e,n){"use strict";var r=n("0c01"),i=n("be31"),o=n("28f3"),a=n("d951"),s=n("2b0e");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=p(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f={},m={indicatorsErrors:{},indicators:{},resizingIndicator:null,timeframe:10,refreshRate:500,showLegend:!0,showHorizontalGridlines:!1,horizontalGridlinesColor:"rgba(255,255,255,.1)",showVerticalGridlines:!1,verticalGridlinesColor:"rgba(255,255,255,.1)",showWatermark:!1,watermarkColor:"rgba(255,255,255,.1)"},y={boot:async function(t){var e=t.state;if(!Object.keys(e.indicators).length){var n,r=await i["a"].getIndicators(),o=d(r);try{for(o.s();!(n=o.n()).done;){var c=n.value;!1!==c.enabled&&(c.series||(c.series=[]),s["default"].set(e.indicators,c.id,c))}}catch(l){o.e(l)}finally{o.f()}Object(a["b"])(e)}e._booted=!0},addIndicator:function(t,e){var n=t.commit;return e=l(l({script:"plotline(avg_close(bar))"},e),{},{options:l({priceScaleId:e.priceScaleId||e.id},e.options)}),n("ADD_INDICATOR",e),e.id},toggleSerieVisibility:function(t,e){var n=t.commit,r=t.state;n("SET_INDICATOR_OPTION",{id:e,key:"visible",value:!(!r.indicators[e].options||"undefined"===typeof r.indicators[e].options.visible)&&!r.indicators[e].options.visible})},setIndicatorOption:function(t,e){var n=t.commit,r=t.state,i=e.id,o=e.key,a=e.value;try{a=JSON.parse(a)}catch(u){}if("scaleMargins"===o){var s=r.indicators[i].options.priceScaleId;if(s)for(var c in r.indicators){var l=r.indicators[c].options;i!==c&&l.priceScaleId===s&&n("SET_INDICATOR_OPTION",{id:c,key:o,value:a})}}r.indicators[i]&&r.indicators[i].options[o]===a||(n("SET_INDICATOR_OPTION",{id:i,key:o,value:a}),n("FLAG_INDICATOR_AS_UNSAVED",i),-1!==r.indicators[i].name.indexOf(o)&&n("UPDATE_INDICATOR_DISPLAY_NAME",i))},removeIndicator:async function(t,e){var n=t.state,i=t.commit,a=t.dispatch,s=e.id,c=e.confirm,l=void 0===c||c;n.indicators[s].unsavedChanges&&l&&await r["a"].confirm({message:'You have unsaved changes on "'.concat(s,'".<br>Save this indicator to workspace before remove ?'),cancel:"DISCARD",ok:"SAVE"})&&await a("saveIndicator",s),i("REMOVE_INDICATOR",s),await Object(o["w"])(100)},saveIndicator:async function(t,e){var n=t.state,r=t.commit,o=t.dispatch;r("FLAG_INDICATOR_AS_SAVED",e),i["a"].saveIndicator(n.indicators[e]),await o("transferIndicator",n.indicators[e])},renameIndicator:async function(t,e){var n=t.commit,r=t.state,i=t.dispatch,a=e.id,s=e.name,c=Object(o["y"])(Object(o["x"])(s),Object.keys(r.indicators)),u=JSON.parse(JSON.stringify(r.indicators[a])),d=l(l({},u),{},{name:s,id:c});return n("ADD_INDICATOR",d),i("removeIndicator",{id:a,confirm:!1}),c},resizeIndicator:function(t,e){var n=t.commit;n("TOGGLE_INDICATOR_RESIZE",e)},transferIndicator:function(t,e){var n=t.state,r=t.rootState;for(var i in r.panes.panes)if(i!==n._id&&"chart"===r.panes.panes[i].type){var o=r[i].indicators[e.id];o.unsavedChanges||(o.options=e.options,this.commit(i+"/SET_INDICATOR_SCRIPT",{id:e.id}))}},rollbackIndicator:async function(t,e){var n=t.state,r=t.commit,o=await i["a"].getIndicator(e);o?(n.indicators[e]=o,r("SET_INDICATOR_SCRIPT",{id:e})):this.dispatch("app/showNotice",{title:"Indicator ".concat(e," doesn't exist in your library, nothing to rollback to."),type:"error"})}},v={SET_REFRESH_RATE:function(t,e){t.refreshRate=+e||0},TOGGLE_LEGEND:function(t){t.showLegend=!t.showLegend},SET_GRIDLINES:function(t,e){var n=e.type,r=e.value;"vertical"===n?"boolean"===typeof r?t.showVerticalGridlines=r:t.verticalGridlinesColor=r:"boolean"===typeof r?t.showHorizontalGridlines=r:t.horizontalGridlinesColor=r},SET_WATERMARK:function(t,e){var n=e.value;"boolean"===typeof n?t.showWatermark=n:t.watermarkColor=n},SET_INDICATOR_SERIES:function(t,e){var n=e.id,r=e.series;t.indicators[n].series=r},SET_INDICATOR_ERROR:function(t,e){var n=e.id,r=e.error;r?s["default"].set(t.indicatorsErrors,n,r):s["default"].set(t.indicatorsErrors,n,null)},SET_TIMEFRAME:function(t,e){t.timeframe=e},ADD_INDICATOR:function(t,e){s["default"].set(t.indicators,e.id,e)},UPDATE_DESCRIPTION:function(t,e){var n=e.id,r=e.description;s["default"].set(t.indicators[n],"description",r)},REMOVE_INDICATOR:function(t,e){s["default"].delete(t.indicators,e)},SET_INDICATOR_OPTION:function(t,e){var n=e.id,r=e.key,i=e.value;t.indicators[n]||(t.indicators[n]={}),t.indicators[n].options||(t.indicators[n].options={}),s["default"].set(t.indicators[n].options,r,i)},REMOVE_INDICATOR_OPTION:function(t,e){var n=e.id,r=e.key;t.indicators[n]&&s["default"].delete(t.indicators[n].options,r)},SET_INDICATOR_SCRIPT:function(t,e){"undefined"!==typeof e.value&&(this.commit(t._id+"/FLAG_INDICATOR_AS_UNSAVED",e.id),s["default"].set(t.indicators[e.id],"script",e.value))},FLAG_INDICATOR_AS_UNSAVED:function(t,e){s["default"].set(t.indicators[e],"unsavedChanges",!0)},FLAG_INDICATOR_AS_SAVED:function(t,e){s["default"].set(t.indicators[e],"unsavedChanges",!1)},TOGGLE_INDICATOR_RESIZE:function(t,e){t.resizingIndicator!==e?t.resizingIndicator=e:t.resizingIndicator=null},UPDATE_INDICATOR_DISPLAY_NAME:function(t,e){var n=t.indicators[e].name.replace(/\{([\w\d_]+)\}/g,(function(n,r){return t.indicators[e].options[r]||""}));s["default"].set(t.indicators[e],"displayName",n)}},b={namespaced:!0,state:m,getters:f,actions:y,mutations:v},g=n("2818"),_={},C={granularity:5e3,window:6e4,enableChart:!1,buckets:{trades:{id:"trades",name:"TRADES",input:"cbuy + csell",enabled:!0,color:"rgba(255, 255, 255, .25)",precision:2,type:"line"},vold:{id:"vold",name:"VOLUME Δ",input:"vbuy - vsell",enabled:!0,color:"#40d745",type:"area"},tradesd:{id:"tradesd",name:"TRADES Δ",input:"cbuy - csell",enabled:!0,color:"#2196f3",precision:2,type:"line"},"1hliq":{id:"1hliq",name:"1H LIQUIDATIONS Δ",window:36e5,input:"lbuy-lsell",enabled:!1,color:"value>0?'#43a047':'#f44336'",conditionnalColor:!0,type:"histogram"}}},k={boot:async function(t){var e=t.state;e._booted=!0},createBucket:function(t){var e=t.state,n=t.commit,i=Object.keys(e.buckets),a=i.map((function(t){return e.buckets[t].name})),s=Object(o["y"])("Untitled Bucket",a),c=Object(o["y"])(Object(o["x"])(s),i);n("CREATE_BUCKET",{id:c,name:s}),r["a"].open(g["a"],{paneId:e._id,bucketId:c})},updateBucket:function(t,e){var n=t.commit,r=t.state,i=e.id,o=e.prop,a=e.value;if(r.buckets[i][o]!==a){var s="";s+="boolean"===typeof a?"TOGGLE_BUCKET":"SET_BUCKET_"+o.toUpperCase(),n(s,{id:i,value:a})}},renameBucket:function(t,e){var n=t.commit,r=t.state,i=e.id,a=e.name,s=Object.keys(r.buckets).filter((function(t){return t!==i})).map((function(t){return r.buckets[t].name}));a=Object(o["y"])(a,s),n("RENAME_BUCKET",{id:i,name:a})}},w={TOGGLE_BUCKET:function(t,e){var n=e.id,r=e.value,i=t.buckets[n];i.enabled=!!r,s["default"].set(t.buckets,n,i)},SET_BUCKET_INPUT:function(t,e){var n=e.id,r=e.value,i=t.buckets[n];i.input=r,s["default"].set(t.buckets,n,i)},RENAME_BUCKET:function(t,e){var n=e.id,r=e.name,i=t.buckets[n];i.name=r,s["default"].set(t.buckets,n,i)},SET_BUCKET_COLOR:function(t,e){var n=e.id,r=e.value,i=t.buckets[n];i.color=r,s["default"].set(t.buckets,n,i)},SET_BUCKET_TYPE:function(t,e){var n=e.id,r=e.value,i=t.buckets[n];i.type=r,i.conditionnalColor&&"histogram"!==r&&this.commit(t._id+"/TOGGLE_BUCKET_COLOR_CONDITION",n),s["default"].set(t.buckets,n,i)},TOGGLE_BUCKET_COLOR_CONDITION:function(t,e){var n=t.buckets[e];n.conditionnalColor=!n.conditionnalColor,n.conditionnalColor||this.commit(t._id+"/SET_BUCKET_COLOR",{id:e,value:this.state.settings.textColor}),s["default"].set(t.buckets,e,n)},SET_BUCKET_PRECISION:function(t,e){var n=e.id,r=e.value,i=t.buckets[n];r=parseInt(r),i.precision=isNaN(r)?null:r,s["default"].set(t.buckets,n,i)},SET_BUCKET_WINDOW:function(t,e){var n=e.id,r=e.value,i=t.buckets[n],o=parseInt(r);isNaN(o)?i.window=null:(/[\d.]+s/.test(r)?o*=1e3:/[\d.]+h/.test(r)?o*=36e5:o*=6e4,i.window=o),s["default"].set(t.buckets,n,i)},CREATE_BUCKET:function(t,e){var n=e.id,r=e.name;s["default"].set(t.buckets,n,{id:n,name:r,input:"vbuy + vsell",enabled:!1})},REMOVE_BUCKET:function(t,e){s["default"].delete(t.buckets,e)},SET_WINDOW:function(t,e){var n=parseInt(e)||0;/[\d.]+s/.test(e)?n*=1e3:/[\d.]+h/.test(e)?n*=36e5:n*=6e4,t.window=n},TOGGLE_CHART:function(t,e){t.enableChart=!!e}},O={namespaced:!0,state:C,getters:_,actions:k,mutations:w};function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t){return T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}var x={getThreshold:function(t){return function(e){if("liquidations"===e)return t.liquidations;for(var n=0;n<t.thresholds.length;n++)if(t.thresholds[n].id===e)return t.thresholds[n]}}},A={liquidations:{id:"liquidations",amount:1e5,buyColor:"rgb(103,58,183)",sellColor:"rgb(103,58,183)",buyAudio:"var srqtR = Math.min(1, gain / 4)\nplay(329.63, srqtR, srqtR*5,0,,,'sine')\nplay(329.63, srqtR, srqtR*8,0.1,,,'sine')",sellAudio:"var srqtR = Math.min(1, gain / 6)\nplay(440, srqtR, srqtR*5,0,,,'sine')\nplay(440, srqtR, srqtR*8,0.1,,,'sine')"},thresholds:[{id:"threshold",amount:1e5,buyColor:"rgba(119, 148, 92, 0.5)",sellColor:"rgba(239, 67, 82, 0.5)",buyAudio:"play(659.26, gain / 10, 0.1 + gain / 6)",sellAudio:"play(493.88, gain * 1.5 / 10, 0.1 + gain / 6)"},{id:"significant",amount:25e4,buyColor:"rgb(100, 157, 102)",sellColor:"rgb(239, 67, 82)",buyAudio:"play(659.26, 0.05 + gain / 10, 0.2 + ratio * 0.23,0,,0);\nplay(830.6, 0.05 + gain / 10, 0.2 + ratio * 0.23, 0.08,,0)",sellAudio:"play(493.88, 0.05 + gain * 1.5 / 10, 0.2 + ratio * 0.23,0,,0);\nplay(392, 0.05 + gain * 1.5 / 10, 0.2 + ratio * 0.23, 0.08,,0)"},{id:"huge",amount:1e6,gif:"cash",buyColor:"rgb(59, 202, 109)",sellColor:"rgb(235, 30, 47)",buyAudio:"play(659.26, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0,,0);\nplay(830.6, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0.08,,0);\nplay(987.76, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0.16,,0);\nplay(1318.52, 0.05 + gain / 10, 0.1 + ratio * 0.23, 0.24,,0)",sellAudio:"play(493.88, 0.05 + gain / 25, 0.1 + ratio * 0.23, 0,,0);\nplay(369.99, 0.05 + gain * 1.5 / 10, 0.2, 0.08,,0);\nplay(293.66, 0.05 + gain * 1.5 / 10, 0.2, 0.16,,0);\nplay(246.94, 0.05 + gain * 1.5 / 10, 0.1 + ratio * 0.23, 0.24,,0)"},{id:"rare",amount:1e7,gif:"explosion",buyColor:"rgb(0, 255, 127)",sellColor:"rgb(217, 31, 28)",buyAudio:"play(659.26, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0,,0);\nplay(830.6, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0.08,,0);\nplay(987.76, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0.16,,0);\nplay(1318.52, 0.05 + gain / 10, 0.1 + ratio * 0.13, 0.24,,0)",sellAudio:"play(493.88, 0.05 + gain / 25, 0.1 + ratio * 0.13, 0,,0);\nplay(369.99, 0.05 + gain * 1.5 / 10, 0.2, 0.08,,0);\nplay(293.66, 0.05 + gain * 1.5 / 10, 0.2, 0.16,,0);\nplay(246.94, 0.05 + gain * 1.5 / 10, 0.1 + ratio * 0.13, 0.24,,0)"}],audioThreshold:null,multipliers:{},showThresholdsAsTable:!0,maxRows:100,muted:!1,audioPitch:null,audioVolume:null,showTradesPairs:!1,tradeType:"both",showLogos:!0,monochromeLogos:!0},P={boot:async function(t){var e=t.state;"boolean"===typeof e.liquidationsOnly&&(e.tradeType="liquidations",delete e.liquidationsOnly,Object(a["b"])(e)),e._booted=!0},updateThreshold:function(t,e){var n=t.state,r=t.commit,i=e.index,o=e.prop,a=e.value,s=n.thresholds[i];if(!s)throw new Error("no threshold");var c={index:i};a&&"object"===T(a)?c=E(E({},c),a):c.value=a,r("SET_THRESHOLD_"+o,c)},updateLiquidations:function(t,e){var n=t.state,r=t.commit,i=e.prop,o=e.value,a=n.liquidations;if(!a)throw new Error("no liquidation threshold");r("SET_LIQUIDATIONS_"+i,o)}},R={TOGGLE_TRADES_PAIRS:function(t){t.showTradesPairs=!t.showTradesPairs},SET_MAX_ROWS:function(t,e){t.maxRows=e},TOGGLE_LOGOS:function(t,e){t.showLogos=!!e},TOGGLE_MUTED:function(t){t.muted=!t.muted,t.muted||0!==t.audioVolume||(t.audioVolume=null)},SET_AUDIO_PITCH:function(t,e){"string"===typeof e&&(e=e.replace(/[^0-9-.]/g,"")),e=+e,t.audioPitch=e&&1!==e?e:null},SET_AUDIO_VOLUME:function(t,e){"string"===typeof e&&(e=e.replace(/[^0-9-.]/g,"")),isNaN(+e)||null===e?t.audioVolume=null:(t.audioVolume=+e,0!==t.audioVolume||t.muted?t.audioVolume>0&&t.muted&&(t.muted=!1):t.muted=!0)},TOGGLE_MONOCHROME_LOGOS:function(t,e){t.monochromeLogos=!!e},TOGGLE_TRADE_TYPE:function(t){var e=["both","liquidations","trades"],n=Math.max(0,e.indexOf(t.tradeType));t.tradeType=e[(n+1)%e.length]},TOGGLE_THRESHOLDS_TABLE:function(t,e){t.showThresholdsAsTable=!!e},SET_THRESHOLD_AMOUNT:function(t,e){var n=e.id,r=e.value,i=this.getters[t._id+"/getThreshold"](n);i&&("string"===typeof r&&/m|k$/i.test(r)&&(/m$/i.test(r)?i.amount=1e6*parseFloat(r):i.amount=1e3*parseFloat(r)),i.amount=+r,this.commit(t._id+"/UPDATE_THRESHOLD",i))},SET_THRESHOLD_MULTIPLIER:function(t,e){var n=e.identifier,r=e.multiplier;(isNaN(r)||r<0)&&(r=0),s["default"].set(t.multipliers,n,r)},SET_THRESHOLD_GIF:function(t,e){var n=this.getters[t._id+"/getThreshold"](e.id);n&&(e.value.trim().length?n.gif=e.value:(e.value=n.gif,e.isDeleted=!0,n.gif=null),this.commit(t._id+"/UPDATE_THRESHOLD",n))},SET_THRESHOLD_COLOR:function(t,e){var n=e.id,r=e.side,i=e.value,o=this.getters[t._id+"/getThreshold"](n);o&&(o[r]=i)},SET_THRESHOLD_AUDIO:function(t,e){var n=e.id,r=e.buyAudio,i=e.sellAudio,o=this.getters[t._id+"/getThreshold"](n);o&&(o["buyAudio"]=r,o["sellAudio"]=i)},ADD_THRESHOLD:function(t){var e=t.thresholds[t.thresholds.length-1],n="play(659.26, ratio, ratio, 0)",r="play(493.88, ratio, ratio, 0)";e&&(n=e.buyAudio,r=e.sellAudio),t.thresholds.push({id:Object(o["v"])(8),amount:2*t.thresholds[t.thresholds.length-1].amount,buyColor:"rgb(0, 255, 0)",sellColor:"rgb(255, 0, 0)",buyAudio:n,sellAudio:r})},DELETE_THRESHOLD:function(t,e){var n=t.thresholds.indexOf(t.thresholds.find((function(t){return t.id===e})));t.thresholds.splice(n,1)},UPDATE_THRESHOLD:function(t,e){if("liquidations"===e.id)t.liquidations=e;else{var n=t.thresholds.indexOf(t.thresholds.find((function(t){return t.id===e.id})));if(-1===n)return;s["default"].set(t.thresholds,n,e)}},SET_AUDIO_THRESHOLD:function(t,e){t.audioThreshold=e}},j={namespaced:!0,state:A,getters:x,actions:P,mutations:R},D={},N={animateSort:!0,showPairs:!1,boldFont:!1},L={boot:async function(t){var e=t.state;e._booted=!0}},B={TOGGLE_SORT_ANIMATION:function(t){t.animateSort=!t.animateSort},TOGGLE_PAIRS:function(t){t.showPairs=!t.showPairs},TOGGLE_BOLD_FONT:function(t){t.boldFont=!t.boldFont}},M={namespaced:!0,state:N,getters:D,actions:L,mutations:B},$={},U={granularity:5e3,liquidationsOnly:!1,steps:[3e4,6e4,9e5,18e5],count:!1},F={boot:async function(t){var e=t.state;e._booted=!0}},H={REPLACE_COUNTERS:function(t,e){t.steps=e.sort((function(t,e){return t-e}))},TOGGLE_COUNT:function(t){t.count=!t.count},TOGGLE_LIQUIDATIONS_ONLY:function(t){t.liquidationsOnly=!t.liquidationsOnly}},q={namespaced:!0,state:U,getters:$,actions:F,mutations:H};e["a"]={chart:b,stats:O,trades:j,prices:M,counters:q}},bd8a:function(t,e,n){},be31:function(t,e,n){"use strict";var r=n("392d"),i=n("7596"),o=n("cb7c"),a=n("0613"),s=n("28f3"),c=n("3f4f"),l=n("bd60");function u(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h={0:function(t){var e=t.createObjectStore("workspaces",{keyPath:"id"});e.createIndex("name","name");var n=t.createObjectStore("series",{keyPath:"id"});n.createIndex("name","name"),t.createObjectStore("products",{keyPath:"exchange"}),t.createObjectStore("gifs",{keyPath:"slug"})},1:function(t){t.deleteObjectStore("series");var e=t.createObjectStore("indicators",{keyPath:"id"});e.createIndex("name","name")},2:function(t){t.createObjectStore("presets",{keyPath:"name"})}},f={1:function(t){var e=t.states.panes.layout;t.states.panes.layouts={lg:JSON.parse(JSON.stringify(e))},delete t.states.panes.layout;var n=JSON.parse(JSON.stringify(l["a"].trades.state)),r=JSON.parse(JSON.stringify(o.panes.liquidations.settings)),i=function(t,e){var i,o=null,a=null;if(i="liquidations"===e?r:n,"liquidations"===t.id)o=n.liquidations.buyAudio,a=n.liquidations.sellAudio;else{var s=i.thresholds.find((function(e){return e.id===t.id}));s&&(o=s.buyAudio,a=s.sellAudio)}null!==o&&null!==a&&(t.buyAudio=o,t.sellAudio=a)};for(var a in t.states.panes.panes)if("trades"===t.states.panes.panes[a].type&&t.states[a]){i(t.states[a].liquidations,a);var s,c=u(t.states[a].thresholds);try{for(c.s();!(s=c.n()).done;){var d=s.value;i(d,a)}}catch(p){c.e(p)}finally{c.f()}}},2:function(t){t.states.settings&&(t.states.settings.audioFilters={HighPassFilter:!!t.states.settings.audioFilter,LowPassFilter:!1,Compressor:!!t.states.settings.audioCompressor,Delay:!!t.states.settings.audioDelay,PingPongDelay:!!t.states.settings.audioPingPong,Chorus:!1},delete t.states.settings.audioFilter,delete t.states.settings.audioCompressor,delete t.states.settings.audioPingPong,delete t.states.settings.audioDelay)}};function m(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=y(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(t,e){if(t){if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&k(t.prototype,e),n&&k(t,n),t}var O=function(){function t(){C(this,t),this.urlStrategy="history",this.defaultInserted=!1,/github\.io/.test(window.location.hostname)&&(this.urlStrategy="hash"),this.latestDatabaseVersion=Math.max.apply(null,Object.keys(h)),this.latestWorkspaceVersion=Math.max.apply(null,Object.keys(f))}return w(t,[{key:"createDatabase",value:async function(){var t,e=this;return Object(s["t"])("init database"),new Promise((function(n){Object(c["b"])("aggr",e.latestDatabaseVersion,{upgrade:function(n,r,i,o){t=new Promise((function(t){o.oncomplete=async function(){await e.insertDefault(n),t()}}));for(var a=r?r+1:r;a<=i;a++)"function"===typeof h[a]&&h[a](n)},blocked:function(){},blocking:function(){},terminated:function(){}}).then((function(e){return t?t.then((function(){return n(e)})):n(e)})).catch((function(t){e.reset(),window.location.reload()}))}))}},{key:"initialize",value:async function(){var t=this;this.db=await this.createDatabase(),-1!==Object.values(this.db.objectStoreNames).indexOf("series")&&(await this.reset(),window.location.reload()),this.defaultInserted||setTimeout((function(){t.insertDefault(t.db)}),3e3)}},{key:"insertDefault",value:async function(t){this.defaultInserted=!0,await this.insertDefaultIndicators(t),await this.insertDefaultPresets(t)}},{key:"insertDefaultIndicators",value:async function(t){var e=+new Date,n=t.transaction("indicators","readwrite"),i=await n.store.getAllKeys();for(var o in r){var a=r[o];if(-1===i.indexOf(o)){try{await n.store.add(g(g({},a),{},{id:o,createdAt:e,updatedAt:null}))}catch(s){throw s}0}}await n.done}},{key:"insertDefaultPresets",value:async function(t){var e,n=t.transaction("presets","readwrite"),r=await n.store.getAllKeys(),o=m(i);try{for(o.s();!(e=o.n()).done;){var a=e.value;-1===r.indexOf(a.name)&&(await n.store.add(a))}}catch(s){o.e(s)}finally{o.f()}await n.done}},{key:"getCurrentWorkspace",value:async function(){var t,e;return t="hash"===this.urlStrategy?location.hash.substring(1):location.pathname.substring(1),t.length&&/^[a-zA-Z0-9]{4}$/.test(t)||(t=localStorage.getItem("workspace")),t&&(e=await this.getWorkspace(t))||(e=await this.createWorkspace()),e}},{key:"setCurrentWorkspace",value:async function(t){var e;return this.workspace&&(e=this.workspace.id),this.upgradeWorkspace(t),this.workspace=t,"hash"===this.urlStrategy?location.hash=this.workspace.id:window.history.replaceState("Object","Title","/"+this.workspace.id),localStorage.setItem("workspace",this.workspace.id),await Object(a["a"])(t,e),t}},{key:"upgradeWorkspace",value:function(t){"undefined"===typeof t.version&&(t.version=0);while(t.version<this.latestWorkspaceVersion)t.version++,"function"===typeof f[t.version]&&f[t.version](t)}},{key:"saveState",value:async function(t,e){if(!this.workspace)throw new Error("There is no current workspace");return e=this.cleanState(e),this.workspace.states[t]=e,this.saveWorkspace()}},{key:"cleanState",value:function(t){for(var e in t=JSON.parse(JSON.stringify(t)),t)"_"===e[0]&&"_id"!==e&&delete t[e];return t}},{key:"downloadWorkspace",value:function(){this.workspace.states.panes&&delete this.workspace.states.panes.marketsListeners,Object(s["g"])(this.workspace,this.workspace.id+"_"+Object(s["x"])(this.workspace.name))}},{key:"getState",value:async function(t){if(!this.workspace)throw new Error("There is no current workspace");return this.workspace.states[t]?this.workspace.states[t]:null}},{key:"removeState",value:async function(t){if(!this.workspace)throw new Error("There is no current workspace");return delete this.workspace.states[t],this.workspace.states[t]&&delete this.workspace.states[t],this.saveWorkspace()}},{key:"importWorkspace",value:async function(t){var e=+new Date;return await this.makeUniqueWorkspace(t),await this.db.add("workspaces",g(g({},t),{},{createdAt:e,updatedAt:null})),this.getWorkspace(t.id)}},{key:"makeUniqueWorkspace",value:async function(t){var e=await this.getWorkspaces(),n=e.map((function(t){return t.name})),r=e.map((function(t){return t.id}));t.name||(t.name="Untitled"),t.name=Object(s["y"])(t.name,n);var i=t.id;while(!i||-1!==r.indexOf(i))i=Object(s["v"])(4);t.id=i}},{key:"getWorkspace",value:function(t){return this.db.get("workspaces",t)}},{key:"createWorkspace",value:async function(){var t=+new Date,e={version:this.latestWorkspaceVersion,createdAt:t,updatedAt:null,name:null,id:null,states:{panes:JSON.parse(JSON.stringify(o))}};return await this.makeUniqueWorkspace(e),await this.db.add("workspaces",e),await this.getWorkspace(e.id)}},{key:"duplicateWorkspace",value:async function(){var t=+new Date,e=JSON.parse(JSON.stringify(this.workspace));return e.createdAt=t,e.updatedAt=null,await this.makeUniqueWorkspace(e),await this.db.add("workspaces",e),await this.setCurrentWorkspace(await this.getWorkspace(e.id))}},{key:"getWorkspaces",value:function(){return this.db.getAllFromIndex("workspaces","name")}},{key:"renameWorkspace",value:async function(t){if(!this.workspace)throw new Error("There is no current workspace");return this.workspace.name=t,this.saveWorkspace()}},{key:"saveWorkspace",value:async function(){if(!this.workspace)throw new Error("There is no current workspace");return this.workspace.updatedAt=+new Date,this.db.put("workspaces",JSON.parse(JSON.stringify(this.workspace)))}},{key:"removeWorkspace",value:function(t){return this.db.delete("workspaces",t)}},{key:"saveProducts",value:function(t){return this.db.put("products",t)}},{key:"getProducts",value:function(t){return this.db.get("products",t)}},{key:"deleteProducts",value:function(t){return this.db.delete("products",t)}},{key:"saveGifs",value:function(t){return this.db.put("gifs",t)}},{key:"getGifs",value:function(t){return this.db.get("gifs",t)}},{key:"deleteGifs",value:function(t){return this.db.delete("gifs",t)}},{key:"saveIndicator",value:async function(t){var e=+new Date;return t.createdAt?t.updatedAt=e:t.createdAt=e,a["b"].dispatch("app/showNotice",{type:"info",title:"Saved indicator ".concat(t.id)}),this.db.put("indicators",t)}},{key:"getIndicator",value:function(t){return this.db.get("indicators",t)}},{key:"getIndicators",value:function(){return this.db.getAllFromIndex("indicators","name")}},{key:"deleteIndicator",value:function(t){return this.db.delete("indicators",t)}},{key:"savePreset",value:function(t){return this.db.put("presets",t)}},{key:"getPreset",value:async function(t){return this.db.get("presets",t)}},{key:"removePreset",value:function(t){return this.db.delete("presets",t)}},{key:"getPresetsKeysByType",value:function(t){return this.db.getAllKeys("presets",IDBKeyRange.bound(t,t+"|",!0,!0))}},{key:"reset",value:async function(){this.db&&(this.db.close(),this.db=null,this.workspace=null),await Object(c["a"])("aggr"),localStorage.removeItem("workspace")}}]),t}();e["a"]=new O},c3f2:function(t,e,n){"use strict";n("8837")},cb7c:function(t){t.exports=JSON.parse('{"_id":"panes","layouts":{},"panes":{"chart":{"id":"chart","name":"","type":"chart","markets":["BITFINEX:BTCUSD","BINANCE:btcusdt","OKEX:BTC-USDT","KRAKEN:XBT/USD","COINBASE:BTC-USD","POLONIEX:USDT_BTC","HUOBI:btcusdt","BITSTAMP:btcusd","BITMEX:XBTUSD","BITFINEX:BTCF0:USTF0","OKEX:BTC-USD-SWAP","OKEX:BTC-USDT-SWAP","BINANCE_FUTURES:btcusdt","BINANCE_FUTURES:btcusd_perp","HUOBI:BTC-USD","KRAKEN:PI_XBTUSD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP","FTX:BTC/USD","FTX:BTC/USDT"]},"trades":{"id":"trades","name":"","type":"trades","markets":["BITFINEX:BTCUSD","BINANCE:btcusdt","OKEX:BTC-USDT","KRAKEN:XBT/USD","COINBASE:BTC-USD","POLONIEX:USDT_BTC","HUOBI:btcusdt","BITSTAMP:btcusd","BITMEX:XBTUSD","BITFINEX:BTCF0:USTF0","OKEX:BTC-USD-SWAP","OKEX:BTC-USDT-SWAP","BINANCE_FUTURES:btcusdt","BINANCE_FUTURES:btcusd_perp","HUOBI:BTC-USD","KRAKEN:PI_XBTUSD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP","FTX:BTC/USD","FTX:BTC/USDT"],"settings":{"tradeType":"trades","thresholds":[{"amount":100000}],"liquidations":{"amount":50000}}},"liquidations":{"id":"liquidations","name":"REKTS","type":"trades","markets":["BITMEX:XBTUSD","BITFINEX:BTCF0:USTF0","OKEX:BTC-USD-SWAP","OKEX:BTC-USDT-SWAP","BINANCE_FUTURES:btcusdt","BINANCE_FUTURES:btcusd_perp","HUOBI:BTC-USD","KRAKEN:PI_XBTUSD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP","BYBIT:BTCUSD"],"settings":{"tradeType":"liquidations","thresholds":[{"id":"threshold","amount":10000,"buyColor":"rgba(236,64,122,0.5)","sellColor":"rgba(255,152,0,0.5)","buyAudio":"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*2,0,,,\'sine\')\\nplay(329.63, srqtR, srqtR*4,0.08,,,\'sine\')","sellAudio":"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*2,0,,,\'sine\')\\nplay(440, srqtR, srqtR*4,0.08,,,\'sine\')"},{"id":"significant","amount":25000,"buyColor":"rgba(236,64,122,0.6)","sellColor":"rgba(255,152,0,0.7)","buyAudio":"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,\'sine\')\\nplay(329.63, srqtR, srqtR*6,0.08,,,\'sine\')","sellAudio":"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,\'sine\')\\nplay(440, srqtR, srqtR*6,0.08,,,\'sine\')"},{"id":"huge","amount":100000,"gif":"rip coffin","buyColor":"rgba(236,64,122,0.7)","sellColor":"rgba(255,152,0,0.8)","buyAudio":"var srqtR = Math.min(1, gain / 4)\\nplay(329.63, srqtR, srqtR*4,0,,,\'sine\')\\nplay(329.63, srqtR, srqtR*8,0.08,,,\'sine\')","sellAudio":"var srqtR = Math.min(1, gain / 6)\\nplay(440, srqtR, srqtR*4,0,,,\'sine\')\\nplay(440, srqtR, srqtR*8,0.08,,,\'sine\')"},{"id":"rare","amount":1000000,"gif":"rip coffin","buyColor":"rgb(156,39,176)","sellColor":"rgb(255,235,59)","buyAudio":"var srqtR = Math.min(1, gain / 10)\\nplay(329.63, srqtR, 1,0,,,\'sine\')\\nplay(329.63, srqtR, srqtR*10,0.08,,,\'sine\')","sellAudio":"var srqtR = Math.min(1, gain / 10)\\nplay(440, srqtR, 1,0,,,\'sine\')\\nplay(440, srqtR, srqtR*10,0.08,,,\'sine\')"}]}}},"marketsListeners":{}}')},cd49:function(t,e,n){"use strict";n.r(e);var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isBooted?n("div",{class:{"-loading":t.isLoading,"-no-animations":t.disableAnimations,"-auto-hide-headers":t.autoHideHeaders,"-light":"light"===t.theme},attrs:{id:"app","data-prefered-sizing-currency":t.preferedSizingCurrency,"data-base":t.baseCurrency,"data-base-symbol":t.baseCurrencySymbol,"data-quote":t.quoteCurrency,"data-quote-symbol":t.quoteCurrencySymbol}},[n("Notices"),n("div",{staticClass:"app__wrapper"},[n("Menu"),n("div",{staticClass:"app__layout"},[n("Panes")],1)],1)],1):n("div",{attrs:{id:"app"}},[n("div",{staticClass:"app-loader d-flex -column"},[t.showStuck?n("div",{staticClass:"px8 py8"},[t._v("💡 Stuck here ? "),n("button",{staticClass:"btn -text",on:{click:t.resetAndReload}},[t._v("reset everything")])]):t._e(),t._m(0)])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lds-spinner -center"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])}],a=n("9ab4"),s=n("60a3"),c=n("a914"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{staticClass:"notices",attrs:{name:t.transitionGroupName,tag:"div"},on:{beforeEnter:t.beforeEnter,enter:t.enter,afterEnter:t.afterEnter,beforeLeave:t.beforeLeave,leave:t.leave}},t._l(t.notices,(function(e){return n("div",{key:e.id,staticClass:"notice",class:"-"+e.type},[n("div",{staticClass:"notice__wrapper",on:{click:function(n){return t.$store.dispatch("app/hideNotice",e.id)}}},[e.icon?n("i",{staticClass:"notice__icon",class:e.icon}):t._e(),n("div",{staticClass:"notice__title",domProps:{innerHTML:t._s(e.title)}})])])})),0)},u=[];function d(t){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){var e=_();return function(){var n,r=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==d(e)&&"function"!==typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var k=function(t){m(n,t);var e=v(n);function n(){return p(this,n),e.apply(this,arguments)}return f(n,[{key:"notices",get:function(){return this.$store.state.app.notices}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"transitionGroupName",get:function(){return this.disableAnimations?null:"slide-notice"}},{key:"onButtonClick",value:function(t){var e=!0;"function"===typeof t.button.click&&(e=t.button.click()),!1!==e&&this.$store.dispatch("app/hideNotice",t.id)}},{key:"beforeEnter",value:function(t){t.style.height="0px"}},{key:"enter",value:function(t){var e=t.children[0],n=e.offsetHeight;n+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-top")),n+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-bottom")),n+="px",t.dataset.height=n,setTimeout((function(){t.style.height=n}),100)}},{key:"afterEnter",value:function(t){t.style.height=""}},{key:"beforeLeave",value:function(t){t.style.height=t.dataset.height}},{key:"leave",value:function(t){setTimeout((function(){t.style.height="0px"}))}}]),n}(s["c"]);k=Object(a["a"])([Object(s["a"])({name:"Notices"})],k);var w=k,O=w,S=n("2877"),E=Object(S["a"])(O,l,u,!1,null,null,null),I=E.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu",class:{"-open":t.open},attrs:{id:"menu"}},[n("button",{staticClass:"menu__button btn",on:{click:t.toggleMenu}},[n("i",{staticClass:"icon-menu"})]),n("div",{staticClass:"menu__actions",on:{click:t.onClickItem}},[n("button",{staticClass:"menu-action btn",attrs:{type:"button"},on:{click:t.showSettings}},[n("span",{staticClass:"mr4"},[t._v("Settings")]),n("i",{staticClass:"icon-cog"})]),n("tippy",{attrs:{to:"myTrigger",interactive:!0,delay:[0,400],distance:20,placement:"left",theme:"transparent"}},[n("div",{staticClass:"mt4 mb4 text-nowrap"},[n("slider",{staticStyle:{width:"100px"},attrs:{min:0,max:10,step:.1,label:!0,editable:!1,value:t.audioVolume},on:{input:function(e){return t.$store.dispatch("settings/setAudioVolume",e)},reset:function(e){return t.$store.dispatch("settings/setAudioVolume",1)}}})],1)]),n("button",{staticClass:"menu-action btn -volume",attrs:{type:"button",name:"myTrigger"},on:{click:function(e){return t.$store.commit("settings/TOGGLE_AUDIO",!t.useAudio)}}},[n("span",{staticClass:"mr4"},[t._v("Audio")]),t.useAudio?n("i",{staticClass:"icon-volume-medium",class:{"icon-volume-high":t.audioVolume>1}}):n("i",{staticClass:"icon-volume-off"})]),n("dropdown",{staticClass:"menu-action",attrs:{options:t.paneTypes,placeholder:"tf.",selectionClass:"-green"},on:{output:t.addPane,click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"selection",fn:function(){return[n("i",{staticClass:"icon-dashboard -center mr16"}),n("span",{staticClass:"mr4"},[t._v("Pane")]),n("i",{staticClass:"icon-plus"})]},proxy:!0},{key:"option",fn:function(e){var r=e.value;return[n("span",[n("div",{staticClass:"dropdown-option__title"},[t._v(t._s(r.title))]),n("div",{staticClass:"dropdown-option__description"},[t._v(t._s(r.description))])]),n("i",{staticClass:"icon-plus mr4"})]}}])}),n("button",{staticClass:"menu-action btn",attrs:{type:"button"},on:{click:function(e){return t.$store.dispatch("app/showSearch")}}},[n("span",{staticClass:"mr4"},[t._v("Search")]),n("i",{staticClass:"icon-search"})])],1)])},x=[],A=n("0c01"),P=n("7ab0"),R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"-sticky-footer",attrs:{contentClass:"settings"},on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[t._v(" Settings ")]),t.hits?n("div",{staticClass:"subtitle"},[n("i",{staticClass:"icon-bolt"}),t._v(" "),n("code",{domProps:{textContent:t._s(t.hits)}}),t._v(" messages /s")]):t._e()]),n("div",{staticClass:"column -center"})]},proxy:!0}])},[t.workspace?n("section",{staticClass:"section"},[t.settings.indexOf("workspaces")>-1?n("div",[n("div",{staticClass:"column"},[n("dropdown",{staticClass:"w-100",attrs:{options:t.activeWorkspaceMenu,selectionClass:"-blue -large w-100 column"},scopedSlots:t._u([{key:"selection",fn:function(){return[n("i",{staticClass:"icon-dashboard -center mr16"}),n("div",{staticClass:"-fill text-left"},[n("div",{staticClass:"column"},[n("div",{staticClass:"-center"},[t._v(t._s(t.workspace.name))]),n("small",{staticClass:"-center"},[n("code",[t._v(t._s(t.workspace.id))])]),n("div",{staticClass:"-fill"})]),n("small",{staticClass:"text-muted"},[t._v("created "+t._s(t.workspace.createdAt)+" ago")])]),n("i",{staticClass:"icon-cog"})]},proxy:!0},{key:"option",fn:function(e){var r=e.value;return[n("span",[t._v(t._s(r.label))]),n("i",{class:"icon-"+r.icon})]}}],null,!1,3565298214)}),n("dropdown",{attrs:{options:t.workspacesToolsMenu,selectionClass:"-text"},scopedSlots:t._u([{key:"selection",fn:function(){return[n("i",{staticClass:"icon-plus"})]},proxy:!0},{key:"option",fn:function(e){var r=e.value;return[n("span",[t._v(t._s(r.label))]),n("i",{class:"icon-"+r.icon})]}}],null,!1,376872893)})],1),t.workspaces.length?n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("Id")]),n("th",[t._v("Name")]),n("th",[t._v("Use")])])]),n("tbody",t._l(t.workspaces,(function(e){return n("tr",{key:e.id,staticClass:"-action",on:{click:function(n){return t.loadWorkspace(e.id)}}},[n("td",{staticClass:"table-input"},[n("code",{domProps:{textContent:t._s(e.id)}})]),n("td",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"table-input table-ellipsis text-nowrap",attrs:{title:e.name},domProps:{textContent:t._s(e.name)}}),n("td",{staticClass:"table-input"},[n("small",{domProps:{textContent:t._s(t.ago(e.updatedAt)+" ago")}})]),n("td",{staticClass:"table-action"},[n("button",{staticClass:"btn  -text",on:{click:function(n){return n.stopPropagation(),t.openWorkspace(e.id)}}},[n("i",{staticClass:"icon-external-link-square-alt"})])]),n("td",{staticClass:"table-action"},[n("button",{staticClass:"btn  -red -small",on:{click:function(n){return n.stopPropagation(),t.removeWorkspace(e.id)}}},[n("i",{staticClass:"icon-trash"})])])])})),0)]):t._e()]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","workspaces")}}},[t._v(" Workspaces "),n("i",{staticClass:"icon-up"})])]):t._e(),n("section",{staticClass:"section"},[t.settings.indexOf("list")>-1?n("div",{staticClass:"settings-trades"},[n("div",{staticClass:"form-group column mb8"},[n("label",{staticClass:"checkbox-control -aggr -auto flex-grow-1"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!0},on:{click:function(e){return e.preventDefault(),t.$store.commit("settings/TOGGLE_AGGREGATION")}}}),n("div",{attrs:{on:t.aggregationLength+"ms",off:"No aggregation"}}),t.aggregationLength?n("span",[t._v(t._s(t.aggregationLength)+"ms aggregation")]):t._e()])]),n("div",{staticClass:"form-group mb8"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control -slippage",attrs:{title:"price"===t.calculateSlippage?"Show slippage in $":"bps"===t.calculateSlippage?"Show slippage in basis point (bps)":"Slippage disabled"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.calculateSlippage},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SLIPPAGE")}}}),n("div"),"price"===t.calculateSlippage?n("span",[t._v(" Calculate slippage in price change ("),n("i",{staticClass:"icon-dollar"}),t._v(") ")]):t._e(),"bps"===t.calculateSlippage?n("span",[t._v(" Calculate slippage in bps "),n("i",{staticClass:"icon-bps"})]):t._e(),t.calculateSlippage?t._e():n("span",[t._v("Do not show slippage")])])]),n("div",{staticClass:"form-group"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:"Size display preference"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.preferQuoteCurrencySize},on:{change:function(e){return t.$store.commit("settings/SET_QUOTE_AS_PREFERED_CURRENCY",e.target.checked)}}}),n("span",[t._v("Size in")]),n("div",{attrs:{on:"quote currency",off:"base currency"}}),n("span",[t._v("("),n("i",{class:t.preferQuoteCurrencySize?"icon-quote":"icon-base"}),t._v(")")])])])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","list")}}},[t._v(" Trades "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.settings.indexOf("audio")>-1?n("audio-settings"):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","audio")}}},[t._v(" Audio "),n("i",{staticClass:"icon-up"})])],1),n("section",{staticClass:"section"},[t.settings.indexOf("chart")>-1?n("div",{staticClass:"settings-chart"},[n("div",{staticClass:"form-group mb16"},[n("label",{staticClass:"checkbox-control flex-left"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!!t.timezoneOffset},on:{change:function(e){t.$store.commit("settings/SET_TIMEZONE_OFFSET",t.timezoneOffset?0:6e4*(new Date).getTimezoneOffset()*-1)}}}),n("div"),n("span",[t._v("Show local time")])])]),n("div",{staticClass:"form-group column mb8"},[n("verte",{attrs:{value:t.backgroundColor},on:{input:function(e){e!==t.backgroundColor&&t.$store.dispatch("settings/setBackgroundColor",e)}}}),n("label",{staticClass:"-fill -center ml8"},[t._v("Background color")])],1),n("div",{staticClass:"form-group column mb8"},[n("verte",{attrs:{picker:"square",menuPosition:"left",model:"rgb",value:t.textColor},on:{input:function(e){e!==t.textColor&&t.$store.commit("settings/SET_CHART_COLOR",e)}}}),n("label",{staticClass:"-fill -center ml8",attrs:{for:""}},[t._v("Text color "),n("a",[t.textColor?n("i",{staticClass:"icon-cross text-small",on:{click:function(e){return t.$store.commit("settings/SET_CHART_COLOR",null)}}}):t._e()])])],1)]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","chart")}}},[t._v(" Chart "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.settings.indexOf("exchanges")>-1?n("div",{staticClass:"form-group"},[n("div",{staticClass:"settings-exchanges"},t._l(t.exchanges,(function(t){return n("Exchange",{key:t,attrs:{id:t}})})),1)]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","exchanges")}}},[t._v(" Exchanges "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.settings.indexOf("other")>-1?n("other-settings"):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.$store.commit("settings/TOGGLE_SETTINGS_PANEL","other")}}},[t._v(" Other "),n("i",{staticClass:"icon-up"})])],1),n("footer",{staticClass:"section mt16 settings__footer"},[n("div",{staticClass:"form-group"},[t.version?n("div",{staticClass:"column"},[n("div",{staticClass:"-grow"},[n("button",{staticClass:"btn -text pl0"},[t._v(" v"+t._s(t.version)+" "),n("sup",{staticClass:"version-date"},[t._v(t._s(t.buildDate))])])]),n("a",{staticClass:"btn -text",attrs:{href:"https://github.com/Tucsky/aggr",target:"_blank"}},[t._v("github")]),n("i",{staticClass:"pipe -center"},[t._v("|")]),n("span",[n("dono-dropdown",{staticClass:"-top -text-left"})],1),n("i",{staticClass:"pipe -center"},[t._v("|")]),n("button",{staticClass:"btn -text",on:{click:function(e){return t.reset()}}},[t._v("reset")])]):t._e()])])])},j=[],D=n("28f3"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-exchange",class:{"-active":t.active,"-enabled":!t.settings.disabled,"-invisible":t.settings.hidden,"-expanded":t.expanded}},[n("div",{staticClass:"settings-exchange__header"},[n("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"settings-exchange__identity",attrs:{title:"Toggle "+t.id},on:{click:t.toggleExchange}},[n("div",{staticClass:"settings-exchange__name"},[t._v(t._s(t.name))])]),n("div",{staticClass:"settings-exchange__controls"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"settings-exchange__visibility",attrs:{title:t.settings.hidden?"Show":"Hide"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.dispatch("exchanges/toggleExchangeVisibility",t.id)}}},[n("i",{staticClass:"icon-visible"})]),n("button",{staticClass:"settings-exchange__more",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.expanded=!t.expanded}}},[n("i",{staticClass:"icon-down"})])])]),t.expanded?n("div",{staticClass:"settings-exchange__detail"},[t.markets.length?n("div",{staticClass:"form-group"},[n("small",{staticClass:"mb4 d-block"},[t._v("Connections")]),n("div",t._l(t.markets,(function(e){return n("div",{key:e.identifier,staticClass:"d-flex"},[n("div",{staticClass:"-fill -center"},[t._v(t._s(e.pair))]),n("div",{staticClass:"-center"},[t._v(t._s(t.prices[e.identifier]))])])})),0)]):t._e(),n("div",{staticClass:"form-group mt8"},[n("small",{staticClass:"mb4 d-block"},[t._v("Products : "),n("strong",[t._v(t._s(t.indexedProducts.length))])]),t.canRefreshProducts?n("button",{staticClass:"btn -red -small",on:{click:t.refreshProducts}},[t._v("Refresh")]):t._e()])]):t._e()])},L=[],B=n("be31");function M(t){return M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e,n){return e&&U(t.prototype,e),n&&U(t,n),t}function H(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}function G(t){var e=W();return function(){var n,r=K(t);if(e){var i=K(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return V(this,n)}}function V(t,e){return!e||"object"!==M(e)&&"function"!==typeof e?z(t):e}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}var X=function(t){H(n,t);var e=G(n);function n(){var t;return $(this,n),t=e.apply(this,arguments),t.canRefreshProducts=!0,t.expanded=!1,t.prices={},t}return F(n,[{key:"mounted",value:function(){c["a"].on("prices",this.updateMarketsPrices)}},{key:"beforeDestroy",value:function(){c["a"].off("prices",this.updateMarketsPrices)}},{key:"updateMarketsPrices",value:function(t){this.prices=t}},{key:"name",get:function(){return this.id.replace(/[\W_]+/g," ")}},{key:"settings",get:function(){return this.$store.state.exchanges[this.id]}},{key:"markets",get:function(){var t=this;return this.$store.state.app.activeMarkets.filter((function(e){return e.exchange===t.id})).sort((function(e,n){return t.prices[e.id]-t.prices[n.id]}))}},{key:"active",get:function(){return this.markets.length}},{key:"indexedProducts",get:function(){return this.$store.state.app.indexedProducts[this.id]||[]}},{key:"refreshProducts",value:async function(){var t=this;this.canRefreshProducts=!1,await B["a"].deleteProducts(this.id),await c["a"].dispatch({op:"fetch-products",data:this.id}),setTimeout((function(){t.canRefreshProducts=!0}),3e3),c["a"].dispatch({op:"products",data:{exchange:this.id,data:null}}),await this.$store.dispatch("exchanges/disconnect",this.id),await this.$store.dispatch("exchanges/connect",this.id),this.$store.dispatch("app/showNotice",{type:"success",title:"".concat(this.indexedProducts.length," products refreshed")})}},{key:"toggleExchange",value:async function(){await this.$store.dispatch("exchanges/toggleExchange",this.id)}},{key:"formatAmount",value:function(t){return Object(D["i"])(t)}},{key:"formatPrice",value:function(t){return Object(D["k"])(t)}}]),n}(s["c"]);X=Object(a["a"])([Object(s["a"])({name:"Exchange",components:{Slider:P["a"]},props:["id"]})],X);var J=X,Q=J,Y=(n("15a7"),Object(S["a"])(Q,N,L,!1,null,null,null)),Z=Y.exports,tt=n("5e7f"),et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[t._v("Import settings")])]},proxy:!0}])},[n("div",{staticClass:"form-group mb16"},[n("label",[t._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.workspace.name,expression:"workspace.name"}],staticClass:"form-control w-100",attrs:{type:"text"},domProps:{value:t.workspace.name},on:{input:function(e){e.target.composing||t.$set(t.workspace,"name",e.target.value)}}})]),n("div",{staticClass:"d-flex flex-middle"},[n("i",{staticClass:"icon-info mr16"}),n("div",{staticClass:"mr16"},[n("small",{staticClass:"text-muted"},[t._v("Version")]),n("div",[t._v("v"+t._s(t.workspace.version||0))])]),n("div",{staticClass:"mr16"},[n("small",{staticClass:"text-muted"},[t._v("Created at")]),n("div",[t._v(t._s(t.createdAt)+" ago")])]),n("div",[n("small",{staticClass:"text-muted"},[t._v("Updated at")]),n("div",[t._v(t._s(t.updatedAt)+" ago")])])]),t.panes.length?n("div",{staticClass:"form-group mt16"},[n("label",[t._v("Panels")]),t._l(t.panes,(function(e){return n("div",{key:e.id,staticClass:"column flex-middle"},[n("i",{staticClass:"icon-plus mr8 -small"}),n("span",[t._v(t._s(e.type.toUpperCase()))]),n("small",{staticClass:"ml4"},[n("code",[t._v(t._s(e.id))])])])}))],2):t._e(),t.panes.length?n("div",{staticClass:"form-group mt16"},[n("label",[t._v("Markets")]),t._l(t.markets,(function(e,r){return n("button",{key:r,staticClass:"btn -green -small mr4 mb4",attrs:{type:"button",disabled:""}},[t._v(" "+t._s(e)+" ")])}))],2):t._e(),n("footer",[n("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),n("button",{staticClass:"btn -large",on:{click:function(e){return t.close(t.workspace)}}},[t._v("IMPORT & LOAD")])])])},nt=[],rt=n("7250"),it=n("1ea0");function ot(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=at(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function at(t,e){if(t){if("string"===typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(t,e):void 0}}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ct={props:{workspace:{required:!0,type:Object}},mixins:[it["a"]],computed:{createdAt:function(){return Object(D["a"])(this.workspace.createdAt)},updatedAt:function(){return Object(D["a"])(this.workspace.updatedAt)},panes:function(){var t=this;return this.workspace.states.panes&&this.workspace.states.panes.panes?Object.keys(this.workspace.states.panes.panes).map((function(e){return{id:e,name:t.workspace.states.panes.panes[e].name,type:t.workspace.states.panes.panes[e].type,markets:t.workspace.states.panes.panes[e].markets}})):[]},markets:function(){return this.panes.reduce((function(t,e){var n,r=ot(e.markets);try{for(r.s();!(n=r.n()).done;){var i=n.value;-1===t.indexOf(i)&&t.push(i)}}catch(o){r.e(o)}finally{r.f()}return t}),[])}},components:{Dialog:rt["a"]},data:function(){return{}},methods:{}},lt=ct,ut=Object(S["a"])(lt,et,nt,!1,null,null,null),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-audio",class:{active:t.useAudio}},[n("div",{staticClass:"-fill"},[n("div",{staticClass:"column"},[n("div",{staticClass:"form-group -tight"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input flex-right",attrs:{title:"Enable audio"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.useAudio},on:{change:function(e){return t.$store.commit("settings/TOGGLE_AUDIO",e.target.checked)}}}),n("div")])]),n("div",{staticClass:"form-group -fill -center"},[n("slider",{attrs:{min:0,max:10,step:.1,editable:!1,label:!0,value:t.audioVolume},on:{input:function(e){return t.$store.dispatch("settings/setAudioVolume",e)},reset:function(e){return t.$store.dispatch("settings/setAudioVolume",1)}}})],1)]),t.useAudio?n("div",{staticClass:"mt8"},t._l(t.filters,(function(e){return n("div",{key:e,staticClass:"btn -text px0 "},[n("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:t.filtersDescriptions[e]}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.$store.state.settings.audioFilters[e]},on:{change:function(n){return t.$store.commit("settings/SET_AUDIO_FILTER",{id:e,value:n.target.checked})}}}),n("div",{attrs:{on:e,off:e}})])])})),0):t._e()])])},ht=[],ft=n("4902");function mt(t){return mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e,n){return e&&vt(t.prototype,e),n&&vt(t,n),t}function gt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}function _t(t,e){return _t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_t(t,e)}function Ct(t){var e=Ot();return function(){var n,r=St(t);if(e){var i=St(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(t,e){return!e||"object"!==mt(e)&&"function"!==typeof e?wt(t):e}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var Et=function(t){gt(n,t);var e=Ct(n);function n(){var t;return yt(this,n),t=e.apply(this,arguments),t.filters=[],t.filtersDescriptions={HighPassFilter:"High-Pass Filter passes frequencies above its cutoff frequency and attenuates frequencies below its cutoff frequency",LowPassFilter:"Low-Pass Filter passes frequencies below its cutoff frequency and attenuates frequencies above its cutoff frequency. This effect can therefore be used to reduce high pitched noise",Compressor:"A compressor has the ability to reduce the difference in order for the quiet notes to be louder and the peak notes to be quieter",Delay:"A delay effect is similar to an echo, in that the sound is repeated one or more times after the original sound",PingPongDelay:"Ping Pong Delay is a time-sensitive delay that pans the delay to the left and right speakers one after the other",Chorus:"An equal mix of the wet and dry signal is used with the wet signal being delayed and pitch modulated"},t}return bt(n,[{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"audioVolume",get:function(){return this.$store.state.settings.audioVolume}},{key:"created",value:function(){this.filters=Object.keys(ft["a"].filtersOptions)}}]),n}(s["c"]);Et=Object(a["a"])([Object(s["a"])({components:{Slider:P["a"]},name:"AudioSettings"})],Et);var It=Et,Tt=It,xt=(n("c3f2"),Object(S["a"])(Tt,pt,ht,!1,null,"7cf3c6a0",null)),At=xt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!!t.decimalPrecision},on:{change:function(e){return t.$store.commit("settings/SET_DECIMAL_PRECISION",t.decimalPrecision?null:2)}}}),n("div"),n("span",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),t.currentTarget.children[0].focus()}}},[t._v(" Round up to "),n("editable",{attrs:{placeholder:"auto",content:t.decimalPrecision},on:{output:function(e){return t.$store.commit("settings/SET_DECIMAL_PRECISION",e)}}}),t._v(" decimal(s) ")],1)])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.autoHideHeaders},on:{change:function(e){return t.$store.commit("settings/TOGGLE_AUTO_HIDE_HEADERS")}}}),n("div"),n("span",[t._v("Auto hide headers")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control -animations"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.animationsEnabled},on:{change:function(e){return t.$store.commit("settings/TOGGLE_ANIMATIONS")}}}),n("div"),n("span",[n("small",{staticClass:"d-block text-muted",domProps:{textContent:t._s(t.animationsEnabled?"UI animations are enabled ✨":"UI animations are disabled 🚀")}}),n("span",{staticClass:"d-block mt4",domProps:{textContent:t._s(t.animationsEnabled?"Disable animations":"Enable animations")}})])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.responsiveEnabled,expression:"responsiveEnabled"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.responsiveEnabled)?t._i(t.responsiveEnabled,null)>-1:t.responsiveEnabled},on:{change:[function(e){var n=t.responsiveEnabled,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.responsiveEnabled=n.concat([o])):a>-1&&(t.responsiveEnabled=n.slice(0,a).concat(n.slice(a+1)))}else t.responsiveEnabled=i},t.toggleResponsive]}}),n("div"),n("span",[n("small",{staticClass:"d-block text-muted",domProps:{textContent:t._s(t.responsiveEnabled?"Responsive layouts are enabled":"Keep same layout")}}),n("span",{staticClass:"d-block mt4",domProps:{textContent:t._s(t.responsiveEnabled?"Disable responsive":"Enable responsive")}})])])])])},Rt=[];function jt(t){return jt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e,n){return e&&Nt(t.prototype,e),n&&Nt(t,n),t}function Bt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mt(t,e)}function Mt(t,e){return Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mt(t,e)}function $t(t){var e=Ht();return function(){var n,r=qt(t);if(e){var i=qt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ut(this,n)}}function Ut(t,e){return!e||"object"!==jt(e)&&"function"!==typeof e?Ft(t):e}function Ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var Gt=function(t){Bt(n,t);var e=$t(n);function n(){var t;return Dt(this,n),t=e.apply(this,arguments),t.responsiveEnabled=null,t}return Lt(n,[{key:"decimalPrecision",get:function(){return this.$store.state.settings.decimalPrecision}},{key:"animationsEnabled",get:function(){return!this.$store.state.settings.disableAnimations}},{key:"autoHideHeaders",get:function(){return this.$store.state.settings.autoHideHeaders}},{key:"created",value:function(){this.responsiveEnabled=Object.keys(this.$store.state.panes.layouts).length>1}},{key:"toggleResponsive",value:async function(){var t=await this.$store.dispatch("panes/toggleResponsive");t||(this.responsiveEnabled=!this.responsiveEnabled)}}]),n}(s["c"]);Gt=Object(a["a"])([Object(s["a"])({name:"OtherSettings"})],Gt);var Vt=Gt,zt=Vt,Wt=Object(S["a"])(zt,Pt,Rt,!1,null,null,null),Kt=Wt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown"},[t.label?n("div",{staticClass:"dropdown__label",domProps:{innerHTML:t._s(t.label)},on:{click:t.toggle}}):t._e(),n("button",{staticClass:"dropdown__selected btn",class:t.selectionClass,on:{click:t.toggle}},[t._t("selection",[t._v(" "+t._s(t.alwaysShowPlaceholder&&t.options[t.selected]||t.placeholder||"Selection")+" ")],{item:t.options[t.selected],placeholder:t.placeholder})],2),n("transition",{attrs:{name:"dropdown"}},[t.isOpen?n("div",{ref:"options",staticClass:"dropdown__options"},[n("div",{staticClass:"dropdown__scroller hide-scrollbar"},t._l(t.options,(function(e,r){return n("a",{key:r,staticClass:"dropdown__option",class:{active:!t.alwaysShowPlaceholder&&r===t.selected},attrs:{href:"javascript:void(0)"}},[t.$slots["option-"+r]?t._t("option-"+r,[t._v(" "+t._s(e)+" ")]):t._t("option",[t._v(" "+t._s(e)+" ")],{value:e,index:r})],2)})),0)]):t._e()])],1)},Jt=[];function Qt(t){return Qt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t,e,n){return e&&Zt(t.prototype,e),n&&Zt(t,n),t}function ee(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}function ne(t,e){return ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ne(t,e)}function re(t){var e=ae();return function(){var n,r=se(t);if(e){var i=se(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(t,e){return!e||"object"!==Qt(e)&&"function"!==typeof e?oe(t):e}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}var ce=function(t){ee(n,t);var e=re(n);function n(){var t;return Yt(this,n),t=e.apply(this,arguments),t.isOpen=!1,t}return te(n,[{key:"toggle",value:function(){this.isOpen?this.hide():this.show()}},{key:"show",value:function(){var t=this;this.isOpen=!0,this.$nextTick((function(){t.ajustPlacement()})),this.bindClickOutside(),this.$emit("open")}},{key:"hide",value:function(){this.isOpen=!1,this.unbindClickOutside(),this.$emit("close")}},{key:"bindClickOutside",value:function(){var t=this;this._clickOutsideHandler||(this._clickOutsideHandler=function(e){if(t.$el.contains(e.target)){var n=e.target;while(n){if(n.classList.contains("dropdown__option")){t.set(e,n);break}n=n.parentElement}}else t.hide()}.bind(this),document.addEventListener("mousedown",this._clickOutsideHandler))}},{key:"unbindClickOutside",value:function(){this._clickOutsideHandler&&(document.removeEventListener("mousedown",this._clickOutsideHandler),delete this._clickOutsideHandler)}},{key:"ajustPlacement",value:function(){if(this.$refs.options){var t=this.$refs.options,e=t.getBoundingClientRect(),n=Object(D["o"])(t)||document.getElementById("app"),r=n.getBoundingClientRect();e.y+e.height+32>r.y+r.height&&t.classList.add("-upside-down")}}},{key:"set",value:function(t,e){var n=Array.prototype.indexOf.call(e.parentElement.children,e);Array.isArray(this.options)||(n=Object.keys(this.options)[n]),this.options&&this.options[n]&&"function"===typeof this.options[n].click&&this.options[n].click(t,this.options[n]),t.defaultPrevented||(this.$emit("output",n),this.autoClose&&this.hide())}}]),n}(s["c"]);ce=Object(a["a"])([Object(s["a"])({name:"Dropdown",props:{options:{required:!0},label:{required:!1},selected:{required:!1},placeholder:{required:!1},alwaysShowPlaceholder:{default:!0},autoClose:{default:!0},selectionClass:{required:!1}}})],ce);var le=ce,ue=le,de=Object(S["a"])(ue,Xt,Jt,!1,null,null,null),pe=de.exports,he=n("9613"),fe={mixins:[it["a"]],components:{Dialog:rt["a"],Exchange:Z,AudioSettings:At,OtherSettings:Kt,DonoDropdown:tt["a"],Dropdown:pe},data:function(){return{workspace:null,workspaces:[],hits:null}},computed:{exchanges:function(){return this.$store.getters["exchanges/getExchanges"]},version:function(){return this.$store.state.app.version},buildDate:function(){return this.$store.state.app.buildDate},settings:function(){return this.$store.state.settings.settings},timezoneOffset:function(){return this.$store.state.settings.timezoneOffset},backgroundColor:function(){return this.$store.state.settings.backgroundColor},textColor:function(){return this.$store.state.settings.textColor},aggregationLength:function(){return this.$store.state.settings.aggregationLength},preferQuoteCurrencySize:function(){return this.$store.state.settings.preferQuoteCurrencySize},calculateSlippage:function(){return this.$store.state.settings.calculateSlippage}},created:async function(){this.createMenus(),await this.getWorkspaces()},beforeDestroy:function(){this._hitsTimeout&&clearTimeout(this._hitsTimeout)},methods:{createMenus:function(){this.activeWorkspaceMenu=[{icon:"trash",label:"Remove",click:this.removeWorkspace},{icon:"edit",label:"Rename",click:this.renameWorkspace},{icon:"download",label:"Download",click:this.exportWorkspace},{icon:"copy-paste",label:"Duplicate",click:this.duplicateWorkspace}],this.workspacesToolsMenu=[{icon:"upload",label:"Upload template",click:this.uploadWorkspace},{icon:"plus",label:"New workspace",click:this.createBlankWorkspace}]},getHits:function(){var t=this;null===this.hits&&(this.hits="..."),this._hitsTimeout=setTimeout((async function(){var e=await c["a"].dispatchAsync({op:"hits"}),n=+new Date-he["a"];t.hits=(e/(n/1e3)).toFixed(),t.getHits()}),1e3)},importWorkspace:async function(t){await B["a"].setCurrentWorkspace(await B["a"].importWorkspace(t)),this.getWorkspaces()},getWorkspaces:async function(){var t=await B["a"].getWorkspaces();this.workspaces=t;var e=B["a"].workspace;this.workspace={name:e.name,id:e.id,updatedAt:Object(D["a"])(e.updatedAt),createdAt:Object(D["a"])(e.createdAt),states:null}},validateWorkspaceImport:function(t){var e=null;try{e=JSON.parse(t)}catch(n){return void this.$store.dispatch("app/showNotice",{type:"error",title:"The workspace you provided couldn't be parsed<br>".concat(n.message)})}if(e.id)if(e.name){if(e.states&&0!==Object.keys(e.states).length)return e;this.$store.dispatch("app/showNotice",{type:"error",title:"The workspace you provided is empty"})}else this.$store.dispatch("app/showNotice",{type:"error",title:"The workspace you provided has no name"});else this.$store.dispatch("app/showNotice",{type:"error",title:"The workspace you provided has no ID"})},loadWorkspace:async function(t){await this.close();var e=await B["a"].getWorkspace(t);await B["a"].setCurrentWorkspace(e),this.getWorkspaces()},openWorkspace:function(t){var e=window.location.href.replace(this.workspace.id,t);window.open(e)},removeWorkspace:async function(t){var e;e="string"===typeof t?await B["a"].getWorkspace(t):this.workspace;var n=this.workspace&&this.workspace.id===e.id;if(n&&await this.close(),await A["a"].confirm("Delete workspace ".concat(e.name," ?"))){if(await B["a"].removeWorkspace(e.id),n){var r=this.workspaces.find((function(t){return t.id!==e.id}));r||(r=await B["a"].createWorkspace()),await B["a"].setCurrentWorkspace(r)}return n?void 0:this.getWorkspaces()}},exportWorkspace:async function(){B["a"].downloadWorkspace()},duplicateWorkspace:async function(){B["a"].duplicateWorkspace()},createBlankWorkspace:async function(){await this.close();var t=await B["a"].createWorkspace();await B["a"].setCurrentWorkspace(t)},uploadWorkspace:async function(){var t=this,e=await Object(D["b"])(),n=this.validateWorkspaceImport(e);n&&(await B["a"].getWorkspace(n.id)&&!await A["a"].confirm({message:"Workspace ".concat(n.id," already exists"),ok:"Import anyway",cancel:"Annuler"})||await A["a"].openAsPromise(dt,{workspace:n})&&this.close().then((function(){t.importWorkspace(n)})))},renameWorkspace:async function(){var t=await A["a"].prompt({action:"Rename",input:this.workspace.name});t&&await B["a"].renameWorkspace(t),this.getWorkspaces()},reset:async function(){await A["a"].confirm({title:"Reset ?",message:"This will remove your <strong>".concat(this.workspaces.length," workspace").concat(this.workspaces.length>1?"s":"","</strong>.<br>All associated data will be lost forever.")})&&(await B["a"].reset(),window.location.reload())},ago:function(t){return Object(D["a"])(t)}}},me=fe,ye=(n("5a81"),Object(S["a"])(me,R,j,!1,null,null,null)),ve=ye.exports;function be(t){return be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(t)}function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ce(t,e,n){return e&&_e(t.prototype,e),n&&_e(t,n),t}function ke(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}function we(t,e){return we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},we(t,e)}function Oe(t){var e=Ie();return function(){var n,r=Te(t);if(e){var i=Te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(t,e){return!e||"object"!==be(e)&&"function"!==typeof e?Ee(t):e}function Ee(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Te(t){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Te(t)}var xe=function(t){ke(n,t);var e=Oe(n);function n(){var t;return ge(this,n),t=e.apply(this,arguments),t.open=!1,t.paneTypes={chart:{title:"Chart",description:"Live chart"},trades:{title:"Trades",description:"Trades feed"},stats:{title:"Stats",description:"Rolling metrics"},counters:{title:"Counters",description:"Buys/sells by intervals"},prices:{title:"Markets",description:"Tickers sorted by price"}},t}return Ce(n,[{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"audioVolume",get:function(){return this.$store.state.settings.audioVolume}},{key:"showSettings",value:function(){A["a"].open(ve)}},{key:"toggleMenu",value:function(){this.open=!this.open}},{key:"addPane",value:function(t){this.$store.dispatch("panes/addPane",{type:t})}},{key:"onClickItem",value:function(t){t.target.classList.contains("dropdown__selected")||t.target.parentElement.classList.contains("dropdown__selected")||this.toggleMenu()}}]),n}(s["c"]);xe=Object(a["a"])([Object(s["a"])({name:"Header",components:{Slider:P["a"]}})],xe);var Ae=xe,Pe=Ae,Re=(n("bb78"),Object(S["a"])(Pe,T,x,!1,null,null,null)),je=Re.exports,De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("grid-layout",{ref:"grid",attrs:{layout:t.layout,"responsive-layouts":t.layouts,cols:t.cols,breakpoints:t.breakpoints,"row-height":t.rowHeight,margin:[0,0],"vertical-compact":!0,"use-css-transforms":!0,responsive:!0},on:{"breakpoint-changed":t.onBreakpointChanged,"layout-ready":function(e){t.layoutReady=!0}}},t._l(t.layout,(function(e){return n("grid-item",{key:e.i,attrs:{type:e.type,"drag-allow-from":".pane-header",x:e.x,y:e.y,w:e.w,h:e.h,i:e.i},on:{"container-resized":t.onContainerResized,resized:t.onItemResized,moved:t.updateItem}},[t.layoutReady&&t.$store.state[e.i]._booted?n(e.type,{ref:"panes",refInFor:!0,tag:"component",staticClass:"pane",attrs:{paneId:e.i}}):t._e()],1)})),1)},Ne=[],Le=n("2fe1"),Be=n("7be8"),Me=n.n(Be),$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pane-chart"},[n("pane-header",{attrs:{loading:t.loading,paneId:t.paneId}},[n("dropdown",{attrs:{options:{render:{label:"Render",click:t.renderChart},reset:{label:"Reload",click:t.resetChart}}},scopedSlots:t._u([{key:"option",fn:function(e){var r=e.value;return[n("div",[t._v(" "+t._s(r.label)+" ")])]}},{key:"selection",fn:function(){return[n("span",[t._v("Debug")])]},proxy:!0}])}),n("dropdown",{attrs:{options:t.timeframes,selected:t.timeframe,placeholder:"tf."},on:{output:function(e){return t.$store.commit(t.paneId+"/SET_TIMEFRAME",e)}},scopedSlots:t._u([{key:"selection",fn:function(){return[n("span",[t._v(t._s(t.timeframeForHuman))])]},proxy:!0}])})],1),n("div",{staticClass:"chart__overlay"},[n("div",{staticClass:"chart__indicators"},[t._l(t.indicators,(function(e,r){return n("IndicatorControl",{key:r,attrs:{indicatorId:r,paneId:t.paneId}})})),n("div",{staticClass:"column mt8"},[n("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"btn mr4 -text",attrs:{href:"javascript:void(0);",title:"Add"},on:{click:t.addIndicator}},[n("i",{staticClass:"icon-plus"})])])],2),n("div",{staticClass:"chart__controls",style:{marginRight:t.priceWidth/12+"em"}},[n("button",{staticClass:"chart__screenshot btn -text -large",on:{click:t.takeScreenshot}},[n("i",{staticClass:"icon-add-photo"})])])]),n("div",{ref:"chartContainer",staticClass:"chart__container"}),t.resizingIndicator?n("IndicatorResize",{attrs:{indicatorId:t.resizingIndicator,paneId:t.paneId}}):t._e()],1)},Ue=[],Fe=n("5a23"),He=n("0613"),qe=n("68e0"),Ge=n("8192");function Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function We(t,e,n){return e&&ze(t.prototype,e),n&&ze(t,n),t}var Ke=function(){function t(){Ve(this,t),this.chunks=[],this.cacheRange={from:null,to:null}}return We(t,[{key:"saveChunk",value:function(t){var e;if(!this.chunks.length||this.chunks[this.chunks.length-1].to<t.from)e=this.chunks.push(t)-1;else{if(!(this.chunks[0].from>t.to))return;this.chunks.unshift(t),e=0}return 0===e&&(this.cacheRange.from,this.cacheRange.from=t.from),e===this.chunks.length-1&&(this.cacheRange.to,this.cacheRange.to=t.to),t}},{key:"clear",value:function(){this.chunks.splice(0,this.chunks.length),this.cacheRange.from=this.cacheRange.to=null}},{key:"trim",value:function(){if(this.chunks.length>he["e"]){this.chunks[0].from;this.chunks.splice(0,this.chunks.length-he["e"]),this.cacheRange.from=this.chunks[0].from}}}]),t}(),Xe=n("3642"),Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"serie-dialog -auto",attrs:{mask:!t.resizing},on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[n("div",{on:{dblclick:t.renameIndicator}},[t._v(t._s(t.name))])]),t.description?n("div",{staticClass:"subtitle pl0",domProps:{textContent:t._s(t.description)},on:{dblclick:t.editDescription}}):n("code",{staticClass:"subtitle -filled",domProps:{textContent:t._s(t.indicatorId)},on:{dblclick:t.editDescription}})]),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("div",{staticClass:"d-flex mb16"},[t.unsavedChanges?[t.unsavedChanges?n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -green",attrs:{href:"javascript:void(0)",title:"Save it to use / sync with other panes"},on:{click:function(e){return t.$store.dispatch(t.paneId+"/saveIndicator",t.indicatorId)}}},[n("i",{staticClass:"icon-info mr4"}),t._v(" Save changes ")]):t._e(),n("button",{staticClass:"btn -text",on:{click:t.rollbackIndicator}},[n("i",{staticClass:"icon-eraser"})])]:t._e(),n("button",{staticClass:"btn -text -white mlauto",on:{click:t.showHelp}},[t._v("doc "),n("i",{staticClass:"icon-external-link-square-alt ml4"})])],2),n("div",{staticClass:"d-flex mobile-dir-col-desktop-dir-row"},[n("div",[n("div",{staticClass:"form-group mb16"},[n("div",{staticClass:"d-flex mb8"},[n("label",{staticClass:"mrauto -center",attrs:{for:""}},[t._v(" Input ")])]),n("textarea",{ref:"behaveInput",staticClass:"form-control",attrs:{rows:"10",cols:"50",spellcheck:"false"},domProps:{value:t.script},on:{blur:function(e){return t.updateScript(e.target.value)}}}),t.error?n("p",{staticClass:"form-feedback"},[n("i",{staticClass:"icon-warning mr4"}),t._v(" "+t._s(t.error))]):t._e()]),t.otherOptions.length?n("div",{staticClass:"d-flex -fill",staticStyle:{"max-width":"400px","flex-wrap":"wrap"}},t._l(t.otherOptions,(function(e){return n("div",{key:e.key,staticClass:"form-group mb16 mr16"},[!1!==e.label?n("label",[t._v(" "+t._s(e.label)+" "),t.helps[e.key]?n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.helps[e.key]}}):t._e()]):t._e(),"lineType"===e.key?n("dropdown",{staticClass:"-left -center",attrs:{selected:t.currentValues[e.key],options:{0:"Simple",1:"with steps"},selectionClass:"-outline form-control",placeholder:"lineType"},on:{output:function(n){return t.validate(e,n)}}}):/linestyle$/i.test(e.key)?n("dropdown",{staticClass:"-left -center",attrs:{selected:t.currentValues[e.key],options:{0:"Solid",1:"Dotted",2:"Dashed",3:"LargeDashed",4:"SparseDotted"},selectionClass:"-outline form-control",placeholder:"lineStyle"},on:{output:function(n){return t.validate(e,n)}}}):"string"===e.type||"number"===e.type?[n("editable",{staticClass:"form-control",attrs:{content:t.currentValues[e.key]},on:{output:function(n){return t.validate(e,n)}}})]:"boolean"===e.type?[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.currentValues[e.key]},on:{change:function(n){return t.validate(e,n.target.checked)}}}),n("div")])]:t._e()],2)})),0):t._e()]),n("hr",{staticClass:"-horizontal"}),n("hr",{staticClass:"-vertical mb8"}),n("div",[n("div",{staticClass:"column"},[t.colorOptions.length?n("div",t._l(t.colorOptions,(function(e,r){return n("div",{key:r,staticClass:"column form-group -fill mr8 mb8"},[!1!==e.label?n("label",{staticClass:"-center  -nowrap mr16"},[t._v(t._s(e.label))]):t._e(),n("verte",{attrs:{picker:"square",menuPosition:"left",label:e.label,model:"rgb",value:t.currentValues[e.key]},on:{input:function(n){t.currentValues[e.key]!==n&&t.validate(e,n)}}})],1)})),0):t._e()]),t.positionOption?n("section",{staticClass:"section"},[t.sections.indexOf("position")>-1?n("div",[n("div",{staticClass:"form-group mb16"},[n("label",[t._v("Scale with "),n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.helps.priceScaleId}})]),n("dropdown",{staticClass:"-left -center",attrs:{selected:t.currentValues.priceScaleId,options:t.availableScales,placeholder:"Default scale",selectionClass:"-outline form-control"},on:{output:function(e){return t.validate("priceScaleId",e)}}})],1),n("div",{staticClass:"column"},[n("div",{staticClass:"form-group mb16"},[n("label",[t._v("top "),n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.helps["scaleMargins.top"]}})]),n("editable",{staticClass:"form-control",attrs:{content:t.positionOption.value.top,step:.01},on:{output:function(e){return t.updateScale("top",e)}}})],1),n("div",{staticClass:"form-group ml16"},[n("label",[t._v("bottom "),n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:t.helps["scaleMargins.bottom"]}})]),n("editable",{staticClass:"form-control",attrs:{content:t.positionOption.value.bottom,step:.01},on:{output:function(e){return t.updateScale("bottom",e)}}})],1)]),n("button",{staticClass:"btn -green",on:{click:function(e){return t.$store.dispatch(t.paneId+"/resizeIndicator",t.indicatorId)}}},[n("i",{staticClass:"icon-resize-height mr4"}),t._v(" Resize on chart ")])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("position")}}},[t._v("Position in chart "),n("i",{staticClass:"icon-up"})])]):t._e(),t.formatOption?n("section",{staticClass:"section"},[t.sections.indexOf("format")>-1?n("div",[n("div",{staticClass:"form-group mb16"},[n("label",[t._v("price format")]),n("dropdown",{staticClass:"-left -center",attrs:{selected:t.formatOption.value.type,options:{price:"Price",volume:"Volume",percent:"Percent"},placeholder:"lineType",selectionClass:"-outline form-control"},on:{output:function(e){return t.validate(t.formatOption,Object.assign({},t.formatOption.value,{type:e}))}}})],1),n("div",[n("div",{staticClass:"form-group mb16"},[n("label",[t._v("precision")]),n("editable",{staticClass:"form-control",attrs:{content:t.formatOption.value.precision},on:{output:function(e){return t.validate(t.formatOption,Object.assign({},t.formatOption.value,{precision:+e||1}))}}})],1),n("div",{staticClass:"form-group"},[n("label",[t._v("minMove")]),n("editable",{staticClass:"form-control",attrs:{content:t.formatOption.value.minMove,step:"0.01"},on:{output:function(e){t.validate(t.formatOption,Object.assign({},t.formatOption.value,{minMove:(e||.1).toString()}))}}})],1)])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("format")}}},[t._v("Price format "),n("i",{staticClass:"icon-up"})])]):t._e()])]),n("hr"),n("div",{staticClass:"form-group column"},[n("presets",{staticClass:"mr8 -left",attrs:{type:"indicator",adapter:t.getIndicatorPreset,label:"Presets"},on:{apply:function(e){return t.applyIndicatorPreset(e)}}}),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -red",attrs:{title:"Unload indicator"},on:{click:t.removeIndicator}},[n("i",{staticClass:"icon-cross mr4"}),t._v(" Unload")]),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text ml8 mrauto",attrs:{title:"Duplicate"},on:{click:t.duplicateIndicator}},[n("i",{staticClass:"icon-copy-paste mr4"}),t._v(" Make a copy ")])],1)])},Qe=[],Ye=n("5688"),Ze=n.n(Ye),tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"serie-dialog",attrs:{mask:!1,startPosition:{x:.33}},on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[t._v(" Documentation ")]),n("div",{staticClass:"subtitle"},[t._v("Indicators")])])]},proxy:!0}])},[n("section",{staticClass:"section"},[t.sections.indexOf("formula")>-1?n("div",{staticClass:"help-block"},[n("strong",[t._v("Writing script")]),n("br"),n("p",[t._v(" Use variables such as "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Current bar object"}},[t._v("bar")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Buy volume"}},[t._v("vbuy")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Sell volume"}},[t._v("vsell")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Buy liquidation (liquidated short)"}},[t._v("lbuy")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Sell liquidation (liquidated long)"}},[t._v("lsell")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Number of buy"}},[t._v("cbuy")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Number of sell"}},[t._v("csell")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Open price"}},[t._v("open")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"High price"}},[t._v("high")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Low price"}},[t._v("low")]),t._v(" and "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Close price"}},[t._v("close")]),t._v(". ")]),n("p",[t._v(" Pass the variables to "),n("a",{attrs:{href:"https://github.com/Tucsky/aggr/blob/master/src/components/chart/serieUtils.ts",target:"_blank"}},[t._v("built-in functions")]),t._v(" such as "),n("code",[t._v("sma")]),t._v(", "),n("code",[t._v("ema")]),t._v(" or "),n("code",[t._v("ohlc")]),t._v(". ")]),n("p",[t._v(" Examples"),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Output moving average of the input number"}},[t._v("plotline(sma(BITMEX:XBTUSD.close, 50))")]),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Output exponential moving average of the input number"}},[t._v("plotline(ema(BITMEX:XBTUSD.close, 50))")]),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Average all sources in bar into OHLC"}},[t._v("plotline(avg_close(bar))")]),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Average all sources in bar into OHLC"}},[t._v("plotcandlestick(avg_heikinashi(bar))")]),n("br")])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("formula")}}},[t._v("Scripting "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.sections.indexOf("rendering")>-1?n("div",{staticClass:"help-block"},[n("strong",[t._v("Render data")]),n("br"),n("p",[t._v(" Use plot functions to render the data defined above. As of only 6 plot types are availables. This is due to the limitation of the underlying charting library used here (Lightweight Charts from TradingView)."),n("br")]),n("ul",[n("li",[n("code",[t._v("plotline")]),t._v(" Render line chart")]),n("li",[n("code",[t._v("plothistogram")]),t._v(" Render histogram")]),n("li",[n("code",[t._v("plotcandlestick")]),t._v(" Render candlestick chart")]),n("li",[n("code",[t._v("plotbar")]),t._v(" Bar chart")]),n("li",[n("code",[t._v("plotarea")]),t._v(" Area chart")]),n("li",[n("code",[t._v("plotcloudarea")]),t._v(" Channel area")])]),n("p",[t._v(" Examples"),n("br"),n("code",[t._v("plotcandlestick(avg_ohlc(bar))")]),n("br"),n("code",[t._v("plotline(cum(vbuy - vsell), color=yellow, lineWidth=2)")])]),n("p",[t._v("Use any plot function you want in a single indicator.")])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("rendering")}}},[t._v("Rendering "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.sections.indexOf("options")>-1?n("div",{staticClass:"help-block"},[n("strong",[t._v("Options")]),n("br"),n("p",[t._v(" You can access serie options with options."),n("code",[t._v("nameOfOption")]),t._v(". ")]),n("p",[t._v(" Example"),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Output simple moving average of the input number using length defined in option 'myCustomOption'"}},[t._v(" sma(avg_close(bar),options.myCustomOption) ")])]),n("p",[t._v(' This will create a new option below called "myCustomOption", just fill with a valid number for the serie to compile properly. ')])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("options")}}},[t._v("Options "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.sections.indexOf("sources")>-1?n("div",{staticClass:"help-block"},[n("strong",[t._v("Querying sources")]),n("br"),n("p",[t._v(" Using source bar object "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Reference an active market (active = connected to app, connected to pane, not hidden or anyting)"}},[t._v("BINANCE:btcusdt")]),t._v(" or any property of the source "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"A market is just a bar object, which contain all the basic property described in the scripting section"}},[t._v("BINANCE:btcusdt.vbuy")]),t._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"A market is just a bar object, which contain all the basic property described in the scripting section"}},[t._v("BINANCE:btcusdt.high")]),n("br"),n("br"),t._v(" Or by combining sources "),n("code",[t._v("avg_ohlc({sources:{BYBITBTCUSD:BYBIT:BTCUSD,BITMEXXBTUSD:BITMEX:XBTUSD}})")])]),n("p",[t._v(" Example"),n("br"),n("code",[t._v("plotline(BITFINEX:BTCUSD.close, color=#8bc34a)")]),n("br"),n("code",[t._v("plotline(BINANCE:btcusdt.close, color=#8bc34a)")]),n("br"),n("code",[t._v("plotline(OKEX:BTC-USDT.close, color=#8bc34a)")]),n("br"),n("code",[t._v("plotline(KRAKEN:XBT/USD.close, color=#8bc34a)")]),n("br"),n("code",[t._v("plotline(COINBASE:BTC-USD.close, color=#8bc34a)")]),n("br"),n("code",[t._v("plotline(POLONIEX:USDT_BTC.close, color=#8bc34a)")]),n("br"),n("code",[t._v("plotline(HUOBI:btcusdt.close, color=#8bc34a)")]),n("br"),n("code",[t._v("plotline(BITSTAMP:btcusd.close, color=#8bc34a)")]),n("br"),n("code",[t._v("plotline(BITMEX:XBTUSD.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(BITFINEX:BTCF0:USTF0.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(OKEX:BTC-USD-SWAP.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(BINANCE_FUTURES:btcusdt.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(BINANCE_FUTURES:btcusd_perp.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(HUOBI:BTC-USD.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(KRAKEN:PI_XBTUSD.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(DERIBIT:BTC-PERPETUAL.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(FTX:BTC-PERP.close, color=#ba68c8)")]),n("br"),n("code",[t._v("plotline(BYBIT:BTCUSD.close, color=#ba68c8)")])])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("sources")}}},[t._v("Sources "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.sections.indexOf("series")>-1?n("div",{staticClass:"help-block"},[n("strong",[t._v("Reference other serie")]),n("br"),n("p",[t._v("Make use of ID of the other serie in this code block to reference it's value.")]),n("strong",[t._v("If you care about performance, this is the way.")]),n("p",[t._v(" Given the serie with id "),n("code",[t._v("price")]),t._v(" that shows an ohlc, use "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Output a 50 simple moving average taking close property of another serie"}},[t._v("sma($price.close, 50)")]),t._v(" in a any new serie to show the 50 simple moving average of that. Note that a script itself can only output 1 serie on the chart (one line, one ohlc serie etc). ")])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("series")}}},[t._v("Series "),n("i",{staticClass:"icon-up"})])])])},en=[],nn={mixins:[it["a"]],data:function(){return{sections:[]}},methods:{toggleSection:function(t){var e=this.sections.indexOf(t);-1===e?this.sections.push(t):this.sections.splice(e,1)}}},rn=nn,on=Object(S["a"])(rn,tn,en,!1,null,null,null),an=on.exports,sn=n("da81"),cn=n.n(sn),ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[t._v("Configure preset")])]},proxy:!0}])},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"form-group mb8"},[n("label",[t._v("Choose what to include in preset")]),n("label",{staticClass:"checkbox-control mt16"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.includeColors,expression:"includeColors"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeColors)?t._i(t.includeColors,null)>-1:t.includeColors},on:{change:function(e){var n=t.includeColors,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.includeColors=n.concat([o])):a>-1&&(t.includeColors=n.slice(0,a).concat(n.slice(a+1)))}else t.includeColors=i}}}),n("div"),n("span",[t._v("Colors")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.includeValues,expression:"includeValues"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeValues)?t._i(t.includeValues,null)>-1:t.includeValues},on:{change:function(e){var n=t.includeValues,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.includeValues=n.concat([o])):a>-1&&(t.includeValues=n.slice(0,a).concat(n.slice(a+1)))}else t.includeValues=i}}}),n("div"),n("span",[t._v("Options")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.includeScript,expression:"includeScript"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeScript)?t._i(t.includeScript,null)>-1:t.includeScript},on:{change:function(e){var n=t.includeScript,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.includeScript=n.concat([o])):a>-1&&(t.includeScript=n.slice(0,a).concat(n.slice(a+1)))}else t.includeScript=i}}}),n("div"),n("span",[t._v("Script")])])]),n("footer",[n("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),n("button",{staticClass:"btn -large",attrs:{type:"submit"}},[n("i",{staticClass:"icon-check mr4"}),t._v(" Submit")])])])])},un=[],dn={mixins:[it["a"]],data:function(){return{includeColors:!0,includeValues:!1,includeScript:!1}},methods:{submit:function(){this.close({colors:this.includeColors,values:this.includeValues,script:this.includeScript})}}},pn=dn,hn=Object(S["a"])(pn,ln,un,!1,null,null,null),fn=hn.exports;function mn(t){return bn(t)||vn(t)||Cn(t)||yn()}function yn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vn(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function bn(t){if(Array.isArray(t))return kn(t)}function gn(t){return gn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function _n(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Cn(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Cn(t,e){if(t){if("string"===typeof t)return kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(t,e):void 0}}function kn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach((function(e){Sn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var En=["crosshairMarkerVisible","minLength","visible","priceScaleId"],In={props:["paneId","indicatorId"],mixins:[it["a"]],data:function(){return{types:[],sections:[],editor:null,currentValues:{},otherOptionsKeys:[],colorOptionsKeys:[],colorOptions:[],otherOptions:[],helps:{priceScaleId:"Use <u>right</u> for binding indicator to main price scale. Otherwise use it as an id to align multiple indicator on same scale (as overlay)",lastValueVisible:"Show last value on right axis",priceLineVisible:"Show horizontal line at current value",borderVisible:"Only for candlestick series, enable borders of candles",lineWidth:"Only for line and area series",lineStyle:"Only for line and area series",lineType:"Only for line and area series","scaleMargins.top":"Top margin (0 = stick at top)","scaleMargins.bottom":"Bottom margin (0 = stick to bottom)"}}},computed:{displayName:function(){return He["b"].state[this.paneId].indicators[this.indicatorId].displayName},description:function(){return He["b"].state[this.paneId].indicators[this.indicatorId].description},unsavedChanges:function(){return He["b"].state[this.paneId].indicators[this.indicatorId].unsavedChanges},error:function(){return He["b"].state[this.paneId].indicatorsErrors[this.indicatorId]},name:function(){return He["b"].state[this.paneId].indicators[this.indicatorId].displayName||He["b"].state[this.paneId].indicators[this.indicatorId].name},script:function(){return He["b"].state[this.paneId].indicators[this.indicatorId].script},positionOption:function(){return{key:"scaleMargins",label:"scaleMargins",value:this.getValue("scaleMargins"),type:"position"}},formatOption:function(){return{key:"priceFormat",label:"priceFormat",value:this.getValue("priceFormat"),type:"position"}},resizing:function(){return He["b"].state[this.paneId].resizingIndicator===this.indicatorId},availableScales:function(){var t,e=this;return Object.values(this.$store.state[this.paneId].indicators).reduce((function(t,n){return n.id!==e.indicatorId&&n.options&&n.options.priceScaleId&&!t[n.options.priceScaleId]&&(t[n.options.priceScaleId]=n.name||n.id),t}),(t={},Sn(t,this.indicatorId,"Own scale"),Sn(t,"right","Right scale (main)"),t))}},created:function(){var t=this;this.$nextTick((function(){t.refreshPlotTypes(),t.refreshOptions()})),this.getValue("priceScaleId")},mounted:function(){this.$nextTick((function(){this.createScriptEditor()}))},beforeDestroy:function(){this.editor&&this.editor.destroy()},methods:{getOptionType:function(t,e){var n="string";try{t=JSON.parse(t)}catch(r){}return"type"===e?n="type":"number"===typeof t?n="number":"boolean"===typeof t?n="boolean":/^rgba?/.test(t)||/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)?n="color":"scaleMargins"===e&&(n="position"),n},validate:function(t,e){var n="string"===typeof t?t:t.key;He["b"].dispatch(this.paneId+"/setIndicatorOption",{id:this.indicatorId,key:n,value:e}),this.currentValues=On(On({},this.currentValues),{},Sn({},n,e))},getDefaultValue:function(t){var e,n,r=_n(this.types);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("undefined"!==typeof Fe["b"][i][t])return Fe["b"][i][t]}}catch(o){r.e(o)}finally{r.f()}return"undefined"===typeof e&&"undefined"!==typeof Fe["c"][t]?Fe["c"][t]:"undefined"===typeof e&&/length$/i.test(t)?14:"undefined"===typeof e&&/color$/i.test(t)?"#c3a87a":"undefined"===typeof e&&/width$/i.test(t)?1:"undefined"===typeof e&&"scaleMargins"===t?{top:.1,bottom:.2}:e},getValue:function(t){var e;"undefined"!==typeof He["b"].state[this.paneId].indicators[this.indicatorId].options[t]&&(e=He["b"].state[this.paneId].indicators[this.indicatorId].options[t]);var n=this.getDefaultValue(t),r="";return"undefined"!==typeof e?r=e&&"object"===gn(e)&&n&&"object"===gn(n)?Object.assign({},n,e):e:"undefined"!==typeof n&&(r=n),this.currentValues[t]=r,this.currentValues[t]},updateScript:function(t){this.refreshPlotTypes(),this.refreshOptions(t),this.$store.commit(this.paneId+"/SET_INDICATOR_SCRIPT",{id:this.indicatorId,value:t})},updateScale:function(t,e){var n=this.positionOption,r={top:n.value.top,bottom:n.value.bottom};r[t]=+e||0,r.top+r.bottom>1&&(r[t]=1-r["top"===t?"bottom":"top"]),this.validate(n,r)},getScriptOptions:function(t){var e,n=[],r=/options\.([a-zA-Z0-9_]+)/g;do{(e=r.exec(t))&&n.push(e[1])}while(e);return n},removeOption:function(t){this.$store.commit(this.paneId+"/REMOVE_INDICATOR_OPTION",{id:this.indicatorId,key:t});for(var e=0,n=[this.colorOptions,this.otherOptions];e<n.length;e++){var r=n[e],i=r.find((function(e){return e.key===t}));if(i){r.splice(r.indexOf(i),1);break}}},refreshPlotTypes:function(){this.types=(this.script.match(/plot(\w+)/g)||[]).map((function(t){return t.replace(/^plot/,"")})).map((function(t){return Fe["g"][t]||t})).filter((function(t,e,n){return n.indexOf(t)===e&&Fe["b"][t]}))},refreshOptions:function(t){for(var e=Object.keys(He["b"].state[this.paneId].indicators[this.indicatorId].options),n=this.getScriptOptions(t||this.script),r=Object.keys(Fe["c"]),i=this.types.length-1;i>=0;i--)for(var o in Fe["b"][this.types[i]])r.push(o);var a,s=[].concat(mn(e),mn(n),mn(r)).filter((function(t,e,n){return-1===En.indexOf(t)&&n.indexOf(t)==e})),c=s.filter((function(t){return/color/i.test(t)})),l=s.filter((function(t){return!/color/i.test(t)})),u=_n(c);try{for(u.s();!(a=u.n()).done;){var d=a.value;if(-1===this.colorOptionsKeys.indexOf(d)){var p=this.getValue(d);if(p&&"object"===gn(p))continue;this.colorOptions.push({key:d,label:d,type:this.getOptionType(p,d)}),-1!==n.indexOf(d)&&-1===e.indexOf(d)&&this.validate(this.colorOptions[this.colorOptions.length-1],p)}}}catch(g){u.e(g)}finally{u.f()}var h,f=_n(l);try{for(f.s();!(h=f.n()).done;){var m=h.value;if(-1===this.otherOptionsKeys.indexOf(m)){var y=this.getValue(m);if(y&&"object"===gn(y))continue;this.otherOptions.push({key:m,label:m,type:this.getOptionType(y,m)}),-1!==n.indexOf(m)&&-1===e.indexOf(m)&&this.validate(this.otherOptions[this.otherOptions.length-1],y)}}}catch(g){f.e(g)}finally{f.f()}this.colorOptionsKeys=c,this.otherOptionsKeys=l;for(var v=0;v<this.otherOptions.length;v++)-1===this.otherOptionsKeys.indexOf(this.otherOptions[v].key)&&(this.otherOptions.splice(this.otherOptions.indexOf(this.otherOptions[v]),1),v--);for(var b=0;b<this.colorOptions.length;b++)-1===this.colorOptionsKeys.indexOf(this.colorOptions[b].key)&&(this.colorOptions.splice(this.colorOptions.indexOf(this.colorOptions[b]),1),b--);this.otherOptions=this.otherOptions.sort((function(t,e){var n=0;return t.key>e.key?n++:t.key<e.key&&n--,"boolean"===t.type&&"boolean"!==t.type&&(n+=10),n}))},removeIndicator:async function(){await this.close(),He["b"].dispatch(this.paneId+"/removeIndicator",{id:this.indicatorId})},renameIndicator:async function(){var t=await A["a"].prompt({action:"Rename",input:He["b"].state[this.paneId].indicators[this.indicatorId].name});t&&t!==this.name&&(await this.close(),await He["b"].dispatch(this.paneId+"/renameIndicator",{id:this.indicatorId,name:t}))},editDescription:async function(){var t=await A["a"].prompt({action:"Description",input:this.description});null!==t&&t!==this.description&&await He["b"].commit(this.paneId+"/UPDATE_DESCRIPTION",{id:this.indicatorId,description:t})},duplicateIndicator:async function(){var t=cn()({},He["b"].state[this.paneId].indicators[this.indicatorId]);t.id+="-copy",t.name+=" copy",delete t.updatedAt,delete t.createdAt,this.$store.dispatch(this.paneId+"/addIndicator",t),await this.close(),A["a"].open(An,{paneId:this.paneId,indicatorId:t.id},"serie")},rollbackIndicator:function(){this.$store.dispatch(this.paneId+"/rollbackIndicator",this.indicatorId)},toggleSection:function(t){var e=this.sections.indexOf(t);-1===e?this.sections.push(t):this.sections.splice(e,1)},showHelp:function(){A["a"].open(an)},createScriptEditor:function(){var t=this;setTimeout((function(){t.editor=new Ze.a({textarea:t.$refs.behaveInput,replaceTab:!0,softTabs:!0,tabSize:2,autoOpen:!0,overwrite:!0,autoStrip:!0,autoIndent:!0,fence:!1})}))},getIndicatorPreset:async function(){var t=await A["a"].openAsPromise(fn);if(t){if(!t.colors&&!t.script&&!t.values)return void this.$store.dispatch("app/showNotice",{title:"You did not select anything to save in the preset !",type:"error"});var e={options:{}},n=["scaleMargins","priceFormat","visible"];if(t.values){var r,i=_n(this.otherOptionsKeys);try{for(i.s();!(r=i.n()).done;){var o=r.value;-1===n.indexOf(o)&&(e.options[o]=this.getValue(o))}}catch(l){i.e(l)}finally{i.f()}}if(t.colors){var a,s=_n(this.colorOptionsKeys);try{for(s.s();!(a=s.n()).done;){var c=a.value;-1===n.indexOf(c)&&(e.options[c]=this.getValue(c))}}catch(l){s.e(l)}finally{s.f()}}return t.script&&(e.script=this.script),e}},applyIndicatorPreset:function(t){var e=this.$store.state[this.paneId].indicators[this.indicatorId];if(t)cn()(e,t);else{var n,r=this.otherOptionsKeys.concat(this.colorOptionsKeys),i=_n(r);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=this.getDefaultValue(o);"undefined"!==typeof a&&(e.options[o]=a)}}catch(s){i.e(s)}finally{i.f()}}this.$store.commit(this.paneId+"/SET_INDICATOR_SCRIPT",{id:this.indicatorId})}}},Tn=In,xn=Object(S["a"])(Tn,Je,Qe,!1,null,null,null),An=xn.exports;function Pn(t){return Dn(t)||jn(t)||$n(t)||Rn()}function Rn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jn(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Dn(t){if(Array.isArray(t))return Un(t)}function Nn(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=$n(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bn(t,e){return Hn(t)||Fn(t,e)||$n(t,e)||Mn()}function Mn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $n(t,e){if(t){if("string"===typeof t)return Un(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Un(t,e):void 0}}function Un(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fn(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Hn(t){if(Array.isArray(t))return t}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,e,n){return e&&Gn(t.prototype,e),n&&Gn(t,n),t}var zn=function(){function t(e){qn(this,t),this.loadedIndicators=[],this.renderedRange={from:null,to:null},this.timezoneOffset=0,this.queuedTrades=[],this.seriesIndicatorsMap={},this.paneId=e,this.chartCache=new Ke,this.serieBuilder=new Xe["a"],this.setMarkets(He["b"].state.panes.panes[this.paneId].markets),this.setTimeframe(He["b"].state[this.paneId].timeframe),this.setTimezoneOffset(He["b"].state.settings.timezoneOffset)}return Vn(t,[{key:"setMarkets",value:function(t){var e=t.filter((function(t){var e=Object(D["s"])(t),n=Bn(e,1),r=n[0];return!He["b"].state.exchanges[r]||!He["b"].state.exchanges[r].disabled}));this.watermark=e.slice(0,3).join(" + ")+(t.length-3>0?" + "+(t.length-3)+" others":""),this.markets=t.reduce((function(t,e){return t[e.replace(":","")]=!0,t}),{}),this.updateWatermark()}},{key:"setTimeframe",value:function(t){/t$/.test(t)?this.type="tick":this.type="time",this.timeframe=parseInt(t),this.updateWatermark()}},{key:"setTimezoneOffset",value:function(t){var e=this.timezoneOffset;this.timezoneOffset=t/1e3;var n=this.timezoneOffset-e;this.activeRenderer&&(this.activeRenderer.localTimestamp+=n)}},{key:"createChart",value:function(t){var e=Object(Fe["e"])(Fe["a"]);He["b"].state[this.paneId].showVerticalGridlines&&(e.grid.vertLines.visible=He["b"].state[this.paneId].showVerticalGridlines,e.grid.vertLines.color=He["b"].state[this.paneId].verticalGridlinesColor),He["b"].state[this.paneId].showHorizontalGridlines&&(e.grid.horzLines.visible=He["b"].state[this.paneId].showHorizontalGridlines,e.grid.horzLines.color=He["b"].state[this.paneId].horizontalGridlinesColor),He["b"].state[this.paneId].showWatermark&&(e.watermark.visible=He["b"].state[this.paneId].showWatermark,e.watermark.color=He["b"].state[this.paneId].watermarkColor),this.chartInstance=Ge["b"](t,e),this.chartElement=t,this.addEnabledSeries(),this.updateWatermark(),this.updateFontSize()}},{key:"removeChart",value:function(){if(this.chartInstance){while(this.loadedIndicators.length)this.removeIndicator(this.loadedIndicators[0]);this.chartInstance.remove(),this.chartInstance=null}}},{key:"getLoadedIndicator",value:function(t){for(var e=0;e<this.loadedIndicators.length;e++)if(this.loadedIndicators[e].id===t)return this.loadedIndicators[e]}},{key:"setIndicatorOption",value:function(t,e,n){var r=this.getLoadedIndicator(t);if(r){var i=e;if(-1!==e.indexOf(".")){var o=e.split(".");Object(D["f"])(r.options,o,n),i=o[0]}else r.options[i]=n;for(var a=0;a<r.apis.length;a++){var s=r.options[i];this.activeRenderer&&"undefined"!==typeof this.activeRenderer.indicators[t].plotsOptions[a][e]&&(s=this.activeRenderer.indicators[t].plotsOptions[a][e]),r.apis[a].applyOptions(Ln({},i,s))}this.optionRequiresRedraw(i)&&this.redrawIndicator(t)}}},{key:"optionRequiresRedraw",value:function(t){var e=/color|priceFormat|scaleMargins|linetype|width|style|visible/i;return!e.test(t)}},{key:"rebuildIndicator",value:function(t){this.removeIndicator(this.getLoadedIndicator(t)),this.addIndicator(t)&&this.redrawIndicator(t)}},{key:"getReferencedIndicators",value:function(t){return t.model.references.slice().map((function(t){return t.indicatorId})).filter((function(t,e,n){return n.indexOf(t)===e}))}},{key:"redrawIndicator",value:function(t){var e,n=[],r=Nn(this.chartCache.chunks);try{for(r.s();!(e=r.n()).done;){var i=e.value;n=n.concat(i.bars)}}catch(a){r.e(a)}finally{r.f()}var o=this.getReferencedIndicators(this.getLoadedIndicator(t));this.renderBars(n,[].concat(Pn(o),[t]))}},{key:"getVisibleRange",value:function(){var t=this.chartInstance.timeScale().getVisibleRange();return t?(t.from-=this.timezoneOffset,t.to-=this.timezoneOffset,t):t}},{key:"addEnabledSeries",value:function(){for(var t in He["b"].state[this.paneId].indicators)this.addIndicator(t)}},{key:"updateWatermark",value:function(){this.chartInstance&&this.chartInstance.applyOptions({watermark:{text:"       ".concat(this.watermark+" | "+Object(D["p"])(He["b"].state[this.paneId].timeframe),"       "),visible:He["b"].state[this.paneId].showWatermark,color:He["b"].state[this.paneId].watermarkColor}})}},{key:"updateFontSize",value:function(){this.chartInstance.applyOptions({layout:{fontSize:12*(He["b"].state.panes.panes[this.paneId].zoom||1)}})}},{key:"addIndicator",value:function(t,e){if(this.getLoadedIndicator(t))return!0;if(e>5)return!1;var n=He["b"].state[this.paneId].indicators[t],r=n.options||{},i={id:t,options:JSON.parse(JSON.stringify(r)),script:n.script,model:null,adapter:null,apis:[],apisNoop:[]};try{this.prepareIndicator(i)}catch(o){return"indicator-required"!==o.status||this.resolveDependency(i.id,o.serieId,e||0)||A["a"].confirm({message:'"'.concat(i.id,'" indicator need the "').concat(o.serieId,'" serie but that one WAS NOT found anywhere in the current indicators.'),ok:"I see",cancel:!1}),o.status||A["a"].isDialogOpened("indicator")||A["a"].open(An,{paneId:this.paneId,indicatorId:i.id},"indicator"),!1}return this.loadedIndicators.push(i),this.bindIndicator(i,this.activeRenderer),!0}},{key:"resolveDependency",value:function(t,e,n){var r=He["b"].state[this.paneId].indicators;for(var i in r)if(i!==t&&r[i].series&&-1!==r[i].series.indexOf(e))return!!this.addIndicator(i,n+1)&&(0===n&&this.addIndicator(t,n+1),!0);return!(!r[e]||!this.addIndicator(r[e].id,n+1))&&(0===n&&this.addIndicator(t,n+1),!0)}},{key:"prepareIndicator",value:function(t){try{var e=this.serieBuilder.build(t,this.seriesIndicatorsMap,this.paneId),n=e.output,r=e.functions,i=e.variables,o=e.references,a=e.markets,s=e.plots;He["b"].state[this.paneId].indicatorsErrors[t.id]&&He["b"].commit(this.paneId+"/SET_INDICATOR_ERROR",{id:t.id,error:null}),t.model={output:n,functions:r,variables:i,references:o,markets:a,plots:s};for(var c=[],l=0;l<t.model.plots.length;l++){var u=t.model.plots[l],d=Object(D["c"])("add-"+u.type+"-series"),p=Object.assign({},Fe["c"],Fe["b"][u.type]||{},t.options,u.options);if(!t.options.scaleMargins&&t.options.priceScaleId){var h=this.getPriceScaleMargins(t.options.priceScaleId);h&&(p.scaleMargins=h)}"right"===t.options.priceScaleId&&this.chartInstance.applyOptions({rightPriceScale:{scaleMargins:p.scaleMargins}});var f=this.chartInstance[d](p);f.id=u.id,this.seriesIndicatorsMap[u.id.replace(/\W/g,"")]={indicatorId:t.id,plotIndex:l},c.push(u.id),t.apis.push(f),t.apisNoop.push({update:function(){}})}He["b"].commit(this.paneId+"/SET_INDICATOR_SERIES",{id:t.id,series:c})}catch(m){throw He["b"].commit(this.paneId+"/SET_INDICATOR_ERROR",{id:t.id,error:m.message}),m}}},{key:"bindIndicator",value:function(t,e){if(e&&"undefined"===typeof e.indicators[t.id]&&t.model){var n=JSON.parse(JSON.stringify(t.model)),r=n.functions,i=n.variables,o=n.plots;this.serieBuilder.parseScriptOptions(r,o,t.options),e.indicators[t.id]={series:[],functions:r,variables:i,plotsOptions:o.map((function(t){return t.options}))};for(var a=0;a<e.indicators[t.id].plotsOptions.length;a++)t.apis[a].applyOptions(e.indicators[t.id].plotsOptions[a]);return t.adapter=this.serieBuilder.getAdapter(t.model.output),this.prepareRendererForIndicators(t.id,e),t}}},{key:"unbindIndicator",value:function(t,e){e&&"undefined"!==typeof e.indicators[t.id]&&delete e.indicators[t.id]}},{key:"removeIndicator",value:function(t){if("string"===typeof t&&(t=this.getLoadedIndicator(t)),t){for(var e=0;e<t.apis.length;e++)this.chartInstance.removeSeries(t.apis[e]);this.unbindIndicator(t,this.activeRenderer),this.loadedIndicators.splice(this.loadedIndicators.indexOf(t),1)}}},{key:"clearChart",value:function(){this.preventPan();var t,e=Nn(this.loadedIndicators);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.clearIndicatorSeries(n)}}catch(r){e.e(r)}finally{e.f()}this.renderedRange.from=this.renderedRange.to=null}},{key:"clearData",value:function(){this.activeRenderer=null,this.activeChunk=null,this.queuedTrades.splice(0,this.queuedTrades.length)}},{key:"clear",value:function(){this.chartCache.clear(),this.clearData(),this.clearChart(),this.setTimeframe(He["b"].state[this.paneId].timeframe)}},{key:"resample",value:function(t){if(this.setTimeframe(t),this.chartCache.chunks.length)for(var e=function(t,e,n){return"number"===typeof t.close?e.open=e.high=e.low=e.close=t.close:"undefined"!==typeof e.close&&null!==e.close||(e.open=e.high=e.low=e.close=null,e.vbuy=0,e.vsell=0,e.cbuy=0,e.csell=0,e.lbuy=0,e.lsell=0),e.timestamp=n,e},n={},r=0;r<this.chartCache.chunks.length;r++){for(var i=0;i<this.chartCache.chunks[r].bars.length;i++){var o=this.chartCache.chunks[r].bars[i],a=o.exchange+o.pair,s=Math.floor(o.timestamp/this.timeframe)*this.timeframe;"time"!==this.activeRenderer.type&&n[a]&&n[a].cbuy+n[a].csell>this.timeframe&&(s=n[a].timestamp+this.timeframe),!n[a]||n[a].timestamp<s?n[a]?n[a]=e(n[a],o,s):n[a]=e({},o,s):(null===typeof n[a].open&&(n[a].open=o.open,n[a].high=o.high,n[a].low=o.low,n[a].close=o.close),n[a].vbuy+=o.vbuy,n[a].vsell+=o.vsell,n[a].cbuy+=o.cbuy,n[a].csell+=o.csell,n[a].lbuy+=o.lbuy,n[a].lsell+=o.lsell,n[a].close=o.close,n[a].high=Math.max(n[a].high,o.high,o.open,o.close),n[a].low=Math.min(n[a].low,o.low,o.open,o.close),this.chartCache.chunks[r].bars.splice(i--,1))}if(r&&this.chartCache.chunks[r].bars.length<he["d"]){if(this.chartCache.chunks[r].bars.length){var c=he["d"]-this.chartCache.chunks[r-1].bars.length;c&&(this.chartCache.chunks[r-1].bars=this.chartCache.chunks[r-1].bars.concat(this.chartCache.chunks[r].bars.splice(0,c)))}this.chartCache.chunks[r].bars.length||(this.chartCache.chunks.splice(r,1),r--)}}}},{key:"destroy",value:function(){this.chartCache.clear(),this.clearData(),this.clearChart(),this.removeChart(),this.clearQueue()}},{key:"clearIndicatorSeries",value:function(t){for(var e=0;e<t.apis.length;e++)t.apis[e].setData([])}},{key:"setupQueue",value:function(){var t=this;this._releaseQueueInterval||(He["b"].state[this.paneId].refreshRate?this._releaseQueueInterval=setInterval((function(){t._preventImmediateRender||t.releaseQueue()}),He["b"].state[this.paneId].refreshRate):this._releaseQueueInterval=requestAnimationFrame((function(){return t.releaseQueue()})))}},{key:"clearQueue",value:function(){this._releaseQueueInterval&&(clearInterval(this._releaseQueueInterval),cancelAnimationFrame(this._releaseQueueInterval),delete this._releaseQueueInterval,this.releaseQueue())}},{key:"releaseQueue",value:function(){var t=this;this.queuedTrades.length&&!this.preventRender?(this.renderRealtimeTrades(this.queuedTrades),this.queuedTrades.splice(0,this.queuedTrades.length),He["b"].state[this.paneId].refreshRate||(this._releaseQueueInterval=requestAnimationFrame((function(){return t.releaseQueue()})))):He["b"].state[this.paneId].refreshRate||(this._releaseQueueInterval=requestAnimationFrame((function(){return t.releaseQueue()})))}},{key:"unlockRender",value:function(){this.preventRender=!1}},{key:"lockRender",value:function(){this.preventRender=!0}},{key:"queueTrades",value:function(t){Array.prototype.push.apply(this.queuedTrades,t)}},{key:"renderRealtimeTrades",value:function(t){if(t.length){for(var e=0;e<t.length;e++){var n=t[e],r=n.exchange+n.pair;if(this.markets[r]){var i=void 0;if(i=this.activeRenderer?"time"===this.activeRenderer.type?Math.floor(n.timestamp/1e3/this.timeframe)*this.timeframe:this.activeRenderer.bar.cbuy+this.activeRenderer.bar.csell>this.timeframe?this.activeRenderer.timestamp+this.timeframe:this.activeRenderer.timestamp:+new Date/1e3,!this.activeRenderer||this.activeRenderer.timestamp<i){if(this.activeRenderer){for(var o in(!this.activeChunk||this.activeChunk.to<this.activeRenderer.timestamp&&this.activeChunk.bars.length>=he["d"])&&(this.activeChunk||this.chartCache.cacheRange.to!==this.activeRenderer.timestamp?(this.activeChunk&&(this.activeChunk.active=!1),this.activeChunk=this.chartCache.saveChunk({from:this.activeRenderer.timestamp,to:this.activeRenderer.timestamp,active:!0,rendered:!0,bars:[]})):(this.chartCache.chunks[this.chartCache.chunks.length-1].active=!0,this.activeChunk=this.chartCache.chunks[this.chartCache.chunks.length-1],this.activeChunk.active=!0)),this.activeRenderer.bar.empty||this.updateBar(this.activeRenderer),this.activeRenderer.sources)!1===this.activeRenderer.sources[o].empty&&this.activeChunk.bars.push(this.cloneSourceBar(this.activeRenderer.sources[o],this.activeRenderer.timestamp));this.activeChunk.to=this.chartCache.cacheRange.to=this.activeRenderer.timestamp,this.renderedRange.to<this.activeRenderer.timestamp&&(this.renderedRange.to=this.activeRenderer.timestamp),this.nextBar(i,this.activeRenderer)}else this.activeRenderer=this.createRenderer(i);this.preventPan()}var a=n.price*n.size;this.activeRenderer.sources[r]&&"undefined"!==typeof this.activeRenderer.sources[r].pair||(this.activeRenderer.sources[r]={pair:n.pair,exchange:n.exchange,close:+n.price},this.resetBar(this.activeRenderer.sources[r])),this.activeRenderer.sources[r].empty=!1;var s=He["b"].state.app.activeExchanges[n.exchange];n.liquidation?(this.activeRenderer.sources[r]["l"+n.side]+=a,s&&(this.activeRenderer.bar["l"+n.side]+=a,this.activeRenderer.bar.empty=!1)):(this.activeRenderer.sources[r].high=Math.max(this.activeRenderer.sources[r].high,+n.price),this.activeRenderer.sources[r].low=Math.min(this.activeRenderer.sources[r].low,+n.price),this.activeRenderer.sources[r].close=+n.price,this.activeRenderer.sources[r]["c"+n.side]+=n.count,this.activeRenderer.sources[r]["v"+n.side]+=a,s&&(this.activeRenderer.bar["v"+n.side]+=a,this.activeRenderer.bar["c"+n.side]+=n.count,this.activeRenderer.bar.empty=!1))}}this.activeRenderer&&(this.activeRenderer.bar.empty||(this.updateBar(this.activeRenderer),this.renderedRange.to<this.activeRenderer.timestamp&&(this.renderedRange.to=this.activeRenderer.timestamp)))}}},{key:"cloneSourceBar",value:function(t,e){return{pair:t.pair,exchange:t.exchange,timestamp:e||t.timestamp,open:t.open,high:t.high,low:t.low,close:t.close,vbuy:t.vbuy,vsell:t.vsell,cbuy:t.cbuy,csell:t.csell,lbuy:t.lbuy,lsell:t.lsell}}},{key:"renderBars",value:function(t,e){if(t.length){var n,r,i,o={},a=null,s=null;if(this.activeRenderer&&this.activeRenderer.timestamp>t[t.length-1].timestamp)for(var c=Object.values(this.activeRenderer.sources).filter((function(t){return!1===t.empty})),l=0;l<c.length;l++){var u=c[l];u.timestamp=this.activeRenderer.timestamp;for(var d=t.length-1;d>=0;d--){var p=t[d];if(p.timestamp<this.activeRenderer.timestamp){t.splice(d+1,0,u),c.splice(l,1),l--;break}if(p.exchange===u.exchange&&p.pair===u.pair){p.vbuy+=u.vbuy,p.vsell+=u.vsell,p.cbuy+=u.cbuy,p.csell+=u.csell,p.lbuy+=u.lbuy,p.lsell+=u.lsell,p.open=u.open,p.high=u.high,p.low=u.low,p.close=u.close,c.splice(l,1),l--;break}}}for(var h=0;h<=t.length;h++){var f=t[h];if(!f||!n||f.timestamp>n.timestamp){if(n&&!n.bar.empty)for(var m in null===a&&(a=n.timestamp),s=n.timestamp,r=this.computeBar(n,e),r)"undefined"===typeof o[m]&&(o[m]=[]),o[m].push(r[m]);if(!f)break;n?this.nextBar(f.timestamp,n):n=this.createRenderer(f.timestamp,e)}He["b"].state.app.activeExchanges[f.exchange]&&this.markets[f.exchange+f.pair]&&(n.bar.empty=!1,n.bar.vbuy+=f.vbuy,n.bar.vsell+=f.vsell,n.bar.cbuy+=f.cbuy,n.bar.csell+=f.csell,n.bar.lbuy+=f.lbuy,n.bar.lsell+=f.lsell,n.sources[f.exchange+f.pair]=this.cloneSourceBar(f),n.sources[f.exchange+f.pair].empty=!1)}if(this.activeRenderer){for(var y in n.indicators)this.activeRenderer.indicators[y]=n.indicators[y];for(var v in n.sources)this.activeRenderer.sources[v]=n.sources[v]}else this.activeRenderer=n;e&&e.length||(i=this.chartInstance.timeScale().scrollPosition(),this.clearChart(),t.length?(this.renderedRange.from=a,this.renderedRange.to=s):this.renderedRange.from=this.renderedRange.to=null),this.replaceData(o),i&&this.chartInstance.timeScale().scrollToPosition(i,!1)}}},{key:"renderAll",value:function(){this.chartCache.chunks.length&&this.chartInstance&&this.renderBars(this.chartCache.chunks.reduce((function(t,e){return t.concat(e.bars)}),[]),null)}},{key:"preventPan",value:function(){var t=this;if(!this.panPrevented){var e=1e3;"undefined"!==typeof this._releasePanTimeout&&clearTimeout(this._releasePanTimeout),this.panPrevented=!0,this._releasePanTimeout=window.setTimeout((function(){t.panPrevented&&(t.panPrevented=!1)}),e)}}},{key:"replaceData",value:function(t){this.preventPan();for(var e=0;e<this.loadedIndicators.length;e++)for(var n=0;n<this.loadedIndicators[e].apis.length;n++){var r=this.loadedIndicators[e].apis[n].id;t[r]&&this.loadedIndicators[e].apis[n].setData(t[r])}}},{key:"updateBar",value:function(t){for(var e=0;e<this.loadedIndicators.length;e++){var n=this.loadedIndicators[e],r=t.indicators[n.id];this.loadedIndicators[e].adapter(t,r.functions,r.variables,n.apis,n.options,qe)}}},{key:"computeBar",value:function(t,e){var n,r={},i=Nn(this.loadedIndicators);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(!e||-1!==e.indexOf(o.id)){var a=t.indicators[o.id];o.adapter(t,a.functions,a.variables,o.apisNoop,o.options,qe);for(var s=0;s<a.series.length;s++)!a.series[s]||"undefined"!==typeof a.series[s].value&&null===a.series[s].value||"undefined"!==typeof a.series[s].lowerValue&&null===a.series[s].lowerValue||"histogram"===o.model.plots[s].type&&0===a.series[s].value||(r[o.apis[s].id]=a.series[s])}}}catch(c){i.e(c)}finally{i.f()}return r}},{key:"createRenderer",value:function(t,e){var n,r={timestamp:t,localTimestamp:t+this.timezoneOffset,timeframe:this.timeframe,type:this.type,length:1,indicators:{},sources:{},bar:{vbuy:0,vsell:0,cbuy:0,csell:0,lbuy:0,lsell:0,empty:!0}},i=Nn(this.loadedIndicators);try{for(i.s();!(n=i.n()).done;){var o=n.value;e&&-1===e.indexOf(o.id)||this.bindIndicator(o,r)}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"nextBar",value:function(t,e){if(e.length++,!e.bar.empty)for(var n=0;n<this.loadedIndicators.length;n++){var r=e.indicators[this.loadedIndicators[n].id];if(r){for(var i=0;i<r.functions.length;i++){var o=r.functions[i];if("undefined"!==typeof o.state.count&&o.state.count++,"undefined"!==typeof o.state.points)o.state.points.push(o.state.output),o.state.sum+=o.state.output,o.state.count>o.arg-1&&(o.state.sum-=o.state.points.shift(),o.state.count--);else if("undefined"!==o.state.open)o.state.open=o.state.close,o.state.high=o.state.close,o.state.low=o.state.close;else if(o.persistence)for(var a=0;a<o.persistence.length;a++)o.state["_"+o.persistence[a]]=o.state[o.persistence[a]]}for(var s=0;s<r.variables.length;s++){var c=r.variables[s];c.length>1&&(c.state.unshift(c.state[0]),c.state.length>c.length&&c.state.pop())}}}e.timestamp=t,e.localTimestamp=t+this.timezoneOffset,this.resetRendererBar(e)}},{key:"resetRendererBar",value:function(t){if(t.bar={vbuy:0,vsell:0,cbuy:0,csell:0,lbuy:0,lsell:0,empty:!0},"undefined"!==typeof t.sources)for(var e in t.sources)this.resetBar(t.sources[e])}},{key:"resetBar",value:function(t){null!==t.close&&(t.open=t.close,t.high=t.close,t.low=t.close),t.vbuy=0,t.vsell=0,t.cbuy=0,t.csell=0,t.lbuy=0,t.lsell=0,t.empty=!0}},{key:"prepareRendererForIndicators",value:function(t,e){for(var n=0;n<this.loadedIndicators.length;n++)if(t&&this.loadedIndicators[n].id===t){for(var r=Object.keys(this.loadedIndicators[n].model.markets),i=0;i<r.length;i++){e.sources[r[i]]||(e.sources[r[i]]={open:null,high:null,low:null,close:null});var o=this.loadedIndicators[n].model.markets[r[i]];if(o.length)for(var a=0;a<o.length;a++)"undefined"===typeof e.sources[r[i]][o[a]]&&"open"!==o[a]&&"high"!==o[a]&&"low"!==o[a]&&"close"!==o[a]&&(e.sources[r[i]][o[a]]=0)}break}}},{key:"getPriceScaleMargins",value:function(t){for(var e=0;e<this.loadedIndicators.length;e++)if(this.loadedIndicators[e].options.priceScaleId===t&&this.loadedIndicators[e].options.scaleMargins)return this.loadedIndicators[e].options.scaleMargins}}]),t}(),Wn=n("ba10"),Kn=n.n(Wn);function Xn(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=nr(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Jn(t,e){return Zn(t)||Yn(t,e)||nr(t,e)||Qn()}function Qn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yn(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Zn(t){if(Array.isArray(t))return t}function tr(t){return ir(t)||rr(t)||nr(t)||er()}function er(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nr(t,e){if(t){if("string"===typeof t)return or(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(t,e):void 0}}function rr(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function ir(t){if(Array.isArray(t))return or(t)}function or(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ar(t){return ar="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lr(t,e,n){return e&&cr(t.prototype,e),n&&cr(t,n),t}function ur(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dr(t,e)}function dr(t,e){return dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dr(t,e)}function pr(t){var e=mr();return function(){var n,r=yr(t);if(e){var i=yr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hr(this,n)}}function hr(t,e){return!e||"object"!==ar(e)&&"function"!==typeof e?fr(t):e}function fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yr(t)}var vr=function(t){ur(n,t);var e=pr(n);function n(){return sr(this,n),e.apply(this,arguments)}return lr(n,[{key:"getHistoricalMarktets",value:function(t){return t.filter((function(t){return-1!==He["b"].state.app.historicalMarkets.indexOf(t)}))}},{key:"getApiUrl",value:function(t,e,n,r){var i=He["b"].state.app.apiUrl;return i=i.replace(/\{from\}/,t),i=i.replace(/\{to\}/,e),i=i.replace(/\{timeframe\}/,(1e3*n).toString()),i=i.replace(/\{markets\}/,r.join("+")),i}},{key:"fetch",value:function(t){function e(e,n,r,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n,r){var i=this,o=this.getApiUrl(t,e,n,r);return He["b"].commit("app/TOGGLE_LOADING",!0),new Promise((function(n,a){fetch(o).then((function(t){return t.json()})).then((function(o){if(!o||"object"!==ar(o))return a("invalid-data");var s=o.format,c=o.results;if(!c.length)return a("no-more-data");switch(o.format){case"point":var l=i.normalisePoints(c,r);t=l.from,e=l.to,c=l.data;break;default:break}var u={format:s,data:c,from:t,to:e};n(u)})).catch((function(t){t&&He["b"].dispatch("app/showNotice",{type:"error",title:"API error (".concat(t.response&&t.response.data&&t.response.data.error?t.response.data.error:t.message||"unknown error",")")}),a()})).then((function(){He["b"].commit("app/TOGGLE_LOADING",!1)}))}))}))},{key:"normalisePoints",value:function(t,e){if(!t||!t.length)return t;var n=+new Date(t[0].time)/1e3;e=tr(e);for(var r={},i=0;i<t.length;i++){if(t[i].timestamp=+new Date(t[i].time)/1e3,"number"!==typeof r[t[i].market]&&(r[t[i].market]=t[i].open),t[i].timestamp===n){var o=e.indexOf(t[i].market);e.splice(o,1)}var a=Object(D["s"])(t[i].market),s=Jn(a,2),c=s[0],l=s[1];t[i].exchange=c,t[i].pair=l,delete t[i].market}var u,d=Xn(e);try{for(d.s();!(u=d.n()).done;){var p=u.value;r[p]}}catch(h){d.e(h)}finally{d.f()}return{data:t,from:t[0].timestamp,to:t[t.length-1].timestamp}}}]),n}(Kn.a),br=new vr;function gr(t){return gr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function _r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kr(t,e,n){return e&&Cr(t.prototype,e),n&&Cr(t,n),t}function wr(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Or(t,e)}function Or(t,e){return Or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Or(t,e)}function Sr(t){var e=Tr();return function(){var n,r=xr(t);if(e){var i=xr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(t,e){return!e||"object"!==gr(e)&&"function"!==typeof e?Ir(t):e}function Ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function xr(t){return xr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xr(t)}var Ar=function(t){wr(n,t);var e=Sr(n);function n(){return _r(this,n),e.apply(this,arguments)}return kr(n,[{key:"pane",get:function(){return this.$store.state.panes.panes[this.paneId]}},{key:"mounted",value:function(){var t=this;this.$el.id=this.paneId,this.refreshZoom(),this.$nextTick((function(){var e=t.$el.clientWidth;"function"===typeof t.onResize&&t.onResize(e,t.$el.clientHeight)})),this.$el.addEventListener("mousedown",this.focusPane)}},{key:"beforeDestroy",value:function(){this.$el.removeEventListener("mousedown",this.focusPane)}},{key:"refreshZoom",value:function(){this.$store.dispatch("panes/refreshZoom",this.paneId)}},{key:"focusPane",value:function(){this.$store.commit("app/SET_FOCUSED_PANE",this.paneId)}}]),n}(r["default"]);Ar=Object(a["a"])([Object(Le["b"])({props:{paneId:{required:!0,type:String}}})],Ar);var Pr=Ar,Rr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pane-header d-flex",class:{"-loading":t.loading}},[n("div",{staticClass:"pane-header__loader"}),n("span",{staticClass:"pane-header__name ml4 mrauto",attrs:{"data-hide-header":""},on:{dblclick:t.renamePane}},[t._v(t._s(t.name))]),n("div",{staticClass:"flex-grow-1",on:{dblclick:t.maximizePane}}),n("div",{staticClass:"toolbar"},[t._t("default"),n("button",{attrs:{type:"button"},on:{click:t.openSearch}},[n("i",{staticClass:"icon-search"})]),n("button",{attrs:{type:"button"},on:{click:t.openSettings}},[n("i",{staticClass:"icon-cog"})]),n("dropdown",{staticClass:"-text-left",attrs:{options:t.menu},on:{open:function(e){return t.highlightPane(!0)},close:function(e){return t.highlightPane(!1)}},scopedSlots:t._u([{key:"option-0",fn:function(){return[n("div",{staticClass:"column",on:{mousedown:function(t){t.preventDefault()}}},[n("div",{staticClass:"btn -green",on:{click:t.zoomOut}},[n("i",{staticClass:"icon-minus"})]),n("div",{staticClass:"btn -text text-monospace",staticStyle:{display:"block"},on:{click:function(e){return t.$store.dispatch("panes/setZoom",{id:t.paneId,zoom:0})}}},[t._v(" × "+t._s(t.zoom.toFixed(1))+" ")]),n("div",{staticClass:"btn -green",on:{click:t.zoomIn}},[n("i",{staticClass:"icon-plus"})])])]},proxy:!0},{key:"option",fn:function(e){var r=e.value;return[n("div",[n("i",{staticClass:"-lower",class:"icon-"+r.icon}),n("span",[t._v(t._s(r.label))])])]}},{key:"selection",fn:function(){return[n("i",{staticClass:"icon-more"})]},proxy:!0}])})],2)])},jr=[],Dr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:t._s(t.name)},on:{dblclick:t.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("counters-pane-settings",{attrs:{paneId:t.paneId}})],1)},Nr=[];function Lr(t){return Lr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(t)}function Br(t,e){return Hr(t)||Fr(t,e)||$r(t,e)||Mr()}function Mr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $r(t,e){if(t){if("string"===typeof t)return Ur(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ur(t,e):void 0}}function Ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fr(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Hr(t){if(Array.isArray(t))return t}function qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t,e,n){return e&&Gr(t.prototype,e),n&&Gr(t,n),t}function zr(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wr(t,e)}function Wr(t,e){return Wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wr(t,e)}function Kr(t){var e=Qr();return function(){var n,r=Yr(t);if(e){var i=Yr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xr(this,n)}}function Xr(t,e){return!e||"object"!==Lr(e)&&"function"!==typeof e?Jr(t):e}function Jr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Yr(t){return Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yr(t)}var Zr=function(t){zr(n,t);var e=Kr(n);function n(){return qr(this,n),e.apply(this,arguments)}return Vr(n,[{key:"pane",get:function(){return this.$store.state.panes.panes[this.paneId]}},{key:"name",get:function(){var t=this.$store.state.panes.panes[this.paneId].name;if(!t){if(!t&&this.$store.state.panes.panes[this.paneId].markets.length){var e=Object(D["s"])(this.$store.state.panes.panes[this.paneId].markets[0]),n=Br(e,2),r=n[1];return r+" - "+this.$store.state.panes.panes[this.paneId].type}return this.paneId}return t},set:function(t){this.$store.commit("panes/SET_PANE_NAME",{id:this.paneId,name:t})}},{key:"renamePane",value:async function(){var t=await A["a"].prompt({action:"Rename",input:this.name});t!==this.name&&(this.name=t)}},{key:"resetPane",value:async function(t){await this.close(),await this.$store.dispatch("panes/resetPane",{id:this.paneId,data:t})}},{key:"getPreset",value:async function(){return await B["a"].getState(this.paneId)}}]),n}(r["default"]);Zr=Object(a["a"])([Object(Le["b"])({props:{paneId:{required:!0,type:String}}})],Zr);var ti=Zr,ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-counters"},[n("div",{staticClass:"column"},[n("div",{staticClass:"form-group -tight"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input -auto flex-right",attrs:{title:"Sum amount of trades instead of volume"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.countersCount},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_COUNT",e.target.checked)}}}),n("div",{attrs:{on:"count",off:"volume"}})])]),n("div",{staticClass:"form-group -fill"},[n("input",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"form-control",attrs:{title:"Counters step separed by a comma (ie: 1m, 5m, 10m, 15m)",type:"string",placeholder:"Enter a set of timeframe (ie 1m, 15m)"},domProps:{value:t.countersStepsStringified},on:{change:function(e){return t.replaceCounters(e.target.value)}}})])]),n("div",{staticClass:"form-group mt8"},[n("label",{staticClass:"checkbox-control -rip checkbox-control-input",on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_LIQUIDATIONS_ONLY",e.target.checked)}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.liquidationsOnly}}),n("div"),n("span",[t._v("Only show liquidations")])])])])},ni=[];function ri(t){return ri="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(t)}function ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ai(t,e,n){return e&&oi(t.prototype,e),n&&oi(t,n),t}function si(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ci(t,e)}function ci(t,e){return ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ci(t,e)}function li(t){var e=pi();return function(){var n,r=hi(t);if(e){var i=hi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ui(this,n)}}function ui(t,e){return!e||"object"!==ri(e)&&"function"!==typeof e?di(t):e}function di(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hi(t)}var fi=function(t){si(n,t);var e=li(n);function n(){return ii(this,n),e.apply(this,arguments)}return ai(n,[{key:"countersCount",get:function(){return this.$store.state[this.paneId].count}},{key:"countersSteps",get:function(){return this.$store.state[this.paneId].steps}},{key:"liquidationsOnly",get:function(){return this.$store.state[this.paneId].liquidationsOnly}},{key:"countersStepsStringified",get:function(){var t=+new Date;return this.countersSteps.map((function(e){return Object(D["a"])(t-e)})).join(", ")}},{key:"replaceCounters",value:function(t){var e=t.split(",").map((function(t){return t=t.trim(),/[\d.]+s/.test(t)?1e3*parseFloat(t):/[\d.]+h/.test(t)?1e3*parseFloat(t)*60*60:1e3*parseFloat(t)*60})).filter((function(t,e,n){return n.indexOf(t)==e}));e.filter((function(t){return isNaN(t)})).length?this.$store.dispatch("app/showNotice",{type:"error",title:"Counters (".concat(t,") contains invalid steps.")}):this.$store.commit(this.paneId+"/REPLACE_COUNTERS",e)}}]),n}(s["c"]);fi=Object(a["a"])([Object(s["a"])({name:"CountersSettings",props:{paneId:{type:String,required:!0}}})],fi);var mi=fi,yi=mi,vi=Object(S["a"])(yi,ei,ni,!1,null,null,null),bi=vi.exports,gi={components:{CountersPaneSettings:bi},mixins:[it["a"],ti],data:function(){return{renaming:!1}},methods:{}},_i=gi,Ci=Object(S["a"])(_i,Dr,Nr,!1,null,null,null),ki=Ci.exports,wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"pane-dialog -medium",on:{clickOutside:t.close,mousedown:function(e){t.clickOutsideClose=!1},mouseup:function(e){t.clickOutsideClose=!0}},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:t._s(t.name)},on:{dblclick:t.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("trades-settings",{attrs:{paneId:t.paneId}}),n("footer",[n("presets",{staticClass:"-left -top",attrs:{type:"trades",adapter:t.getPreset},on:{apply:function(e){return t.resetPane(e)}}})],1)],1)},Oi=[],Si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"column mb16"},[n("div",{staticClass:"form-group -fill"},[n("label",[t._v(" Max rows "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Numbers of trades to keep rendered"}})]),n("input",{staticClass:"form-control",attrs:{type:"number",min:"0",max:"1000",step:"1"},domProps:{value:t.maxRows},on:{change:function(e){return t.$store.commit(t.paneId+"/SET_MAX_ROWS",e.target.value)}}})]),n("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"form-group -tight",attrs:{title:"Show exchange's logo when available"}},[n("label",[t._v("Logo")]),n("label",{staticClass:"checkbox-control checkbox-control-input flex-right"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showLogos},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_LOGOS",e.target.checked)}}}),n("div")])]),t.showLogos?n("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"form-group -tight",attrs:{title:"Show exchange's logo when available"}},[n("label",[t._v("Couleur")]),n("label",{staticClass:"checkbox-control -auto checkbox-control-input flex-right"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.monochromeLogos},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_MONOCHROME_LOGOS",e.target.checked)}}}),n("div",{attrs:{on:"monochrome",off:"original"}})])]):t._e()]),n("div",{staticClass:"form-group mb8"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control",attrs:{title:"eg: BTC-USD"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showTradesPairs},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_TRADES_PAIRS")}}}),n("div"),n("span",[t._v("Trades symbols are "+t._s(t.showTradesPairs?"visible":"hidden"))])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control",class:{"-rip":"liquidations"===t.tradeType}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.tradeType},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_TRADE_TYPE")}}}),n("div"),"both"===t.tradeType?n("span",[t._v(" Show both trades and liquidations ")]):t._e(),"liquidations"===t.tradeType?n("span",[t._v(" Only show liquidations ")]):t._e(),"trades"===t.tradeType?n("span",[t._v("Only show trades")]):t._e()])]),n("section",{staticClass:"section"},[t.sections.indexOf("thresholds")>-1?n("div",[n("div",{staticClass:"column section__controls"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -nowrap mr4",attrs:{type:"button",title:"Switch thresholds display"},on:{click:function(e){return t.$store.commit(t.paneId+"/TOGGLE_THRESHOLDS_TABLE",!t.showThresholdsAsTable)}}},[t._v(" "+t._s(t.showThresholdsAsTable?"table":"slider")+" ")]),n("presets",{attrs:{type:"threshold",adapter:t.getAudioPreset,label:"Presets"},on:{apply:function(e){return t.applyAudioPreset(e)}}})],1),n("thresholds",{attrs:{paneId:t.paneId,"show-liquidations-threshold":"both"===t.tradeType}}),n("div",{staticClass:"text-right mt8 mb8"},[n("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn ml4 -nowrap -text",attrs:{href:"javascript:void(0);",title:"Add a threshold"},on:{click:function(e){return t.$store.commit(t.paneId+"/ADD_THRESHOLD")}}},[t._v(" Add "),n("i",{staticClass:"icon-plus ml4 text-bottom"})])]),t.displayGifWarning?n("div",{staticClass:"d-flex help-text"},[n("p",{staticClass:"mt0 mb0 text-danger"},[n("i",{staticClass:"icon-info mr8"}),n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$store.commit("settings/TOGGLE_ANIMATIONS")}}},[t._v("Enable animations to show gifs")])])]):t._e()],1):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("thresholds")}}},[t._v("THRESHOLDS ("+t._s(t.thresholds.length)+") "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.sections.indexOf("audio")>-1?n("div",{staticClass:"form-group"},[n("div",{staticClass:"column section__controls"}),n("div",{staticClass:"column mb16"},[n("div",{staticClass:"form-group text-nowrap"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox",disabled:!t.useAudio},domProps:{checked:t.muted},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_MUTED")}}}),n("div"),n("span",[t._v("Mute this pane")])])]),n("div",{staticClass:"-fill ml16"},[n("label",{staticClass:"mt8 d-block"},[t._v("Pane volume")]),n("div",{staticClass:"column"},[n("slider",{staticClass:"mrauto -fill mt8 mb8",attrs:{min:0,max:10,step:.1,label:!0,disabled:t.muted,value:t.audioVolume},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_VOLUME",e)},reset:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_VOLUME",null)}},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("× "+t._s(t.audioVolume))]},proxy:!0}],null,!1,1549576807)}),n("editable",{staticClass:"-center text-nowrap ml8",staticStyle:{"line-height":"1"},attrs:{content:"× "+t.audioVolume},on:{output:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_VOLUME",e)}}})],1),n("label",{staticClass:"mt16 d-block"},[t._v("Pitch")]),n("div",{staticClass:"column"},[n("slider",{staticClass:"mrauto -fill mt8 mb8",attrs:{min:.001,max:5,step:.01,showCompletion:!1,disabled:t.muted,value:t.audioPitch},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_PITCH",e)},reset:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_PITCH",null)}},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("× "+t._s(t.audioPitch)+" ")]},proxy:!0}],null,!1,3360634946)}),n("editable",{staticClass:"-center text-nowrap ml8",staticStyle:{"line-height":"1"},attrs:{content:"× "+t.audioPitch},on:{output:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_PITCH",e)}}})],1)])]),t.useAudio&&!t.muted?n("div",{staticClass:"form-group"},[n("label",[t._v(" Minimum for a trade to trigger a sound ")]),n("input",{staticClass:"form-control",attrs:{placeholder:t.audioThresholdPlaceholder},domProps:{value:t.audioThreshold},on:{change:function(e){return t.$store.commit(t.paneId+"/SET_AUDIO_THRESHOLD",e.target.value)}}})]):t._e(),t.useAudio?t._e():n("div",{staticClass:"d-flex help-text"},[n("p",{staticClass:"mt0 mb0 text-danger"},[n("i",{staticClass:"icon-info mr8"}),n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$store.commit("settings/TOGGLE_AUDIO",!0)}}},[t._v("Enable audio to use this feature")])])])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("audio")}}},[t._v("Audio "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[t.sections.indexOf("multipliers")>-1?n("div",{staticClass:"form-group"},[n("label",[t._v(" Ajust threshold of specific markets ")]),t.multipliers.length?n("div",{staticClass:"multipliers"},t._l(t.multipliers,(function(e){return n("div",{key:e.identifier,staticClass:"d-flex multipliers-market",class:{"-disabled":1===e.multiplier}},[n("div",{staticClass:"multipliers-market__id",on:{dblclick:function(n){return t.$store.commit(t.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:e.identifier,multiplier:1})}}},[n("div",{staticClass:"text-nowrap market-exchange"},[n("small",[t._v(t._s(e.exchange))])]),n("div",{staticClass:"text-nowrap market-pair"},[t._v(" "+t._s(e.pair)+" ")])]),n("div",{staticClass:"-fill -center ml16"},[n("slider",{staticStyle:{width:"100%","min-width":"150px"},attrs:{min:0,max:10,label:1!==e.multiplier,step:.01,showCompletion:!1,value:e.multiplier,editable:!1},on:{input:function(n){return t.$store.commit(t.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:e.identifier,multiplier:n})},reset:function(n){return t.$store.commit(t.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:e.identifier,multiplier:1})}},scopedSlots:t._u([{key:"tooltip",fn:function(e){var n=e.value;return[t._v(" "+t._s(t.thresholds[0].amount*n)+" ")]}}],null,!0)})],1)])})),0):n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$store.dispatch("app/showSearch",{paneId:t.paneId})}}},[t._v(" Add markets to pane ")])]):t._e(),n("div",{staticClass:"section__title",on:{click:function(e){return t.toggleSection("multipliers")}}},[t._v(" THRESHOLD MULTIPLIER ("+t._s(t.mutipliersCount)+") "),n("i",{staticClass:"icon-up"})])])])},Ei=[],Ii=n("bd60"),Ti=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"thresholds",class:{"-dragging":t.dragging,"-rendering":t.rendering}},[t.showThresholdsAsTable?n("table",{staticClass:"table thresholds-table"},[n("transition-group",{attrs:{name:"flip-list",tag:"tbody"}},t._l(t.thresholdsRows,(function(e,r){return n("tr",{key:e.id,class:{"-divider":!!e.divider}},[e.divider?[n("td",{attrs:{colspan:"100%"},domProps:{textContent:t._s(e.divider)}})]:[n("td",{staticClass:"table-input"},[n("editable",{staticClass:"pr16 w-100",attrs:{placeholder:"Amount*",content:e.amount},on:{output:function(n){return t.$store.commit(t.paneId+"/SET_THRESHOLD_AMOUNT",{id:e.id,value:n})}}}),n("i",{staticClass:"icon icon-currency"})],1),n("td",{staticClass:"table-input"},[n("input",{attrs:{type:"text",placeholder:"Giphy"},domProps:{value:e.gif},on:{change:function(n){return t.$store.commit(t.paneId+"/SET_THRESHOLD_GIF",{id:e.id,value:n.target.value})}}})]),n("td",{staticClass:"table-action"},[n("verte",{attrs:{picker:"square",label:"Buy color",menuPosition:"left",model:"rgb",value:e.buyColor},on:{input:function(n){return t.$store.commit(t.paneId+"/SET_THRESHOLD_COLOR",{id:e.id,side:"buyColor",value:n})}}})],1),n("td",{staticClass:"table-action"},[n("verte",{attrs:{picker:"square",label:"Sell color",menuPosition:"left",model:"rgb",value:e.sellColor},on:{input:function(n){return t.$store.commit(t.paneId+"/SET_THRESHOLD_COLOR",{id:e.id,side:"sellColor",value:n})}}})],1),t.useAudio?n("td",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"thresholds-table__audio table-action",attrs:{title:"Configure threshold audio"},on:{click:function(n){return t.openThresholdAudio(e.id)}}},[n("button",{staticClass:"btn  -green"},[n("i",{staticClass:"icon-volume-high"})])]):t._e(),t.thresholds.length>2&&"liquidations"!==e.id&&r>1?n("td",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"table-action",attrs:{title:"Remove"},on:{click:function(n){return t.deleteThreshold(e.id)}}},[n("button",{staticClass:"btn  -red"},[n("i",{staticClass:"icon-cross"})])]):t._e()]],2)})),0)],1):n("div",{staticClass:"thresholds-slider"},[n("div",{staticClass:"thresholds-gradients"},[n("div",{ref:"buysGradient",staticClass:"thresholds-gradients__buys"}),n("div",{ref:"sellsGradient",staticClass:"thresholds-gradients__sells"})]),n("div",{ref:"thresholdContainer",staticClass:"thresholds-slider__bar"},t._l(t.thresholds,(function(e){return n("div",{key:e.id,staticClass:"thresholds-slider__handler",class:{"-selected":t.selectedThresholdId===e.id},attrs:{"data-id":e.id,"data-amount":t.formatAmount(e.amount,2)}})})),0),t.selectedThreshold?n("div",{ref:"thresholdPanel",staticClass:"threshold-panel",class:{"-minimum":0===t.thresholds.indexOf(t.selectedThreshold)},style:{transform:"translateX("+this.panelOffsetPosition+"px)"},on:{click:function(e){t.editing=!0}}},[n("div",{staticClass:"threshold-panel__caret",style:{transform:"translateX("+this.panelCaretPosition+"px)"}}),n("a",{staticClass:"threshold-panel__close icon-cross",attrs:{href:"#"},on:{click:function(e){t.selectedThresholdId=null,t.editing=!1}}}),n("div",{staticClass:"form-group mb8 threshold-panel__gif"},[n("label",[t._v("Show gif")]),n("input",{staticClass:"form-control w-100",attrs:{type:"text"},domProps:{value:t.selectedThreshold.gif},on:{change:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLD_GIF",{id:t.selectedThreshold.id,value:e.target.value})}}}),t._m(0)]),n("div",{staticClass:"form-group mb8 threshold-panel__colors"},[n("label",[t._v("Custom colors")]),n("div",{staticClass:"column mt8"},[n("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"form-group column flex-center",attrs:{title:"When buy"}},[n("p",{staticClass:"help-text -center mr16 mt0 mb0"},[t._v(" Buy ")]),n("verte",{attrs:{picker:"square",menuPosition:"left",label:"Buy color",model:"rgb",value:t.selectedThreshold.buyColor},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLD_COLOR",{id:t.selectedThreshold.id,side:"buyColor",value:e})}}})],1),n("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"form-group column flex-center",attrs:{title:"When sell"}},[n("p",{staticClass:"help-text -center mr16 mt0 mb0"},[t._v(" Sell ")]),n("verte",{attrs:{picker:"square",menuPosition:"left",label:"Sell color",model:"rgb",value:t.selectedThreshold.sellColor},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_THRESHOLD_COLOR",{id:t.selectedThreshold.id,side:"sellColor",value:e})}}})],1)])])]):t._e()])])},xi=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("small",{staticClass:"help-text mb4"},[t._v(" Le "),n("a",{attrs:{href:"https://tenor.com/",target:"_blank"}},[t._v("Tenor")]),t._v(" keyword ")])}],Ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"pane-dialog -auto",on:{clickOutside:t.close,mousedown:function(e){t.clickOutsideClose=!1},mouseup:function(e){t.clickOutsideClose=!0}},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[n("div",[t._v("Threshold")])]),n("div",{staticClass:"subtitle"},[t._v(t._s(t.thresholdId)+" "+t._s(t.formatAmount(t.threshold.amount)))])])]},proxy:!0}])},[n("div",{staticClass:"d-flex mb16"},[n("p",{staticClass:"help-text mx0 -center"},[n("i",{staticClass:"icon-info mr4"}),n("span",{domProps:{textContent:t._s("Play a song when a "+t.formatAmount(this.min)+" - "+t.formatAmount(this.max)+" trade occur.")}})]),n("button",{staticClass:"btn -text mlauto",on:{click:function(e){t.showHelp=!t.showHelp}}},[n("i",{staticClass:"icon-down",class:{"icon-up":this.showHelp}}),t._v(" help")])]),t.showHelp?n("div",{staticClass:"help-block mb16"},[t._v(" Write a sequence of sounds using the play() or playurl() function "),n("blockquote",[t._v(" play("),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Frequency (hz)"}},[n("code",{staticClass:"-filled"},[t._v("frequency")]),t._v(": number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Gain (volume, 0 is muted and 1 is max, anything above 1 will sound saturated)"}},[n("code",{staticClass:"-filled"},[t._v("gain")]),t._v(": number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"FadeOut (gain to endGain duration)"}},[n("code",{staticClass:"-filled"},[t._v("fadeOut")]),t._v(": number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Delay song by n second"}},[n("code",{staticClass:"-filled"},[t._v("delay")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"FadeIn (startGain to gain duration)"}},[n("code",{staticClass:"-filled"},[t._v("fadeIn")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"HoldDuration (time at gain)"}},[n("code",{staticClass:"-filled"},[t._v("holdDuration")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Oscillator (type of wave, either sine, square, triangle, or sawtooth)"}},[n("code",{staticClass:"-filled"},[t._v("osc")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"StartGain (cannot be 0, but should be close to 0 like 0.0001)"}},[n("code",{staticClass:"-filled"},[t._v("startGain")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"EndGain (cannot be 0, but should be close to 0 like 0.0001)"}},[n("code",{staticClass:"-filled"},[t._v("endGain")]),t._v("?: number")]),n("br"),t._v(" ) ")]),n("blockquote",[t._v(" playurl("),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"URL (.mp3|.wav|.ogg) (https://archive.org/details/audio)"}},[n("code",{staticClass:"-filled"},[t._v("url")]),t._v(": string")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Gain (volume, 0 is muted and 1 is max, anything above 1 will sound saturated)"}},[n("code",{staticClass:"-filled"},[t._v("gain")]),t._v(": number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"HoldDuration (time at gain)"}},[n("code",{staticClass:"-filled"},[t._v("holdDuration")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Delay song by n second"}},[n("code",{staticClass:"-filled"},[t._v("delay")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"StartTime (start audio at 'x' seconds)"}},[n("code",{staticClass:"-filled"},[t._v("startTime")]),t._v(": number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"FadeIn (startGain to gain duration)"}},[n("code",{staticClass:"-filled"},[t._v("fadeIn")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"FadeOut (gain to endGain duration)"}},[n("code",{staticClass:"-filled"},[t._v("fadeOut")]),t._v(": number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"StartGain (cannot be 0, but should be close to 0 like 0.0001)"}},[n("code",{staticClass:"-filled"},[t._v("startGain")]),t._v("?: number")]),t._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"EndGain (cannot be 0, but should be close to 0 like 0.0001)"}},[n("code",{staticClass:"-filled"},[t._v("endGain")]),t._v("?: number")]),n("br"),t._v(" ) ")])]):t._e(),n("div",{staticClass:"form-group mb16"},[n("label",{attrs:{for:""}},[t._v(" When buy ")]),n("div",{staticClass:"d-flex"},[t.buyAudio!==t.threshold.buyAudio?n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -green mr4",attrs:{title:"Original"},on:{click:function(e){return t.testOriginal("buy",e)}}},[n("i",{staticClass:"icon-volume-high"})]):t._e(),n("textarea",{ref:"behaveBuy",staticClass:"form-control",attrs:{cols:"20",rows:"4",spellcheck:"false"},domProps:{value:t.buyAudio},on:{blur:function(e){return t.setInput(e.target.value,"buy")}}}),n("button",{staticClass:"btn -green ml4",attrs:{title:"Custom"},on:{click:function(e){return t.testCustom("buy",e)},dblclick:function(e){return t.doTheLoop("buy")}}},[n("i",{staticClass:"icon-volume-high"})])]),n("small",{staticClass:"help-text"},[n("i",{staticClass:"icon-info -lower mr4"}),t.buyAudio.startsWith("play(")?n("code",[t._v("play(frequency,gain,fadeOut,delay,fadeIn,holdDuration,osc,startGain,endGain)")]):t.buyAudio.startsWith("playurl(")?n("code",[t._v("playurl(url,gain,holdDuration,delay,startTime,fadeIn,fadeOut,startGain,endGain)")]):t._e()]),t.buyError?n("p",{staticClass:"form-feedback"},[n("i",{staticClass:"icon-warning mr4"}),t._v(" "+t._s(t.buyError))]):t._e()]),n("div",{staticClass:"form-group mb16"},[n("label",{attrs:{for:""}},[t._v(" When sell ")]),n("div",{staticClass:"d-flex"},[t.sellAudio!==t.threshold.sellAudio?n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -red mr4",attrs:{title:"Original"},on:{click:function(e){return t.testOriginal("sell",e)}}},[n("i",{staticClass:"icon-volume-high"})]):t._e(),n("textarea",{ref:"behaveSell",staticClass:"form-control",attrs:{cols:"20",rows:"4",spellcheck:"false"},domProps:{value:t.sellAudio},on:{blur:function(e){return t.setInput(e.target.value,"sell")}}}),n("button",{staticClass:"btn -red ml4",on:{click:function(e){return t.testCustom("sell",e)},dblclick:function(e){return t.doTheLoop("sell")}}},[n("i",{staticClass:"icon-volume-high"})])]),n("small",{staticClass:"help-text"},[n("i",{staticClass:"icon-info -lower mr4"}),t.sellAudio.startsWith("play(")?n("code",[t._v("play(frequency,gain,fadeOut,delay,fadeIn,holdDuration,osc,startGain,endGain)")]):t.sellAudio.startsWith("playurl(")?n("code",[t._v("playurl(url,gain,holdDuration,delay,startTime,fadeIn,fadeOut,startGain,endGain)")]):t._e()]),t.sellError?n("p",{staticClass:"form-feedback"},[n("i",{staticClass:"icon-warning mr4"}),t._v(" "+t._s(t.sellError))]):t._e()]),n("footer",[n("a",{staticClass:"btn -text mrauto",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.restartWebAudio()}}},[t._v("Stop all")]),n("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),n("button",{staticClass:"btn -large",on:{click:function(e){return t.saveInputs()}}},[n("i",{staticClass:"icon-check mr4"}),t._v(" Save")])])])},Pi=[];function Ri(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ji(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ji(t,e){if(t){if("string"===typeof t)return Di(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(t,e):void 0}}function Di(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ni={props:{paneId:{required:!0,type:String},thresholdId:{required:!0,type:String}},mixins:[it["a"]],data:function(){return{buyAudio:"",sellAudio:"",buyError:null,sellError:null,showHelp:!1}},computed:{threshold:function(){var t=this;return"liquidations"===this.thresholdId?this.$store.state[this.paneId].liquidations:this.$store.state[this.paneId].thresholds.find((function(e){return e.id===t.thresholdId}))},amounts:function(){return this.$store.state[this.paneId].thresholds.map((function(t){return t.amount}))},audioPitch:function(){return this.$store.state[this.paneId].audioPitch},audioVolume:function(){return this.$store.state[this.paneId].audioVolume},index:function(){return this.amounts.indexOf(this.threshold.amount)},min:function(){return this.threshold.amount},max:function(){return this.amounts[this.index+1]||2*this.amounts[this.index]}},created:function(){var t=this;if(this._behaves=[],!this.threshold)return this.$nextTick((function(){return t.close(!1)}));this.buyAudio=this.threshold.buyAudio||"",this.sellAudio=this.threshold.sellAudio||""},mounted:function(){var t=this;this.$nextTick((function(){return t.initBehave()}))},beforeDestroy:function(){this.looping&&(clearTimeout(this.looping),this.looping=!1);var t,e=Ri(this._behaves);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.destroy()}}catch(r){e.e(r)}finally{e.f()}},methods:{setInput:function(t,e){this[e+"Audio"]=t},saveInputs:function(){this.validate(!0)&&(this.$store.commit(this.paneId+"/SET_THRESHOLD_AUDIO",{id:this.thresholdId,buyAudio:this.buyAudio,sellAudio:this.sellAudio}),this.close(!0))},validate:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0,n=["buy","sell"];e<n.length;e++){var r=n[e],i=this[r+"Audio"];try{this.getAdapter(i,r)}catch(o){return t&&A["a"].confirm({message:"Please check that ".concat(r," audio script is syntactically correct."),ok:"OK",cancel:!1}),!1}}return!0},testCustom:function(t,e){this.looping&&(clearTimeout(this.looping),this.looping=!1);var n=this[t+"Audio"];this.test(n,t,e)},testOriginal:function(t,e){this.looping&&(clearTimeout(this.looping),this.looping=!1);var n=this.threshold[t+"Audio"];this.test(n,t,e)},doTheLoop:function(t){var e=this;this.looping=setTimeout((function(){e.test(e.threshold[t+"Audio"],t),e.doTheLoop(t)}),100*Math.random())},restartWebAudio:function(){ft["a"].reconnect()},test:async function(t,e,n){for(var r,i,o=1,a=0;a<this.amounts.length;a++)if(!(this.amounts[a]<this.threshold.amount)){if(i&&i<this.amounts[a])break;var s=this.max-this.min;n&&n.shiftKey||!s?i=this.min:(i=this.min+Math.random()*s,o=i/this.amounts[1]),r=a}i&&((await this.getAdapter(t,e))(ft["a"],o,e,r),n&&this.$store.dispatch("app/showNotice",{id:"testing-threshold-audio",type:"buy"===e?"success":"error",title:"NOW PLAYING : "+Object(D["i"])(i)+" "+e.toUpperCase()+" trade",timeout:1e3}))},formatAmount:function(t){return Object(D["i"])(t)},getAdapter:async function(t,e){try{var n=await ft["a"].buildAudioFunction(t,e,this.audioPitch,this.audioVolume,!0);return this[e+"Error"]=null,n}catch(r){throw this[e+"Error"]=r.message,r}},initBehave:function(){for(var t=0,e=[this.$refs.behaveBuy,this.$refs.behaveSell];t<e.length;t++){var n=e[t];this._behaves.push(new Ze.a({textarea:n,replaceTab:!0,softTabs:!0,tabSize:2,autoOpen:!0,overwrite:!0,autoStrip:!0,autoIndent:!0,fence:!1}))}}}},Li=Ni,Bi=Object(S["a"])(Li,Ai,Pi,!1,null,null,null),Mi=Bi.exports;function $i(t){return $i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}function Ui(t){return Gi(t)||qi(t)||Hi(t)||Fi()}function Fi(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Hi(t,e){if(t){if("string"===typeof t)return Vi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vi(t,e):void 0}}function qi(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Gi(t){if(Array.isArray(t))return Vi(t)}function Vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ki(t,e,n){return e&&Wi(t.prototype,e),n&&Wi(t,n),t}function Xi(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ji(t,e)}function Ji(t,e){return Ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ji(t,e)}function Qi(t){var e=to();return function(){var n,r=eo(t);if(e){var i=eo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yi(this,n)}}function Yi(t,e){return!e||"object"!==$i(e)&&"function"!==typeof e?Zi(t):e}function Zi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function to(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function eo(t){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eo(t)}var no=function(t){Xi(n,t);var e=Qi(n);function n(){var t;return zi(this,n),t=e.apply(this,arguments),t.rendering=!0,t.dragging=null,t.editing=null,t.selectedThresholdId=null,t.selectedElement=null,t.panelCaretPosition=0,t.panelOffsetPosition=0,t._dragReference=null,t._minimum=null,t._maximum=null,t._offsetLeft=null,t}return Ki(n,[{key:"thresholds",get:function(){return this.$store.state[this.paneId].thresholds}},{key:"selectedThreshold",get:function(){var t=this.$store.getters[this.paneId+"/getThreshold"](this.selectedThresholdId);return t}},{key:"showThresholdsAsTable",get:function(){return this.$store.state[this.paneId].showThresholdsAsTable}},{key:"preferQuoteCurrencySize",get:function(){return this.$store.state.settings.preferQuoteCurrencySize}},{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"thresholdsRows",get:function(){var t=[];return this.showLiquidationsThreshold&&(t=[{id:"divider-1",divider:"For liquidations"},this.$store.state[this.paneId].liquidations,{id:"divider-2",divider:"For trades"}]),t=[].concat(Ui(t),Ui(this.thresholds)),t}},{key:"created",value:function(){var t=this;this._onStoreMutation=this.$store.subscribe((function(e){switch(e.type){case t.paneId+"/TOGGLE_SETTINGS_PANEL":case t.paneId+"/TOGGLE_THRESHOLDS_TABLE":(e.type===t.paneId+"/TOGGLE_SETTINGS_PANEL"&&"thresholds"===e.payload||e.type===t.paneId+"/TOGGLE_THRESHOLDS_TABLE"&&!1===e.payload)&&(t.rendering=!0,t.refreshHandlers(),t.refreshGradients());break;case t.paneId+"/SET_THRESHOLD_AMOUNT":t.reorderThresholds(),t.refreshHandlers();break;case t.paneId+"/SET_THRESHOLD_COLOR":t.refreshGradients();break;case t.paneId+"/ADD_THRESHOLD":t.refreshHandlers();break}}))}},{key:"mounted",value:function(){this.showThresholdsAsTable||(this.refreshHandlers(),this.refreshGradients()),this._startDrag=this.startDrag.bind(this),this.$el.addEventListener("touchstart",this._startDrag,!1),this.$el.addEventListener("mousedown",this._startDrag,!1),this._doDrag=this.doDrag.bind(this),window.addEventListener("touchmove",this._doDrag,!1),window.addEventListener("mousemove",this._doDrag,!1),this._endDrag=this.endDrag.bind(this),window.addEventListener("touchend",this._endDrag,!1),window.addEventListener("mouseup",this._endDrag,!1),this._doResize=this.refreshHandlers.bind(this),window.addEventListener("resize",this._doResize,!1)}},{key:"beforeDestroy",value:function(){window.removeEventListener("touchmove",this._doDrag),window.removeEventListener("mousemove",this._doDrag),window.removeEventListener("touchend",this._endDrag),window.removeEventListener("mouseup",this._endDrag),window.removeEventListener("resize",this._doResize),this._onStoreMutation()}},{key:"startDrag",value:function(t){var e=this;if(t.target.classList.contains("thresholds-slider__handler")){var n=t.pageX;t.touches&&t.touches.length&&(n=t.touches[0].pageX),this.selectedThresholdId=t.target.getAttribute("data-id"),this.selectedThresholdId&&(this.selectedElement=t.target),this.$nextTick((function(){e.refreshCaretPosition(t.target),e._dragReference={timestamp:+new Date,position:n}}))}}},{key:"doDrag",value:function(t){var e=t.pageX;if(t.touches&&t.touches.length&&(e=t.touches[0].pageX),null!==this.selectedElement&&this._dragReference&&!(+new Date-this._dragReference.timestamp<1e3&&Math.abs(this._dragReference.position-e)<3)){this.dragging=!0;var n=Math.max(0,Math.log(this._minimum+1)||0),r=n/Math.log(this._maximum+1)*this._width,i=Math.max(this._width/3*-1,Math.min(1.5*this._width,e-this._offsetLeft)),o=Math.exp((r+i/this._width*(this._width-r))/this._width*Math.log(this._maximum+1))-1;e<this._offsetLeft?(o=this.selectedThreshold.amount-.1*(this.selectedThreshold.amount-o),i=0):e>this._offsetLeft+this._width&&(o=this.selectedThreshold.amount-.1*(this.selectedThreshold.amount-o),i=this._width),o<0&&(o=0),this.selectedElement.style.transform="translateX("+i+"px)",this.refreshCaretPosition(),this.$store.commit(this.paneId+"/SET_THRESHOLD_AMOUNT",{id:this.selectedThresholdId,value:+Object(D["k"])(o)})}}},{key:"endDrag",value:function(){this.selectedElement&&(this.selectedElement=null,this.reorderThresholds(),this.refreshHandlers(),this.refreshGradients()),this.dragging=!1}},{key:"refreshHandlers",value:async function(){await Object(D["w"])(100);var t=this.thresholds.map((function(t){return t.amount}));if(this._minimum=this.thresholds[0].amount,this._maximum=Math.max.apply(null,t),!this.showThresholdsAsTable){var e=this.$refs.thresholdContainer.getBoundingClientRect();this._offsetLeft=e.left,this._width=this.$refs.thresholdContainer.clientWidth;for(var n=this.$refs.thresholdContainer.children,r=Math.max(0,Math.log(this._minimum+1)||0),i=Math.log(this._maximum+1)-r,o=0;o<this.thresholds.length;o++){var a=n[o],s=this.thresholds[o],c=Math.log(s.amount+1)-r,l=this._width*(c/i);a.style.transform="translateX("+l+"px)"}this.rendering=!1}}},{key:"refreshCaretPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedElement,e=parseFloat(t.style.transform.replace(/[^\d.]/g,""))||0,n=this.$refs.thresholdPanel.clientWidth,r=24,i=(this._width-n)/2+r;this.panelOffsetPosition=-i+2*i*(e/this._width),this.panelCaretPosition=r+(n-2*r)*(e/this._width)}},{key:"refreshGradients",value:async function(){if(!this.showThresholdsAsTable){await Object(D["w"])(100);for(var t=Math.max(0,Math.log(this._minimum+1)||0),e=Math.log(this._maximum+1),n=[],r=[],i=0;i<this.thresholds.length;i++){var o=0===i?0:i===this.thresholds.length-1?100:((Math.log(this.thresholds[i].amount+1)-t)/(e-t)*100).toFixed(2);n.push("".concat(this.thresholds[i].buyColor," ").concat(o,"%")),r.push("".concat(this.thresholds[i].sellColor," ").concat(o,"%"))}this.$refs.buysGradient.style.backgroundImage="linear-gradient(to right, ".concat(n.join(", "),")"),this.$refs.sellsGradient.style.backgroundImage="linear-gradient(to right, ".concat(r.join(", "),")")}}},{key:"reorderThresholds",value:function(){this.$store.state[this.paneId].thresholds=this.thresholds.sort((function(t,e){return t.amount-e.amount}))}},{key:"deleteThreshold",value:function(t){this.thresholds.length<=2||this.$store.commit(this.paneId+"/DELETE_THRESHOLD",t)}},{key:"openThresholdAudio",value:function(t){A["a"].open(Mi,{paneId:this.paneId,thresholdId:t})}},{key:"formatAmount",value:function(t){return Object(D["i"])(t)}}]),n}(s["c"]);no=Object(a["a"])([Object(s["a"])({name:"Thresholds",props:{paneId:{type:String,required:!0},showLiquidationsThreshold:{type:Boolean,default:!0}}})],no);var ro=no,io=ro,oo=(n("dd52"),Object(S["a"])(io,Ti,xi,!1,null,null,null)),ao=oo.exports,so=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[t._v("Configure preset")])]},proxy:!0}])},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"form-group mb8"},[n("label",[t._v("Choose what to include in preset")]),n("label",{staticClass:"checkbox-control mt16"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.includeAmounts,expression:"includeAmounts"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeAmounts)?t._i(t.includeAmounts,null)>-1:t.includeAmounts},on:{change:function(e){var n=t.includeAmounts,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.includeAmounts=n.concat([o])):a>-1&&(t.includeAmounts=n.slice(0,a).concat(n.slice(a+1)))}else t.includeAmounts=i}}}),n("div"),n("span",[t._v("Amounts")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.includeColors,expression:"includeColors"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeColors)?t._i(t.includeColors,null)>-1:t.includeColors},on:{change:function(e){var n=t.includeColors,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.includeColors=n.concat([o])):a>-1&&(t.includeColors=n.slice(0,a).concat(n.slice(a+1)))}else t.includeColors=i}}}),n("div"),n("span",[t._v("Colors")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.includeAudio,expression:"includeAudio"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.includeAudio)?t._i(t.includeAudio,null)>-1:t.includeAudio},on:{change:function(e){var n=t.includeAudio,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.includeAudio=n.concat([o])):a>-1&&(t.includeAudio=n.slice(0,a).concat(n.slice(a+1)))}else t.includeAudio=i}}}),n("div"),n("span",[t._v("Audio")])])]),n("footer",[n("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),n("button",{staticClass:"btn -large",attrs:{type:"submit"}},[n("i",{staticClass:"icon-check mr4"}),t._v(" Submit")])])])])},co=[],lo={mixins:[it["a"]],data:function(){return{includeAmounts:!1,includeColors:!0,includeAudio:!0}},methods:{submit:function(){this.close({amounts:this.includeAmounts,colors:this.includeColors,audios:this.includeAudio})}}},uo=lo,po=Object(S["a"])(uo,so,co,!1,null,null,null),ho=po.exports;function fo(t){return fo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(t)}function mo(t){return bo(t)||vo(t)||Co(t)||yo()}function yo(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vo(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function bo(t){if(Array.isArray(t))return ko(t)}function go(t,e){return Oo(t)||wo(t,e)||Co(t,e)||_o()}function _o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Co(t,e){if(t){if("string"===typeof t)return ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ko(t,e):void 0}}function ko(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wo(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Oo(t){if(Array.isArray(t))return t}function So(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Io(t,e,n){return e&&Eo(t.prototype,e),n&&Eo(t,n),t}function To(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xo(t,e)}function xo(t,e){return xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xo(t,e)}function Ao(t){var e=jo();return function(){var n,r=Do(t);if(e){var i=Do(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Po(this,n)}}function Po(t,e){return!e||"object"!==fo(e)&&"function"!==typeof e?Ro(t):e}function Ro(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Do(t){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(t)}var No=function(t){To(n,t);var e=Ao(n);function n(){var t;return So(this,n),t=e.apply(this,arguments),t.sections=["thresholds"],t}return Io(n,[{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"markets",get:function(){return this.$store.state.panes.panes[this.paneId].markets}},{key:"maxRows",get:function(){return this.$store.state[this.paneId].maxRows}},{key:"showLogos",get:function(){return this.$store.state[this.paneId].showLogos}},{key:"monochromeLogos",get:function(){return this.$store.state[this.paneId].monochromeLogos}},{key:"tradeType",get:function(){return this.$store.state[this.paneId].tradeType}},{key:"showTradesPairs",get:function(){return this.$store.state[this.paneId].showTradesPairs}},{key:"thresholds",get:function(){return this.$store.state[this.paneId].thresholds}},{key:"showThresholdsAsTable",get:function(){return this.$store.state[this.paneId].showThresholdsAsTable}},{key:"audioThresholdPlaceholder",get:function(){return"10% of minimum threshold ("+ +(.1*this.thresholds[0].amount).toFixed(2)+")"}},{key:"audioThreshold",get:function(){return this.$store.state[this.paneId].audioThreshold}},{key:"muted",get:function(){return this.$store.state[this.paneId].muted}},{key:"audioPitch",get:function(){return this.$store.state[this.paneId].audioPitch||1}},{key:"audioVolume",get:function(){var t=this.$store.state[this.paneId].audioVolume;return null===t?this.$store.state.settings.audioVolume:t}},{key:"multipliers",get:function(){var t=this;return this.markets.map((function(e){var n=Object(D["s"])(e),r=go(n,2),i=r[0],o=r[1],a=t.$store.state[t.paneId].multipliers[i+o];return{exchange:i,pair:o,multiplier:isNaN(a)?1:a,identifier:i+o}}))}},{key:"mutipliersCount",get:function(){return this.multipliers.filter((function(t){return 1!==t.multiplier})).length}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"displayGifWarning",get:function(){return this.disableAnimations&&this.thresholds.filter((function(t){return!!t.gif})).length}},{key:"formatAmount",value:function(t){return Object(D["i"])(t)}},{key:"toggleSection",value:function(t){var e=this.sections.indexOf(t);-1===e?this.sections.push(t):this.sections.splice(e,1)}},{key:"getAudioPreset",value:async function(){var t=await A["a"].openAsPromise(ho);if(t){if(!t.amounts&&!t.audios&&!t.colors)return void this.$store.dispatch("app/showNotice",{title:"You did not select anything to save in the preset !",type:"error"});for(var e={},n=0,r=[].concat(mo(Object.keys(this.$store.state[this.paneId].thresholds)),["liquidations"]);n<r.length;n++){var i=r[n],o=void 0;o="liquidations"===i?this.$store.state[this.paneId].liquidations:this.$store.state[this.paneId].thresholds[i],e[i]={},t.amounts&&(e[i].amount=o.amount),t.colors&&(e[i].buyColor=o.buyColor,e[i].sellColor=o.sellColor),t.audios&&(e[i].buyAudio=o.buyAudio,e[i].sellAudio=o.sellAudio)}return e}}},{key:"applyAudioPreset",value:function(t){var e,n=this,r=JSON.parse(JSON.stringify(Ii["a"][this.$store.state.panes.panes[this.paneId].type].state));if(t){var i=this.$store.state[this.paneId].thresholds[0].amount;e={thresholds:Object.keys(t).reduce((function(e,r){return"liquidations"===r||(n.$store.state[n.paneId].thresholds[r]?i=n.$store.state[n.paneId].thresholds[r].amount:(t[r].id=Object(D["v"])(),"undefined"===typeof t[r].amount&&(t[r].amount=i),"undefined"===typeof t[r].buyColor&&(t[r].buyColor="rgb(0, 255, 0)",t[r].sellColor="rgb(255, 0, 0)"),"undefined"===typeof t[r].buyAudio&&(t[r].buyAudio="",t[r].sellAudio="")),e.push(t[r])),e}),[]),liquidations:t.liquidations}}else e={thresholds:r.thresholds,liquidations:r.liquidations};cn()(this.$store.state[this.paneId],e),"undefined"!==typeof e.liquidations.buyAudio&&this.$store.commit(this.paneId+"/SET_THRESHOLD_AUDIO",{id:"liquidations",buyAudio:e.liquidations.buyAudio,sellAudio:e.liquidations.sellAudio}),"undefined"!==typeof e.liquidations.buyColor&&this.$store.commit(this.paneId+"/SET_THRESHOLD_COLOR",{id:"liquidations",side:"buyColor",value:e.liquidations.buyColor}),"undefined"!==typeof e.liquidations.amount&&this.$store.commit(this.paneId+"/SET_THRESHOLD_AMOUNT",{id:"liquidations",value:e.liquidations.amount})}}]),n}(s["c"]);No=Object(a["a"])([Object(s["a"])({components:{Thresholds:ao,Slider:P["a"]},name:"TradesSettings",props:{paneId:{type:String,required:!0}}})],No);var Lo=No,Bo=Lo,Mo=(n("5637"),Object(S["a"])(Bo,Si,Ei,!1,null,"7b8bbe56",null)),$o=Mo.exports,Uo={components:{TradesSettings:$o},mixins:[it["a"],ti],data:function(){return{renaming:!1}},methods:{}},Fo=Uo,Ho=Object(S["a"])(Fo,wi,Oi,!1,null,null,null),qo=Ho.exports,Go=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:t._s(t.name)},on:{dblclick:t.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("chart-pane-settings",{attrs:{paneId:t.paneId}}),n("footer",[n("presets",{staticClass:"-left -top",attrs:{type:"chart",adapter:t.getPreset},on:{apply:function(e){return t.resetPane(e)}}})],1)],1)},Vo=[],zo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-chart"},[n("div",{staticClass:"form-group mb16"},[n("label",[t._v(" Refresh chart every "),n("strong",{domProps:{textContent:t._s(t.refreshRateHms)}})]),n("slider",{staticClass:"mt8",attrs:{min:0,max:1e4,step:100,editable:!1,"show-completion":!0,value:t.refreshRate},on:{input:function(e){return t.$store.commit(t.paneId+"/SET_REFRESH_RATE",e)},reset:function(e){return t.$store.commit(t.paneId+"/SET_REFRESH_RATE",500)}}})],1),t.refreshRate<500?n("p",{staticClass:"form-feedback"},[n("i",{staticClass:"icon-warning"}),t._v(" Low refresh rate can be very CPU intensive")]):t._e(),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showLegend},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_LEGEND")}}}),n("div"),n("span",[t._v("Show legend")])])]),n("div",{staticClass:"form-group mb8"},[n("div",{staticClass:"form-group column"},[n("label",{staticClass:"checkbox-control",on:{change:function(e){return t.$store.commit(t.paneId+"/SET_GRIDLINES",{type:"vertical",value:e.target.checked})}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox",id:t.paneId+"showVerticalGridlines"},domProps:{checked:t.showVerticalGridlines}}),n("div",{staticClass:"mr8"})]),t.showVerticalGridlines?n("verte",{staticClass:"mr8",attrs:{picker:"square",menuPosition:"left",model:"rgb",value:t.verticalGridlinesColor},on:{input:function(e){e!==t.verticalGridlinesColor&&t.$store.commit(t.paneId+"/SET_GRIDLINES",{type:"vertical",value:e})}}}):t._e(),n("label",{staticClass:"-fill -center ",attrs:{for:t.paneId+"showVerticalGridlines"}},[t._v("Vertical grid lines")])],1)]),n("div",{staticClass:"form-group mb8"},[n("div",{staticClass:"form-group column"},[n("label",{staticClass:"checkbox-control",on:{change:function(e){return t.$store.commit(t.paneId+"/SET_GRIDLINES",{type:"horizontal",value:e.target.checked})}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox",id:t.paneId+"showHorizontalGridlines"},domProps:{checked:t.showHorizontalGridlines}}),n("div",{staticClass:"mr8"})]),t.showHorizontalGridlines?n("verte",{staticClass:"mr8",attrs:{picker:"square",menuPosition:"left",model:"rgb",value:t.horizontalGridlinesColor},on:{input:function(e){e!==t.horizontalGridlinesColor&&t.$store.commit(t.paneId+"/SET_GRIDLINES",{type:"horizontal",value:e})}}}):t._e(),n("label",{staticClass:"-fill -center ",attrs:{for:t.paneId+"showHorizontalGridlines"}},[t._v("Horizontal grid lines")])],1)]),n("div",{staticClass:"form-group"},[n("div",{staticClass:"form-group column"},[n("label",{staticClass:"checkbox-control",on:{change:function(e){return t.$store.commit(t.paneId+"/SET_WATERMARK",{value:e.target.checked})}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showWatermark}}),n("div",{staticClass:"mr8"})]),t.showWatermark?n("verte",{staticClass:"mr8",attrs:{picker:"square",menuPosition:"left",model:"rgb",value:t.watermarkColor},on:{input:function(e){e!==t.watermarkColor&&t.$store.commit(t.paneId+"/SET_WATERMARK",{value:e})}}}):t._e(),n("label",{staticClass:"-fill -center",attrs:{for:""}},[t._v("Watermark")])],1)])])},Wo=[];function Ko(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(isNaN(t)||null===t)return null;var n=t<0?"-":"";t=Math.abs(t);var r=Math.floor(t/1e3/3600),i=Math.floor(t/1e3%3600/60),o=Math.floor(t/1e3%3600%60),a="";return a+=e&&a.length||!(r>0)?"":n+r+"h"+(!e&&i?", ":""),a+=e&&a.length||!(i>0)?"":n+i+"m"+(!e&&o?", ":""),a+=e&&a.length||!(o>0)?"":n+o+"s",(!a.length||!e&&t<6e4&&t>1e3*o)&&(a+=(a.length?", ":"")+n+(t-1e3*o)+"ms"),a.trim()}function Xo(t){return Xo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(t)}function Jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yo(t,e,n){return e&&Qo(t.prototype,e),n&&Qo(t,n),t}function Zo(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ta(t,e)}function ta(t,e){return ta=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ta(t,e)}function ea(t){var e=ia();return function(){var n,r=oa(t);if(e){var i=oa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return na(this,n)}}function na(t,e){return!e||"object"!==Xo(e)&&"function"!==typeof e?ra(t):e}function ra(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ia(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function oa(t){return oa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},oa(t)}var aa=function(t){Zo(n,t);var e=ea(n);function n(){return Jo(this,n),e.apply(this,arguments)}return Yo(n,[{key:"showLegend",get:function(){return this.$store.state[this.paneId].showLegend}},{key:"refreshRate",get:function(){return this.$store.state[this.paneId].refreshRate}},{key:"showVerticalGridlines",get:function(){return this.$store.state[this.paneId].showVerticalGridlines}},{key:"verticalGridlinesColor",get:function(){return this.$store.state[this.paneId].verticalGridlinesColor}},{key:"showHorizontalGridlines",get:function(){return this.$store.state[this.paneId].showHorizontalGridlines}},{key:"horizontalGridlinesColor",get:function(){return this.$store.state[this.paneId].horizontalGridlinesColor}},{key:"showWatermark",get:function(){return this.$store.state[this.paneId].showWatermark}},{key:"watermarkColor",get:function(){return this.$store.state[this.paneId].watermarkColor}},{key:"refreshRateHms",get:function(){return Ko(this.refreshRate)}}]),n}(s["c"]);aa=Object(a["a"])([Object(s["a"])({components:{Slider:P["a"]},name:"ChartSettings",props:{paneId:{type:String,required:!0}}})],aa);var sa=aa,ca=sa,la=Object(S["a"])(ca,zo,Wo,!1,null,null,null),ua=la.exports,da={components:{ChartPaneSettings:ua},mixins:[it["a"],ti],methods:{}},pa=da,ha=Object(S["a"])(pa,Go,Vo,!1,null,null,null),fa=ha.exports,ma=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:t._s(t.name)},on:{dblclick:t.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("stats-pane-settings",{attrs:{paneId:t.paneId}})],1)},ya=[],va=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-stats settings-section"},[n("div",{staticClass:"column mb16"},[n("div",{staticClass:"form-group -fill"},[n("label",[t._v("Window "),n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Interval in which data is summed (eg: 1m)"}})]),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Window (minutes)"},domProps:{value:t.statsWindowStringified},on:{change:function(e){return t.$store.commit(t.paneId+"/SET_WINDOW",e.target.value)}}})]),n("div",{staticClass:"form-group -tight"},[n("label",{attrs:{for:""}},[t._v("Graph")]),n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input flex-right",attrs:{title:"Enable graph"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.enableChart},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_CHART",e.target.checked)}}}),n("div")])])]),n("div",{staticClass:"column"},[n("i",{staticClass:"icon-bucket -center mr4"}),n("span",{staticClass:"-fill"},[t._v("BUCKETS ("+t._s(t.buckets.length)+")")]),n("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"-nowrap -text",attrs:{href:"javascript:void(0);",title:"Add a stat"},on:{click:function(e){return t.$store.dispatch(t.paneId+"/createBucket")}}},[t._v(" Add "),n("i",{staticClass:"icon-plus ml4 -lower"})])]),t._l(t.buckets,(function(e){return n("div",{key:e.id,staticClass:"column mt8"},[n("div",{staticClass:"form-group -tight"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input flex-right",attrs:{title:"Enable bucket"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.enabled},on:{change:function(n){return t.$store.dispatch(t.paneId+"/updateBucket",{id:e.id,prop:"enabled",value:n.target.checked})}}}),n("div")])]),n("div",{staticClass:"form-group -fill -center"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:"form-group -tight"},[n("button",{staticClass:"btn -green",on:{click:function(n){return t.openStat(e.id)}}},[n("i",{staticClass:"icon-edit"})])])])}))],2)},ba=[],ga=n("2818");function _a(t){return _a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(t)}function Ca(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wa(t,e,n){return e&&ka(t.prototype,e),n&&ka(t,n),t}function Oa(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sa(t,e)}function Sa(t,e){return Sa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sa(t,e)}function Ea(t){var e=xa();return function(){var n,r=Aa(t);if(e){var i=Aa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ia(this,n)}}function Ia(t,e){return!e||"object"!==_a(e)&&"function"!==typeof e?Ta(t):e}function Ta(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Aa(t){return Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Aa(t)}var Pa=function(t){Oa(n,t);var e=Ea(n);function n(){return Ca(this,n),e.apply(this,arguments)}return wa(n,[{key:"enableChart",get:function(){return this.$store.state[this.paneId].enableChart}},{key:"buckets",get:function(){var t=this;return Object.keys(this.$store.state[this.paneId].buckets).map((function(e){return t.$store.state[t.paneId].buckets[e]}))}},{key:"window",get:function(){return this.$store.state[this.paneId].window}},{key:"statsWindowStringified",get:function(){return Object(D["n"])(this.window||0)}},{key:"openStat",value:function(t){A["a"].open(ga["a"],{bucketId:t,paneId:this.paneId})}}]),n}(s["c"]);Pa=Object(a["a"])([Object(s["a"])({name:"StatsSettings",props:{paneId:{type:String,required:!0}}})],Pa);var Ra=Pa,ja=Ra,Da=Object(S["a"])(ja,va,ba,!1,null,null,null),Na=Da.exports,La={components:{StatsPaneSettings:Na},mixins:[it["a"],ti],data:function(){return{renaming:!1}},methods:{}},Ba=La,Ma=Object(S["a"])(Ba,ma,ya,!1,null,null,null),$a=Ma.exports,Ua=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:t.close,mousedown:function(e){t.clickOutsideClose=!1},mouseup:function(e){t.clickOutsideClose=!0}},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:t._s(t.name)},on:{dblclick:t.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("prices-pane-settings",{attrs:{paneId:t.paneId}})],1)},Fa=[],Ha=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-group mb8"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control",attrs:{title:"eg: BTC-USD"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.showPairs},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_PAIRS")}}}),n("div"),n("span",[t._v("Ticker names are "+t._s(t.showPairs?"visible":"hidden"))])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.boldFont},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_BOLD_FONT")}}}),n("div"),n("span",[t._v(t._s(t.boldFont?"Bold":"Thin")+" text")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.animateSort},on:{change:function(e){return t.$store.commit(t.paneId+"/TOGGLE_SORT_ANIMATION")}}}),n("div"),n("span",[t._v("Order change animations are "+t._s(t.animateSort?"enabled":"disabled"))])])])])},qa=[];function Ga(t){return Ga="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(t)}function Va(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wa(t,e,n){return e&&za(t.prototype,e),n&&za(t,n),t}function Ka(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xa(t,e)}function Xa(t,e){return Xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Xa(t,e)}function Ja(t){var e=Za();return function(){var n,r=ts(t);if(e){var i=ts(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qa(this,n)}}function Qa(t,e){return!e||"object"!==Ga(e)&&"function"!==typeof e?Ya(t):e}function Ya(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Za(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ts(t){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(t)}var es=function(t){Ka(n,t);var e=Ja(n);function n(){return Va(this,n),e.apply(this,arguments)}return Wa(n,[{key:"showPairs",get:function(){return this.$store.state[this.paneId].showPairs}},{key:"boldFont",get:function(){return this.$store.state[this.paneId].boldFont}},{key:"animateSort",get:function(){return this.$store.state[this.paneId].animateSort}}]),n}(s["c"]);es=Object(a["a"])([Object(s["a"])({components:{Thresholds:ao,Slider:P["a"]},name:"TradesSettings",props:{paneId:{type:String,required:!0}}})],es);var ns=es,rs=ns,is=Object(S["a"])(rs,Ha,qa,!1,null,null,null),os=is.exports,as={components:{PricesPaneSettings:os},mixins:[it["a"],ti],data:function(){return{renaming:!1}},methods:{}},ss=as,cs=Object(S["a"])(ss,Ua,Fa,!1,null,null,null),ls=cs.exports;function us(t){return us="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(t)}function ds(t,e){return ys(t)||ms(t,e)||hs(t,e)||ps()}function ps(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hs(t,e){if(t){if("string"===typeof t)return fs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fs(t,e):void 0}}function fs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ms(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function ys(t){if(Array.isArray(t))return t}function vs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gs(t,e,n){return e&&bs(t.prototype,e),n&&bs(t,n),t}function _s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cs(t,e)}function Cs(t,e){return Cs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Cs(t,e)}function ks(t){var e=Ss();return function(){var n,r=Es(t);if(e){var i=Es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ws(this,n)}}function ws(t,e){return!e||"object"!==us(e)&&"function"!==typeof e?Os(t):e}function Os(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ss(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Es(t){return Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Es(t)}var Is=function(t){_s(n,t);var e=ks(n);function n(){var t;return vs(this,n),t=e.apply(this,arguments),t.menu=[{label:"Zoom"},{icon:"enlarge",label:"Maximize",click:t.maximizePane},{icon:"search",label:"Add markets",click:t.openSearch},{icon:"copy-paste",label:"Duplicate",click:t.duplicatePane},{icon:"trash",label:"Remove",click:t.removePane}],t}return gs(n,[{key:"name",get:function(){var t=this.$store.state.panes.panes[this.paneId].name,e=this.$store.state.panes.panes[this.paneId].markets;if(!t){if(e.length){var n=Object(D["s"])(e[0]),r=ds(n,2),i=r[1];return i}t=this.paneId}return t}},{key:"zoom",get:function(){return this.$store.state.panes.panes[this.paneId].zoom||1}},{key:"type",get:function(){return this.$store.state.panes.panes[this.paneId].type}},{key:"openSettings",value:function(){switch(this.type){case"counters":A["a"].open(ki,{paneId:this.paneId});break;case"stats":A["a"].open($a,{paneId:this.paneId});break;case"chart":A["a"].open(fa,{paneId:this.paneId});break;case"trades":A["a"].open(qo,{paneId:this.paneId});break;case"prices":A["a"].open(ls,{paneId:this.paneId});break}}},{key:"openSearch",value:function(){this.$store.dispatch("app/showSearch",{paneId:this.paneId})}},{key:"zoomIn",value:function(){this.$store.dispatch("panes/changeZoom",{id:this.paneId,zoom:.1})}},{key:"zoomOut",value:function(){this.$store.dispatch("panes/changeZoom",{id:this.paneId,zoom:-.1})}},{key:"removePane",value:async function(){await A["a"].confirm("Supprimer ".concat(this.paneId," ?"))&&this.$store.dispatch("panes/removePane",this.paneId)}},{key:"duplicatePane",value:function(){this.$store.dispatch("panes/duplicatePane",this.paneId)}},{key:"highlightPane",value:function(t){this.$el.parentElement.parentElement.classList[t?"add":"remove"]("-highlight")}},{key:"maximizePane",value:function(){this.$el.parentElement.parentElement.classList.toggle("-maximized");var t=Event;window.dispatchEvent(new t("resize"))}},{key:"renamePane",value:async function(){var t=await A["a"].prompt({action:"Rename",input:this.name});t!==this.name&&this.$store.commit("panes/SET_PANE_NAME",{id:this.paneId,name:t})}}]),n}(r["default"]);Is=Object(a["a"])([Object(Le["b"])({name:"PaneHeader",props:{paneId:{type:String},loading:{type:Boolean,default:!1}}})],Is);var Ts=Is,xs=Ts,As=Object(S["a"])(xs,Rr,jr,!1,null,null,null),Ps=As.exports,Rs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"indicator-resize"},[n("div",{staticClass:"indicator-resize__wrapper",style:{top:t.top+"%",bottom:t.bottom+"%"}},[n("div",{staticClass:"indicator-resize__pane -top",on:{mousedown:t.handleMove,touchstart:t.handleMove}}),n("div",{staticClass:"indicator-resize__boundary -top",on:{mousedown:t.handleResize,touchstart:t.handleResize}}),n("div",{staticClass:"indicator-resize__boundary -bottom",on:{mousedown:t.handleResize,touchstart:t.handleResize}}),n("button",{staticClass:"indicator-resize__close -left btn -text",on:{click:function(e){return t.$store.dispatch(t.paneId+"/resizeIndicator")}}},[n("i",{staticClass:"icon-check mr4"}),t._v(" "),n("code",{domProps:{textContent:t._s(t.top)}}),t._v("% ")]),n("button",{staticClass:"indicator-resize__close -right btn -text",on:{click:function(e){return t.$store.dispatch(t.paneId+"/resizeIndicator")}}},[n("i",{staticClass:"icon-check mr4"}),t._v(" "),n("code",{domProps:{textContent:t._s(t.bottom)}}),t._v("% ")])])])},js=[],Ds=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"indicator",class:{"-error":!!t.error,"-disabled":!t.visible}},[n("div",{staticClass:"indicator__name",on:{click:t.edit}},[t._v(t._s(t.name))]),n("div",{staticClass:"indicator__controls"},[t.error?t._e():[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small",attrs:{title:t.visible?"Hide":"Show"},on:{click:t.toggleVisibility}},[n("i",{class:{"icon-visible":!t.visible,"icon-hidden":t.visible}})]),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small",attrs:{title:"Edit"},on:{click:t.edit}},[n("i",{staticClass:"icon-edit"})])],n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small",attrs:{title:"Resize"},on:{click:t.resize}},[n("i",{staticClass:"icon-resize-height"})]),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small",attrs:{title:"Disable"},on:{click:t.remove}},[n("i",{staticClass:"icon-cross"})])],2),t.showLegend?n("div",{staticClass:"indicator__legend"},t._l(t.series,(function(e){return n("div",{key:e,attrs:{id:t.paneId+t.indicator.id+e}})})),0):t._e(),t.error?n("div",[n("i",{staticClass:"icon-warning ml4 mr8"}),t._v(" "+t._s(t.error)+" ")]):t._e()])},Ns=[],Ls={props:["paneId","indicatorId"],computed:{indicator:function(){return this.$store.state[this.paneId].indicators[this.indicatorId]},series:function(){return this.indicator.series},showLegend:function(){return this.$store.state[this.paneId].showLegend},name:function(){return this.indicator.displayName?this.indicator.displayName:this.indicator.name?this.indicator.name:this.indicatorId},visible:function(){return!this.indicator.options||"undefined"===typeof this.indicator.options.visible||this.indicator.options.visible},error:function(){return this.$store.state[this.paneId].indicatorsErrors[this.indicatorId]}},methods:{edit:function(){A["a"].open(An,{paneId:this.paneId,indicatorId:this.indicatorId},"indicator")},toggleVisibility:function(){var t=this;this.$nextTick((function(){t.$store.dispatch(t.paneId+"/toggleSerieVisibility",t.indicatorId)}))},remove:function(){this.$store.dispatch(this.paneId+"/removeIndicator",{id:this.indicatorId})},resize:function(){this.$store.dispatch(this.paneId+"/resizeIndicator",this.indicatorId)}}},Bs=Ls,Ms=(n("f1f6"),Object(S["a"])(Bs,Ds,Ns,!1,null,null,null)),$s=Ms.exports,Us=n("724c");function Fs(t){return Fs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(t)}function Hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gs(t,e,n){return e&&qs(t.prototype,e),n&&qs(t,n),t}function Vs(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zs(t,e)}function zs(t,e){return zs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zs(t,e)}function Ws(t){var e=Js();return function(){var n,r=Qs(t);if(e){var i=Qs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ks(this,n)}}function Ks(t,e){return!e||"object"!==Fs(e)&&"function"!==typeof e?Xs(t):e}function Xs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Js(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Qs(t){return Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qs(t)}var Ys=function(t){Vs(n,t);var e=Ws(n);function n(){var t;return Hs(this,n),t=e.apply(this,arguments),t.position={top:0,bottom:0},t}return Gs(n,[{key:"top",get:function(){return+this.position.top.toFixed()}},{key:"bottom",get:function(){return+this.position.bottom.toFixed()}},{key:"indicatorIdChange",value:function(){this.setup()}},{key:"mounted",value:function(){this.setup(),document.body.classList.add("-unselectable")}},{key:"beforeDestroy",value:function(){document.body.classList.remove("-unselectable"),this.release()}},{key:"setup",value:function(){if(this.indicatorId){var t=this.$store.state[this.paneId].indicators[this.indicatorId].options,e=t.scaleMargins;e||(e=Fe["a"].priceScale.scaleMargins);var n=100*e.top,r=100*e.bottom;this.position={top:n,bottom:r}}else this.position=null}},{key:"handleResize",value:function(t){var e=Object(Us["d"])(t),n=t.currentTarget.classList.contains("-top")?"top":"bottom";this._reference={chartHeight:this.getChartHeight(),referenceY:e.y,targetSide:n,maxPercent:"top"===n?100-this.position.bottom:100-this.position.top},document.addEventListener("mousemove",this.resize),document.addEventListener("mouseup",this.release),document.addEventListener("touchmove",this.resize),document.addEventListener("touchend",this.release)}},{key:"handleMove",value:function(t){var e=Object(Us["d"])(t);this._reference={chartHeight:this.getChartHeight(),referenceY:e.y,maxPercent:100-this.position.top-this.position.bottom},document.addEventListener("mousemove",this.move),document.addEventListener("mouseup",this.release),document.addEventListener("touchmove",this.move),document.addEventListener("touchend",this.release)}},{key:"release",value:function(){this._reference&&(this._reference.targetSide?(document.removeEventListener("mousemove",this.resize),document.removeEventListener("touchmove",this.resize)):(document.removeEventListener("mousemove",this.move),document.removeEventListener("touchmove",this.move)),document.removeEventListener("mouseup",this.release),document.removeEventListener("touchend",this.release),this._reference=null)}},{key:"resize",value:function(t){var e=Object(Us["d"])(t);if(e.y!==this._reference.referenceY){var n;n="top"===this._reference.targetSide?e.y-this._reference.referenceY:this._reference.referenceY-e.y,n/=this._reference.chartHeight,this._reference.referenceY=e.y;var r=Math.min(this._reference.maxPercent,this.position[this._reference.targetSide]+100*n);r<0||r>100||(this.position[this._reference.targetSide]=r,this.update())}}},{key:"move",value:function(t){var e=Object(Us["d"])(t),n=(e.y-this._reference.referenceY)/this._reference.chartHeight;this._reference.referenceY=e.y;var r=this.position.top+100*n,i=this.position.top-r,o=this.position.bottom+i;r<0||r>100||o<0||o>100||(this.position.top=r,this.position.bottom=o,this.update())}},{key:"update",value:function(){this.$store.dispatch(this.paneId+"/setIndicatorOption",{id:this.indicatorId,key:"scaleMargins",value:{top:+this.top/100,bottom:+this.bottom/100}})}},{key:"getChartHeight",value:function(){var t=parseFloat(this.$el.parentElement.clientHeight);return t}}]),n}(s["c"]);Object(a["a"])([Object(s["d"])("indicatorId")],Ys.prototype,"indicatorIdChange",null),Ys=Object(a["a"])([Object(s["a"])({name:"Chart",props:{paneId:{required:!0},indicatorId:{required:!0}},components:{IndicatorControl:$s,PaneHeader:Ps}})],Ys);var Zs=Ys,tc=Zs,ec=(n("d2a1"),Object(S["a"])(tc,Rs,js,!1,null,null,null)),nc=ec.exports,rc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{staticClass:"-auto",on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[t._v("Add indicator")]),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("div",{staticClass:"d-flex mobile-dir-col-desktop-dir-row"},[t.indicators.length?[n("div",{staticClass:"form-group"},[n("label",[t._v("Choose from existing indicator")]),n("div",{staticClass:"d-flex mb8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:"search"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("div",{staticClass:"-center text-muted ml16",domProps:{textContent:t._s(t.indicators.length)}})]),t.filteredIndicators.length?n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("Name")]),n("th")])]),n("tbody",t._l(t.filteredIndicators,(function(e){return n("tr",{key:e.id,staticClass:"-action",on:{click:function(n){return t.selectIndicator(e)}}},[n("td",{staticClass:"table-input",domProps:{textContent:t._s(e.displayName||e.name)}}),n("td",{staticClass:"table-action",on:{click:function(n){return n.stopPropagation(),t.removeIndicator(e)}}},[n("button",{staticClass:"btn  -red -small"},[n("i",{staticClass:"icon-cross"})])])])})),0)]):t._e()]),n("div",{staticClass:"divider -horizontal"},[t._v("Or")]),n("div",{staticClass:"divider -vertical"},[t._v("Or")])]:t._e(),n("div",{staticClass:"-unshrinkable"},[n("div",{staticClass:"form-group mb16"},[n("label",[t._v("Create indicator")]),n("input",{staticClass:"form-control",attrs:{placeholder:"Name of indicator / serie"},domProps:{value:t.name},on:{input:function(e){return t.getIndicatorId(e.target.value)}}}),n("p",[t._v(" ID: "),n("code",{staticClass:"-filled"},[t._v(t._s(t.indicatorId))])])]),n("div",{staticClass:"form-group mb16"},[n("label",[t._v("Scale with")]),n("dropdown",{staticClass:"-left -center",attrs:{selected:t.priceScaleId,options:t.availableScales,placeholder:"Default scale",selectionClass:"-outline form-control"},on:{output:function(e){t.priceScaleId=e}}})],1)])],2),n("footer",[n("a",{staticClass:"btn -text mr8",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(!1)}}},[t._v("Cancel")]),n("button",{staticClass:"btn -large",on:{click:t.create}},[t._v("Create")])])])},ic=[],oc={mixins:[it["a"]],props:{paneId:{type:String,required:!0}},components:{Dialog:rt["a"]},data:function(){return{name:"",indicatorId:null,priceScaleId:"right",query:"",indicators:[]}},computed:{queryFilter:function(){return new RegExp(this.query.replace(/\W/,".*"),"i")},filteredIndicators:function(){var t=this;return this.indicators.filter((function(e){return!t.$store.state[t.paneId].indicators[e.id]&&(t.queryFilter.test(e.name)||t.queryFilter.test(e.displayName))}))},availableScales:function(){return this.indicators.map((function(t){return t.options&&t.options.priceScaleId})).reduce((function(t,e){return!e||t[e]||(t[e]=e),t}),{"":"Own scale",right:"Main scale (right)"})}},created:async function(){await this.getIndicators()},beforeDestroy:function(){this.editor&&this.editor.destroy()},methods:{getIndicators:async function(){this.indicators=await B["a"].getIndicators(),this.getIndicatorId(this.name)},getIndicatorId:function(t){t&&t.length||(t=this.name&&this.name.lengt?this.name:"Untitled"),this.indicatorId=Object(D["y"])(Object(D["x"])(t),this.indicators.map((function(t){return t.id}))),this.name=t},create:async function(){if(this.name&&!(this.name.length<3)){var t=Object(D["x"])(this.name),e=await B["a"].saveIndicator({id:this.indicatorId,name:this.name,priceScaleId:this.priceScaleId||t}),n=await B["a"].getIndicator(e);this.$store.dispatch(this.paneId+"/addIndicator",n),A["a"].open(An,{paneId:this.paneId,indicatorId:n.id},"indicator"),this.close(null)}},selectIndicator:function(t){this.$store.dispatch(this.paneId+"/addIndicator",t),this.close(null)},removeIndicator:async function(t){await A["a"].confirm("Delete ".concat(t.name," permanently ?"))&&(B["a"].deleteIndicator(t.id),this.indicators.splice(this.indicators.indexOf(t),1),this.getIndicatorId())},ago:function(t){return Object(D["a"])(t)}}},ac=oc,sc=Object(S["a"])(ac,rc,ic,!1,null,null,null),cc=sc.exports,lc=n("fa07");function uc(t){return uc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(t)}function dc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fc(t,e,n){return e&&hc(t.prototype,e),n&&hc(t,n),t}function mc(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yc(t,e)}function yc(t,e){return yc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yc(t,e)}function vc(t){var e=_c();return function(){var n,r=Cc(t);if(e){var i=Cc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bc(this,n)}}function bc(t,e){return!e||"object"!==uc(e)&&"function"!==typeof e?gc(t):e}function gc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Cc(t){return Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cc(t)}var kc=function(t){mc(n,t);var e=vc(n);function n(){var t,r;return pc(this,n),r=e.apply(this,arguments),r.reachedEnd=!1,r.loading=!1,r.priceWidth=40,r.timeframes=(t={"21t":"21 ticks","50t":"50 ticks","89t":"89 ticks","100t":"100 ticks","144t":"144 ticks","200t":"200 ticks","233t":"233 ticks","377t":"377 ticks","610t":"610 ticks","1000t":"1000 ticks","1597t":"1597 ticks",1:"1s",3:"3s",5:"5s",10:"10s",30:"30s",60:"1m"},dc(t,180,"3m"),dc(t,300,"5m"),dc(t,900,"15m"),dc(t,1260,"21m"),dc(t,3600,"1h"),dc(t,7200,"2h"),dc(t,14400,"4h"),dc(t,28800,"8h"),dc(t,86400,"1d"),t),r}return fc(n,[{key:"indicators",get:function(){return this.$store.state[this.paneId].indicators}},{key:"resizingIndicator",get:function(){return this.$store.state[this.paneId].resizingIndicator}},{key:"showLegend",get:function(){return this.$store.state[this.paneId].showLegend}},{key:"timeframe",get:function(){return this.$store.state[this.paneId].timeframe}},{key:"timeframeForHuman",get:function(){return Object(D["p"])(this.timeframe)}},{key:"created",value:function(){var t=this;this._chartController=new zn(this.paneId),this._legendElements={},this._onStoreMutation=this.$store.subscribe((function(e){switch(e.type){case"settings/SET_CHART_COLOR":e.payload&&t._chartController.chartInstance.applyOptions(Object(Fe["f"])(e.payload));break;case"settings/SET_CHART_THEME":t._chartController.chartInstance.applyOptions(Object(Fe["f"])());break;case"settings/SET_TIMEZONE_OFFSET":t._chartController.setTimezoneOffset(t.$store.state.settings.timezoneOffset),t._chartController.clearChart(),t._chartController.renderAll();break;case"app/EXCHANGE_UPDATED":t._chartController.renderAll();break;case"panes/SET_PANE_MARKETS":e.payload.id===t.paneId&&(t._chartController.setMarkets(e.payload.markets),t.clear(),t.fetch());break;case"panes/SET_PANE_ZOOM":e.payload.id===t.paneId&&t._chartController.updateFontSize();break;case t.paneId+"/SET_TIMEFRAME":t.setTimeframe(e.payload);break;case t.paneId+"/SET_REFRESH_RATE":t._chartController.clearQueue(),t._chartController.setupQueue();break;case t.paneId+"/TOGGLE_LEGEND":t.showLegend?(t.bindLegend(),t._chartController.chartInstance.subscribeCrosshairMove(t.onCrosshair)):(t.unbindLegend(),t._chartController.chartInstance.unsubscribeCrosshairMove(t.onCrosshair));break;case t.paneId+"/SET_GRIDLINES":t.updateGridlines(e.payload.type);break;case t.paneId+"/SET_WATERMARK":t._chartController.updateWatermark();break;case t.paneId+"/SET_INDICATOR_OPTION":t._chartController.setIndicatorOption(e.payload.id,e.payload.key,e.payload.value);break;case t.paneId+"/SET_INDICATOR_SCRIPT":t._chartController.rebuildIndicator(e.payload.id);break;case t.paneId+"/SET_INDICATOR_SERIES":t.unbindLegend(e.payload.id),t.bindLegend(e.payload.id);break;case t.paneId+"/ADD_INDICATOR":t._chartController.addIndicator(e.payload.id)&&(t._chartController.redrawIndicator(e.payload.id),t.bindLegend(e.payload.id));break;case t.paneId+"/REMOVE_INDICATOR":t.unbindLegend(e.payload),t._chartController.removeIndicator(e.payload);break;case"app/SET_OPTIMAL_DECIMAL":case"settings/SET_DECIMAL_PRECISION":for(var n in t.indicators){var r=t.$store.state[t.paneId].indicators[n];r.options&&(r.options.priceFormat&&"price"===r.options.priceFormat.type&&(t._chartController.setIndicatorOption(r.id,"priceFormat.precision",e.payload),t._chartController.setIndicatorOption(r.id,"priceFormat.minMove",1/Math.pow(10,e.payload))))}break}}))}},{key:"mounted",value:function(){this.createChart(),this.keepAlive()}},{key:"createChart",value:async function(){await this.$nextTick(),this._chartController.createChart(this.$refs.chartContainer),await this.$nextTick(),this.bindChartEvents(),await this.fetch(),this.positionControls(),this._chartController.setupQueue()}},{key:"destroyChart",value:function(){this.unbindChartEvents(),this._chartController.destroy(),clearTimeout(this._keepAliveTimeout)}},{key:"beforeDestroy",value:function(){this.destroyChart(),this._onStoreMutation()}},{key:"fetch",value:function(t){var e=this;if(!this.loading){var n=br.getHistoricalMarktets(this.$store.state.panes.panes[this.paneId].markets);if(n.length){var r=this._chartController.getVisibleRange(),i=this.$store.state[this.paneId].timeframe;if(!isNaN(+i)){if(!t){var o,a=Math.ceil(window.innerWidth/2);o=this._chartController.chartCache.cacheRange&&this._chartController.chartCache.cacheRange.from?this._chartController.chartCache.cacheRange.from:r&&r.from?r.from+this.$store.state.settings.timezoneOffset/1e3:+new Date/1e3,t={from:o-i*a,to:o};var s=206.54355723892712,c=Object(D["j"])(a*n.length*s);this.$store.dispatch("app/showNotice",{id:"fetching-"+this.paneId,timeout:15e3,title:"Fetching ".concat(a*n.length," × ").concat(Object(D["n"])(1e3*i)," bars (~").concat(c,")"),type:"info"})}return t.from=Math.floor(Math.round(t.from)/i)*i,t.to=Math.ceil(Math.round(t.to)/i)*i-1,this._chartController.lockRender(),this.loading=!0,br.fetch(Math.round(1e3*t.from),Math.round(1e3*t.to-1),i,n).then((function(t){var n,r=t.data,i=t.from,o=t.to,a=t.format;switch(a){case"point":n={from:i,to:o,bars:r};break;default:throw new Error("unsupported-historical-data-format")}if(n&&n.bars.length){var s=[{from:n.from,to:n.from,bars:[]}];n.bars.length,he["d"];while(n.bars.length){var c=n.bars.shift();s[0].bars.length>=he["d"]&&s[0].to<c.timestamp&&s.unshift({from:c.timestamp,to:c.timestamp,bars:[]}),s[0].bars.push(c),s[0].to=c.timestamp}s.length;for(var l=0,u=s;l<u.length;l++){var d=u[l];e._chartController.chartCache.saveChunk(d)}e._chartController.renderAll()}})).catch((function(t){"no-more-data"===t||"unsupported-historical-data-format"===t?e.reachedEnd=!0:e.$store.dispatch("app/showNotice",{title:t?"string"===typeof t?t:t.message:"Historical API seems down at the moment",type:"error",icon:"icon-warning",timeout:-1})})).then((function(){e.$store.dispatch("app/hideNotice","fetching-"+e.paneId),e.loading=!1,e._chartController.unlockRender()}))}this.reachedEnd=!0}}}},{key:"onCrosshair",value:function(t){var e=!0;(void 0===t||void 0===t.time||t.point.x<0||t.point.x>this.$refs.chartContainer.clientWidth||t.point.y<0||t.point.y>this.$refs.chartContainer.clientHeight)&&(e=!1);for(var n=0;n<this._chartController.loadedIndicators.length;n++)for(var r=this._chartController.loadedIndicators[n],i=0;i<this._chartController.loadedIndicators[n].apis.length;i++){var o=this._chartController.loadedIndicators[n].apis[i],a=this.paneId+r.id+o.id;if(this._legendElements[a])if(e){var s=t.seriesPrices.get(o);if(!s){this._legendElements[a].innerText="";continue}var c=r.options.priceFormat&&"volume"===r.options.priceFormat.type?D["i"]:D["k"];"number"===typeof s?this._legendElements[a].innerText=c(s):s.close&&(this._legendElements[a].innerText="O: ".concat(c(s.open)," H: ").concat(c(s.high)," L: ").concat(c(s.low)," C: ").concat(c(s.close)))}else this._legendElements[a].innerText=""}}},{key:"onTrades",value:function(t){this._chartController.queueTrades(t)}},{key:"refreshChartDimensions",value:function(){var t=this;this._chartController&&this._chartController.chartInstance&&this.$nextTick((function(){var e=0;t.$store.state.settings.autoHideHeaders||(e=2*(t.$store.state.panes.panes[t.paneId].zoom||1)*16),t._chartController.chartInstance.resize(t.$el.clientWidth,t.$el.clientHeight-e)}))}},{key:"onPan",value:function(t){var e=this;t&&!this._chartController.panPrevented&&(this._onPanTimeout&&(clearTimeout(this._onPanTimeout),this._onPanTimeout=null),this._onPanTimeout=setTimeout((function(){null!==e._chartController.chartCache.cacheRange.from&&e.fetchOrRecover(t)}),200))}},{key:"bindChartEvents",value:function(){c["a"].on("trades",this.onTrades),this.showLegend&&this._chartController.chartInstance.subscribeCrosshairMove(this.onCrosshair),this._chartController.chartInstance.timeScale().subscribeVisibleLogicalRangeChange(this.onPan)}},{key:"unbindChartEvents",value:function(){c["a"].off("trades",this.onTrades),this.showLegend&&this._chartController.chartInstance.unsubscribeCrosshairMove(this.onCrosshair),this._chartController.chartInstance.timeScale().unsubscribeVisibleLogicalRangeChange(this.onPan)}},{key:"keepAlive",value:function(){this._keepAliveTimeout&&(this._chartController.chartCache.trim(),this._chartController.renderAll()),this._keepAliveTimeout=setTimeout(this.keepAlive.bind(this),18e5)}},{key:"refreshChart",value:function(){this._chartController.chartCache.trim(),this.renderChart()}},{key:"renderChart",value:function(){this._chartController.renderAll()}},{key:"resetChart",value:function(){var t=this;this.destroyChart(),this.$nextTick((function(){t.createChart()}))}},{key:"addIndicator",value:function(){A["a"].open(cc,{paneId:this.paneId})}},{key:"fetchOrRecover",value:function(t){if(t&&!(t.from>0)){var e=Math.abs(t.from),n={from:this._chartController.chartCache.cacheRange.from-e*this.$store.state[this.paneId].timeframe,to:this._chartController.chartCache.cacheRange.from};this.reachedEnd||this._chartController.chartCache.cacheRange.from&&!(n.to<=this._chartController.chartCache.cacheRange.from)?this._chartController.renderedRange.from>this._chartController.chartCache.cacheRange.from&&this._chartController.renderAll():this.fetch(n)}}},{key:"onResize",value:function(){this.refreshChartDimensions()}},{key:"clear",value:function(){this._chartController.clear(),this.reachedEnd=!1}},{key:"setTimeframe",value:function(t){var e=parseInt(t),n="t"===t[t.length-1]?"tick":"time";this._chartController.timeframe<e&&n===this._chartController.type?(this._chartController.resample(t),this._chartController.renderAll()):(this._chartController.clear(),this.fetch()),this.reachedEnd=!1}},{key:"bindLegend",value:async function(t){if(t){var e=this.indicators[t].series;await this.$nextTick();for(var n=0;n<e.length;n++){var r=this.paneId+t+e[n];if(!this._legendElements[r]){var i=document.getElementById(r);i&&(this._legendElements[r]=i)}}}else for(var o in this.indicators)this.bindLegend(o)}},{key:"unbindLegend",value:function(t){if(t){var e=this.paneId+t;for(var n in this._legendElements)0===n.indexOf(e)&&delete this._legendElements[n]}else for(var r in this.indicators)this.unbindLegend(r)}},{key:"updateGridlines",value:function(t){var e,n,r=this.$store.state[this.paneId];"vertical"===t?(e=r.showVerticalGridlines,n=r.verticalGridlinesColor):(e=r.showHorizontalGridlines,n=r.horizontalGridlinesColor),this._chartController.chartInstance.applyOptions({grid:dc({},"vertical"===t?"vertLines":"horzLines",{color:n,visible:e})})}},{key:"updateWatermark",value:function(){var t=this.$store.state[this.paneId];this._chartController.chartInstance.applyOptions({watermark:{color:t.watermarkColor,visible:t.showWatermark}})}},{key:"positionControls",value:function(){var t=this.$refs.chartContainer.querySelector("td:last-child canvas:nth-child(2)");this.priceWidth=t.clientWidth}},{key:"takeScreenshot",value:function(){var t=this._chartController.chartInstance.takeScreenshot(),e=document.createElement("canvas"),n=e.getContext("2d"),r=this.$store.state[this.paneId].timeframe;r=isNaN(+r)?parseInt(r)+" TICKS":Object(D["n"])(1e3*r).toUpperCase();var i=r,o=this.$store.state.panes.panes[this.paneId].zoom||1,a=16*o,s=16*o;e.width=t.width,n.font="".concat(s,"px Share Tech Mono"),n.textAlign="left",n.textBaseline="top";for(var c=i.split(" "),l=[],u=(new Date).toISOString(),d=n.measureText(u).width,p=" |",h=0;h<c.length;h++){var f=c[h],m=(l.length?0:d)+n.measureText(p+" "+f).width;m<t.width-2*a?p+=" "+f:(l.push(p),p=f)}l.push(p);var y=Math.round(a),v=Math.round(2*a+l.length*y);e.height=t.height+v;var b=this.$store.state.settings.backgroundColor,g=getComputedStyle(document.documentElement).getPropertyValue("--theme-background-300"),_=getComputedStyle(document.documentElement).getPropertyValue("--theme-background-100"),C=getComputedStyle(document.documentElement).getPropertyValue("--theme-color-100");n.fillStyle=_,n.fillRect(0,0,e.width,v),n.fillStyle=b,n.fillRect(0,v,e.width,e.height-v),n.fillStyle="light"===this.$store.state.settings.theme?"rgba(255,255,255,.2)":"rgba(0,0,0,.2)",n.fillRect(0,v,e.width,e.height-v),n.drawImage(t,0,v),n.fillStyle=g,n.font="".concat(s,"px Share Tech Mono"),n.textAlign="left",n.textBaseline="top";for(var k=0;k<l.length;k++){var w=0;0===k&&(n.fillStyle=C,n.fillText(u,a,a),w=d,n.fillStyle=C),n.fillText(l[k],w+a,a+y*k)}var O=Object(lc["d"])(Object(lc["h"])(b)),S=O<170?"#ffffff":"#000000";Object.values(this.indicators).forEach((function(t,e){var r=t.options;if(!1!==r.visible){var i=r.color||r.upColor||S;try{i=Object(lc["h"])(i),"undefined"!==typeof i[3]&&(i[3]=1),i=Object(lc["g"])(i)}catch(o){}n.fillStyle=i,n.fillText(t.name.toUpperCase(),a,v+a+e*y*1.2)}}));var E=e.toDataURL("image/png"),I=E.indexOf("base64,")+7,T=E.substr(I);Object(D["q"])(T,"image/png")}}]),n}(Object(s["b"])(Pr));kc=Object(a["a"])([Object(s["a"])({name:"Chart",components:{IndicatorResize:nc,IndicatorControl:$s,PaneHeader:Ps}})],kc);var wc=kc,Oc=wc,Sc=(n("a857"),Object(S["a"])(Oc,$e,Ue,!1,null,"3d980fee",null)),Ec=Sc.exports,Ic=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pane-trades",class:{"-logos":this.showLogos,"-logos-colors":!this.monochromeLogos,"-slippage":this.calculateSlippage}},[n("pane-header",{attrs:{paneId:t.paneId}}),n("ul",{ref:"tradesContainer",staticClass:"hide-scrollbar"}),t.showPlaceholder?n("div",{staticClass:"trades-placeholder hide-scrollbar"},[n("div",{staticClass:"mt16 ml16 mr16 help-text"},[n("strong",[t._v("Waiting for trades")]),n("p",[t._v("No"+t._s("both"===t.tradeType?"thing":" "+t.tradeType)+" matching")]),t._l(t.pane.markets,(function(e){return n("code",{key:e,staticClass:"trades-placeholder__market"},[t._v(t._s(e.replace(/^\w+:/,""))),n("br")])})),n("p",[t._v("with amount > "+t._s(t.thresholds[0].amount))])],2)]):t._e()],1)},Tc=[];function xc(t){return xc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(t)}function Ac(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ac(Object(n),!0).forEach((function(e){Rc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jc(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Dc(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Dc(t,e){if(t){if("string"===typeof t)return Nc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(t,e):void 0}}function Nc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mc(t,e,n){return e&&Bc(t.prototype,e),n&&Bc(t,n),t}function $c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uc(t,e)}function Uc(t,e){return Uc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Uc(t,e)}function Fc(t){var e=Gc();return function(){var n,r=Vc(t);if(e){var i=Vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hc(this,n)}}function Hc(t,e){return!e||"object"!==xc(e)&&"function"!==typeof e?qc(t):e}function qc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vc(t)}var zc={},Wc={},Kc=function(t){$c(n,t);var e=Fc(n);function n(){var t;return Lc(this,n),t=e.apply(this,arguments),t.showPlaceholder=!0,t._tradesCount=0,t}return Mc(n,[{key:"maxRows",get:function(){return this.$store.state[this.paneId].maxRows}},{key:"thresholds",get:function(){return this.$store.state[this.paneId].thresholds}},{key:"tradeType",get:function(){return this.$store.state[this.paneId].tradeType}},{key:"showTradesPairs",get:function(){return this.$store.state[this.paneId].showTradesPairs}},{key:"showLogos",get:function(){return this.$store.state[this.paneId].showLogos}},{key:"monochromeLogos",get:function(){return this.$store.state[this.paneId].monochromeLogos}},{key:"exchanges",get:function(){return this.$store.state.exchanges}},{key:"calculateSlippage",get:function(){return this.$store.state.settings.calculateSlippage}},{key:"audioThreshold",get:function(){return this.$store.state[this.paneId].audioThreshold}},{key:"created",value:function(){var t=this;this.cacheFilters(),this.loadThresholdsGifs(),this.prepareColorsSteps(),this.prepareThresholdsSounds(),this.prepareAudioThreshold(),this._tradesCount=0,c["a"].on("trades",this.onTrades),this._onStoreMutation=this.$store.subscribe((function(e){switch(e.type){case"app/EXCHANGE_UPDATED":case t.paneId+"/SET_THRESHOLD_MULTIPLIER":case t.paneId+"/TOGGLE_TRADE_TYPE":t.cacheFilters();break;case t.paneId+"/SET_MAX_ROWS":while(t._tradesCount>t.maxRows)t.$refs.tradesContainer.removeChild(t.$refs.tradesContainer.lastChild),t._tradesCount--;break;case"panes/SET_PANE_MARKETS":e.payload.id===t.paneId&&(t.cacheFilters(),t.refreshList());break;case t.paneId+"/SET_THRESHOLD_GIF":t.retrieveThresholdGifs(e.payload.value),t.refreshList();break;case t.paneId+"/SET_THRESHOLD_AUDIO":case t.paneId+"/SET_AUDIO_PITCH":case t.paneId+"/SET_AUDIO_VOLUME":case"settings/TOGGLE_AUDIO":case"settings/SET_AUDIO_VOLUME":t.prepareThresholdsSounds(),t.prepareAudioThreshold();break;case"settings/SET_CHART_BACKGROUND_COLOR":case t.paneId+"/SET_THRESHOLD_COLOR":case t.paneId+"/SET_THRESHOLD_AMOUNT":case t.paneId+"/DELETE_THRESHOLD":case t.paneId+"/ADD_THRESHOLD":t.prepareThresholdsSounds(),t.prepareColorsSteps(),t.refreshList(),t.prepareAudioThreshold();break;case t.paneId+"/SET_AUDIO_THRESHOLD":case t.paneId+"/TOGGLE_MUTED":t.prepareAudioThreshold();break}}))}},{key:"mounted",value:function(){this.startTimeAgoInterval()}},{key:"beforeDestroy",value:function(){c["a"].off("trades",this.onTrades),this._onStoreMutation(),clearInterval(this._timeAgoInterval)}},{key:"startTimeAgoInterval",value:function(){var t,e=this,n=function(t){return t<6e4?Math.floor(t/1e3)+"s":t<36e5?Math.floor(t/6e4)+"m":Math.floor(t/36e5)+"h"};this._timeAgoInterval=setInterval((function(){var r=e.$el.getElementsByClassName("-timestamp"),i=r.length;if(i){t=+new Date;for(var o,a=t/1e3%60<1,s=0;s<i;s++){if("undefined"===typeof r[s])break;var c=t-r[s].getAttribute("timestamp"),l=n(c);if(l===o&&l)r[s-1].textContent="",r[s-1].className="trade__time";else{if(l!==r[s].textContent&&(r[s].textContent=l,!a&&"s"!==l[l.length-1]))break;o=l}}}}),1e3)}},{key:"onTrades",value:function(t){for(var e=0;e<t.length;e++){var n=t[e].exchange+t[e].pair;if(this._activeExchanges[t[e].exchange]&&this._paneMarkets[n]){var r=t[e],i=r.size*(this._preferQuoteCurrencySize?r.price:1),o=this._multipliers[n];if(r.liquidation){if("both"===this._tradeType&&i>=this._liquidationThreshold.amount*o){this.appendRow(r,i,o);continue}if("trades"===this._tradeType)continue}else if("liquidations"===this._tradeType)continue;i>=this._minimumThresholdAmount*o?this.appendRow(r,i,o):i>this._audioThreshold&&this._thresholdsAudios[0][r.side](ft["a"],i/(this._significantThresholdAmount*o),r.side,0)}}}},{key:"appendRow",value:function(t,e,n){this._tradesCount||(this.showPlaceholder=!1),this._tradesCount++;var r=!1,i=document.createElement("li");if(i.className="trade",i.className+=" -"+t.exchange,i.className+=" -"+t.side,t.liquidation&&"both"===this._tradeType){i.className+=" -liquidation";var o=document.createElement("div");o.className="trade__side "+("buy"===t.side?"icon-bear":"icon-bull"),i.appendChild(o),this._liquidationThreshold.gif&&zc[this._liquidationThreshold.gif]&&e>=this._liquidationThreshold.amount*n&&(i.className+=" -gif",this._disableAnimations||(i.style.backgroundImage="url('".concat(zc[this._liquidationThreshold.gif][Math.floor(Math.random()*(zc[this._liquidationThreshold.gif].length-1))]),r=!0));var a=Math.min(1,e/this._significantThresholdAmount),s=this._liquidationsColor[t.side][(a<.5?"from":"to")+"Luminance"],c=this._liquidationsColor[t.side].to;i.style.color=s>(r?144:170)?"rgba(0, 0, 0, "+Math.min(1,.25+a)+")":"rgba(255, 255, 255, "+Math.min(1,.25+a)+")",i.style.backgroundColor="rgb("+c[0]+", "+c[1]+", "+c[2]+", "+a+")",e>this._audioThreshold&&this._liquidationsAudio[t.side](ft["a"],e/(this._significantThresholdAmount*n),t.side,0)}else{if(t.liquidation){i.className+=" -liquidation";var l=document.createElement("div");l.className="trade__side "+("buy"===t.side?"icon-bear":"icon-bull"),i.appendChild(l)}else if(t.side!==this._lastSide){var u=document.createElement("div");u.className="trade__side icon-side",i.appendChild(u),this._lastSide=t.side}for(var d=0;d<this.thresholds.length;d++)if(i.className+=" -level-"+d,!this.thresholds[d+1]||e<this.thresholds[d+1].amount*n){var p=this._thresholdsColors[Math.min(this.thresholds.length-2,d)],h=this.thresholds[d];h.gif&&zc[h.gif]&&(i.className+=" -gif",this._disableAnimations||(i.style.backgroundImage="url('".concat(zc[h.gif][Math.floor(Math.random()*(zc[h.gif].length-1))])),r=!0);var f=(Math.max(e,p.threshold)-p.threshold)/p.range,m=e/this._significantThresholdAmount,y=p[t.side][(f<.5?"from":"to")+"Luminance"],v=Object(lc["c"])(p[t.side].from,p[t.side].to,f);i.style.backgroundColor="rgb("+v[0]+", "+v[1]+", "+v[2]+")",i.style.color=y>(r?144:170)?"rgba(0, 0, 0, "+Math.min(1,.25+m)+")":"rgba(255, 255, 255, "+Math.min(1,.25+m)+")",e>this._audioThreshold&&this._thresholdsAudios[d][t.side](ft["a"],m,t.side,d);break}}var b=document.createElement("div");if(b.className="trade__exchange",this.showLogos||(b.innerText=t.exchange.replace("_"," ")),b.setAttribute("title",t.exchange),i.appendChild(b),this.showTradesPairs){var g=document.createElement("div");g.className="trade__pair",g.innerText=t.pair.replace("_"," "),g.setAttribute("title",t.pair),i.appendChild(g)}var _=document.createElement("div");_.className="trade__price",_.innerText="".concat(Object(D["k"])(t.price)),i.appendChild(_),t.slippage&&("price"===this.calculateSlippage&&Math.abs(t.slippage)/t.price>5e-4?_.setAttribute("slippage",(t.slippage>0?"+":"")+Object(D["k"])(t.slippage)+document.getElementById("app").getAttribute("data-quote-symbol")):"bps"===this.calculateSlippage&&t.slippage&&_.setAttribute("slippage",(t.slippage>0?"+":"-")+Object(D["k"])(t.slippage)));var C=document.createElement("div");C.className="trade__amount";var k=document.createElement("span");k.className="trade__amount__quote",k.innerHTML='<span class="icon-quote"></span> <span>'+Object(D["i"])(t.price*t.size)+"</span>";var w=document.createElement("span");w.className="trade__amount__base",w.innerHTML='<span class="icon-base"></span> <span>'+Object(D["i"])(t.size)+"</span>",C.appendChild(k),C.appendChild(w),i.appendChild(C);var O=document.createElement("div");if(O.className="trade__time",t.timestamp){var S=1e3*Math.floor(t.timestamp/1e3);S!==this._lastTradeTimestamp&&(this._lastTradeTimestamp=S,O.setAttribute("timestamp",t.timestamp.toString()),O.className+=" -timestamp")}i.appendChild(O),this.$refs.tradesContainer.prepend(i),this._tradesCount>this.maxRows&&(this._tradesCount--,this.$refs.tradesContainer.removeChild(this.$refs.tradesContainer.lastChild))}},{key:"loadThresholdsGifs",value:async function(){var t,e=jc(this.thresholds);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.gif&&!zc[n.gif]&&this.retrieveThresholdGifs(n.gif)}}catch(r){e.e(r)}finally{e.f()}}},{key:"retrieveThresholdGifs",value:async function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(D["x"])(t);if(e)return zc[t]&&(this.$store.dispatch("app/showNotice",{title:"Removed "+zc[t].length+' gifs about "'+t+'"',type:"info"}),delete zc[t]),await B["a"].deleteGifs(n),Promise.resolve();var r,i=await B["a"].getGifs(n);i&&+new Date-i.timestamp<6048e5?r=i.data:Wc[t]||(r=await this.fetchGifByKeyword(t)),r&&(zc[t]=r)}},{key:"fetchGifByKeyword",value:async function(t){var e=this;if(t&&zc){var n=Object(D["x"])(t),r=fetch("https://g.tenor.com/v1/search?q="+t+"&key=LIVDSRZULELA&limit=100&key=DF3B0979C761").then((function(t){return t.json()})).then((async function(r){if(r.results&&r.results.length){zc[t]=[];var i,o=jc(r.results);try{for(o.s();!(i=o.n()).done;){var a=i.value;zc[t].push(a.media[0].tinygif.url)}}catch(s){o.e(s)}finally{o.f()}return e.$store.dispatch("app/showNotice",{title:"Downloaded "+zc[t].length+' gifs about "'+t+'"',type:"success"}),await B["a"].saveGifs({slug:n,keyword:t,timestamp:+new Date,data:zc[t]}),zc[t]}})).finally((function(){delete Wc[t]}));return Wc[t]=r,r}}},{key:"prepareColorsSteps",value:function(){var t=Object(lc["b"])(),e=Object(lc["h"])(this._liquidationThreshold.buyColor,t),n=[e[0],e[1],e[2],0],r=[e[0],e[1],e[2],1],i=Object(lc["h"])(this._liquidationThreshold.sellColor,t),o=[i[0],i[1],i[2],0],a=[i[0],i[1],i[2],1];this._liquidationsColor={buy:{from:n,to:r,fromLuminance:Object(lc["d"])(n),toLuminance:Object(lc["d"])(r)},sell:{from:o,to:a,fromLuminance:Object(lc["d"])(o),toLuminance:Object(lc["d"])(a)}},this._thresholdsColors=[],this._minimumThresholdAmount=this.thresholds[0].amount,this._significantThresholdAmount=this.thresholds[1].amount;for(var s=0;s<this.thresholds.length-1;s++){var c=Object(lc["h"])(this.thresholds[s].buyColor,t),l=Object(lc["h"])(this.thresholds[s+1].buyColor,t),u=Object(lc["h"])(this.thresholds[s].sellColor,t),d=Object(lc["h"])(this.thresholds[s+1].sellColor,t);this._thresholdsColors.push({threshold:this.thresholds[s].amount,range:this.thresholds[s+1].amount-this.thresholds[s].amount,buy:{from:c,to:l,fromLuminance:Object(lc["d"])(c),toLuminance:Object(lc["d"])(l)},sell:{from:u,to:d,fromLuminance:Object(lc["d"])(u),toLuminance:Object(lc["d"])(d)}})}}},{key:"prepareThresholdsSounds",value:async function(){var t=this.$store.state[this.paneId].audioPitch,e=this.$store.state[this.paneId].audioVolume;this._thresholdsAudios=[];for(var n=0;n<this.thresholds.length;n++)this._thresholdsAudios[n]={buy:await ft["a"].buildAudioFunction(this.thresholds[n].buyAudio,"buy",t,e),sell:await ft["a"].buildAudioFunction(this.thresholds[n].sellAudio,"sell",t,e)};this._liquidationsAudio={buy:await ft["a"].buildAudioFunction(this._liquidationThreshold.buyAudio,"buy",t,e),sell:await ft["a"].buildAudioFunction(this._liquidationThreshold.sellAudio,"sell",t,e)}}},{key:"prepareAudioThreshold",value:function(){this.$store.state.settings.useAudio&&!this.$store.state[this.paneId].muted&&0!==this.$store.state[this.paneId].audioVolume?this.audioThreshold?"string"===typeof this.audioThreshold&&/\d\s*%$/.test(this.audioThreshold)?this._audioThreshold=this._minimumThresholdAmount*(parseFloat(this.audioThreshold)/100):this._audioThreshold=+this.audioThreshold:this._audioThreshold=.1*this._minimumThresholdAmount:this._audioThreshold=1/0}},{key:"cacheFilters",value:function(){var t=this;this._preferQuoteCurrencySize=this.$store.state.settings.preferQuoteCurrencySize,this._disableAnimations=this.$store.state.settings.disableAnimations,this._tradeType=this.$store.state[this.paneId].tradeType,this._liquidationThreshold=this.$store.state[this.paneId].liquidations,this._activeExchanges=Pc({},this.$store.state.app.activeExchanges),this._multipliers={},this._paneMarkets=this.$store.state.panes.panes[this.paneId].markets.reduce((function(e,n){var r=n.replace(":",""),i=t.$store.state[t.paneId].multipliers[r];return t._multipliers[r]=isNaN(i)?1:i,e[r]=!0,e}),{})}},{key:"clearList",value:function(){this.$refs.tradesContainer.innerHTML="",this._tradesCount=0,this.showPlaceholder=!0}},{key:"refreshList",value:function(){var t=this;if(!this._tradesCount)return this.clearList();var e=!1;this.$store.state.settings.disableAnimations||(this._disableAnimations=!0,e=!0),this._enableAnimationsTimeout&&clearTimeout(this._enableAnimationsTimeout),this._enableAnimationsTimeout=setTimeout((function(){e&&(t._disableAnimations=!1),t._enableAnimationsTimeout=null}),1e3);var n,r=this.$el.getElementsByClassName("trade"),i=this.$store.state.app.activeMarkets.reduce((function(t,e){return t[e.exchange]||(t[e.exchange]=e.pair),t}),{}),o=[],a=jc(r);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=s.querySelector(".trade__exchange").getAttribute("title"),l=i[c];if(l){var u=s.querySelector(".trade__pair"),d=s.querySelector(".trade__time").getAttribute("timestamp"),p=parseFloat(s.querySelector(".trade__price").innerText)||0,h=parseFloat(s.querySelector(".trade__amount__base").innerText)||0,f=s.classList.contains("-buy")?"buy":"sell",m=u?u.innerText:null,y={timestamp:d,exchange:c,pair:m||l,price:p,size:h,side:f};s.classList.contains("-liquidation")&&(y.liquidation=!0),o.push(y)}}}catch(O){a.e(O)}finally{a.f()}o.reverse(),this.clearList();var v=this._audioThreshold;this._audioThreshold=1/0;for(var b=0,g=o;b<g.length;b++){var _=g[b],C=_.exchange+_.pair,k=_.size*(this._preferQuoteCurrencySize?_.price:1),w=this._multipliers[C]||1;this.appendRow(_,k,w)}this._audioThreshold=v}}]),n}(Object(s["b"])(Pr));Kc=Object(a["a"])([Object(s["a"])({components:{PaneHeader:Ps},name:"Trades"})],Kc);var Xc=Kc,Jc=Xc,Qc=(n("8b12"),Object(S["a"])(Jc,Ic,Tc,!1,null,null,null)),Yc=Qc.exports,Zc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pane-stats"},[n("pane-header",{attrs:{paneId:t.paneId}}),n("ul",{staticClass:"stats-buckets"},t._l(t.data,(function(e,r){return n("li",{key:r,staticClass:"stat-bucket",on:{click:function(e){return t.editStat(r)}}},[n("div",{staticClass:"stat-bucket__name"},[t._v(t._s(e.name))]),n("div",{staticClass:"stat-bucket__value"},[t._v(t._s(e.value))])])})),0),t.enableChart?n("div",{ref:"chart",staticClass:"stats-chart"}):t._e()],1)},tl=[];function el(t,e){return al(t)||ol(t,e)||rl(t,e)||nl()}function nl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rl(t,e){if(t){if("string"===typeof t)return il(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?il(t,e):void 0}}function il(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ol(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function al(t){if(Array.isArray(t))return t}function sl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sl(Object(n),!0).forEach((function(e){ll(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ll(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pl(t,e,n){return e&&dl(t.prototype,e),n&&dl(t,n),t}var hl=function(){function t(e,n,r){ul(this,t),this.stacks=[],this.filled=!1,this.remaining=0,this.timeouts=[],this.id=n.id,this.name=n.name,this.adapter=this.getAdapter(e),this.window=(isNaN(n.window)?He["b"].state[r].window:+n.window)||6e4,this.precision=n.precision,this.color=this.parseColor(n.color),this.granularity=Math.max(He["b"].state[r].granularity,this.window/5e3),this.type=n.type||"line";var i=Object(D["n"])(this.window).replace(/^1(\w)$/,"$1");this.name+="/"+i,this.clear()}return pl(t,[{key:"getAdapter",value:function(t){var e=t.replace(/([^.]|^)(vbuy|vsell|cbuy|csell|lbuy|lsell)/g,"$1stats.$2");return new Function("stats","'use strict'; return ".concat(e,";"))}},{key:"clear",value:function(){this.stacks=[],this.live=0,this.filled=!1,this.remaining=0;for(var t=0;t<this.timeouts.length;t++)clearTimeout(this.timeouts[t]);this.timeouts=[]}},{key:"unbind",value:function(){this.clear()}},{key:"onStats",value:function(t){var e=this.adapter(t);if(!this.stacks.length||t.timestamp>this.timestamp+this.granularity)this.appendStack(t.timestamp);else if(this.filled&&this.remaining){var n=(t.timestamp-this.timestamp)/this.granularity,r=Math.ceil(this.stacks[0]*(1-n)),i=this.remaining-r;this.remaining=r,this.live-=i}this.addData(e)}},{key:"appendStack",value:function(t){t||(t=+new Date),this.stacks.length&&!this.stacks[this.stacks.length-1]||(this.stacks.push(0),this.timeouts.push(setTimeout(this.shiftStack.bind(this),this.window))),this.timestamp=t,this.filled||this.stacks.length!==this.window/this.granularity||(this.filled=!0)}},{key:"shiftStack",value:function(){this.timeouts.shift();var t=this.stacks.shift();t&&(this.remaining&&(this.live-=this.remaining),this.remaining=this.stacks[0])}},{key:"addData",value:function(t){this.stacks[this.stacks.length-1]+=t,this.live+=t}},{key:"getValue",value:function(){return this.live}},{key:"createSerie",value:function(t){if(!this.serie){var e="add"+(this.type.charAt(0).toUpperCase()+this.type.slice(1))+"Series",n=Object.assign({},Fe["b"][this.type],cl({priceScaleId:this.name,title:this.name,priceLineVisible:!1,lineWidth:1,scaleMargins:{top:.05,bottom:.05}},this.getColorOptions()));this.serie=t[e](n)}}},{key:"updateSerie",value:function(){var t=this.getValue();if(this.serie&&this.timestamp&&("histogram"!==this.type||t)){var e={time:this.timestamp/1e3,value:t};"function"===typeof this.color&&(e.color=this.color(t)),this.serie.update(e)}}},{key:"getColorOptions",value:function(){if("function"===typeof this.color)return{};if("area"===this.type){var t,e,n;if(0===this.color.indexOf("#")){var r=Object(lc["f"])(this.color),i=el(r,3);t=i[0],e=i[1],n=i[2]}else{var o=Object(lc["h"])(this.color),a=el(o,3);t=a[0],e=a[1],n=a[2]}var s="rgba(".concat(t,",").concat(e,",").concat(n,", .4)"),c="rgba(".concat(t,",").concat(e,",").concat(n,", 0)");return{topColor:s,bottomColor:c,lineColor:this.color}}return{color:this.color}}},{key:"parseColor",value:function(t){return/rgba?\(|#/.test(t)?t:function(){return new Function("value",'"use strict"; return '+t)}()}},{key:"updateColor",value:function(t){this.serie&&(this.color=this.parseColor(t),"string"===typeof t&&this.serie.applyOptions(this.getColorOptions()))}},{key:"removeIndicator",value:function(t){this.serie&&(t.removeSeries(this.serie),delete this.serie)}}]),t}();function fl(t){return fl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(t)}function ml(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vl(t,e,n){return e&&yl(t.prototype,e),n&&yl(t,n),t}function bl(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gl(t,e)}function gl(t,e){return gl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},gl(t,e)}function _l(t){var e=wl();return function(){var n,r=Ol(t);if(e){var i=Ol(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cl(this,n)}}function Cl(t,e){return!e||"object"!==fl(e)&&"function"!==typeof e?kl(t):e}function kl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(t)}var Sl=function(t){bl(n,t);var e=_l(n);function n(){var t;return ml(this,n),t=e.apply(this,arguments),t.data={},t._buckets={},t._feed=null,t}return vl(n,[{key:"enableChart",get:function(){return this.$store.state[this.paneId].enableChart}},{key:"buckets",get:function(){return this.$store.state[this.paneId].buckets}},{key:"created",value:function(){var t=this;this._onStoreMutation=this.$store.subscribe((function(e){switch(e.type){case"settings/SET_CHART_COLOR":t._chart&&e.payload&&t._chart.applyOptions(Object(Fe["f"])(e.payload));break;case"settings/SET_CHART_THEME":t._chart&&t._chart.applyOptions(Object(Fe["f"])());break;case"panes/SET_PANE_MARKETS":case t.paneId+"/SET_WINDOW":if(e.payload.id&&e.payload.id!==t.paneId)break;t.prepareBuckets();break;case t.paneId+"/SET_BUCKET_COLOR":t.recolorBucket(e.payload.id,e.payload.value);break;case t.paneId+"/SET_BUCKET_TYPE":t._chart&&t.reloadBucketSerie(e.payload.id,e.payload.value);break;case t.paneId+"/TOGGLE_CHART":e.payload?t.createChart():t.removeChart();break;case t.paneId+"/TOGGLE_BUCKET":e.payload.value?t.createBucket(t.buckets[e.payload.id]):t.removeBucket(e.payload.id);break;case t.paneId+"/REMOVE_BUCKET":t.removeBucket(e.payload);break;case t.paneId+"/SET_BUCKET_WINDOW":case t.paneId+"/SET_BUCKET_INPUT":case t.paneId+"/SET_BUCKET_PRECISION":t.refreshBucket(e.payload.id);break;case t.paneId+"/RENAME_BUCKET":t.refreshBucketName(e.payload);break}})),this.prepareBuckets()}},{key:"mounted",value:function(){this.enableChart&&this.createChart()}},{key:"beforeDestroy",value:function(){this._feed&&c["a"].off(this._feed,this.onVolume),this.clearBuckets(),this.removeChart(),this._onStoreMutation(),this._chart=null}},{key:"createChart",value:async function(){await this.$nextTick();var t=Object(Fe["e"])(Fe["d"]);for(var e in this._chart=Ge["b"](this.$refs.chart,t),this._buckets)this._buckets[e].createSerie(this._chart);this.refreshChartDimensions(0)}},{key:"removeChart",value:function(){if(this._chart){for(var t in this._buckets)this._buckets[t].removeIndicator(this._chart);this._chart.remove(),this._chart=null}}},{key:"refreshChartDimensions",value:async function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;this.enableChart&&(clearTimeout(this._refreshChartDimensionsTimeout),this._refreshChartDimensionsTimeout=setTimeout((function(){t._chart&&t._chart.resize(t.$el.clientWidth,t.$el.clientHeight)}),e))}},{key:"prepareBuckets",value:function(){for(var t in this._feed&&c["a"].off(this._feed,this.onVolume),this.clearBuckets(),this.buckets)this.createBucket(this.buckets[t]);this._feed="bucket-"+Object(D["m"])(this.pane.markets),this._feed.length&&c["a"].on(this._feed,this.onVolume)}},{key:"onVolume",value:function(t){for(var e in this._buckets){if(this._buckets[e].onStats(t),this._buckets[e].stacks.length){var n=this._buckets[e].getValue();this.$set(this.data[e],"value",Object(D["i"])(n,this._buckets[e].precision))}this._chart&&this._buckets[e].updateSerie()}}},{key:"clearBuckets",value:function(){for(var t in this._buckets)this.removeBucket(t);this._buckets={}}},{key:"removeBucket",value:function(t){this._buckets[t]&&(this._buckets[t].unbind(),this._chart&&this._buckets[t].removeIndicator(this._chart),this.$delete(this.data,t),delete this._buckets[t])}},{key:"refreshBucket",value:function(t){var e=this.buckets[t];e&&(this.removeBucket(t),this.createBucket(e))}},{key:"recolorBucket",value:function(t,e){this._buckets[t]&&(this._buckets[t].updateColor(e),this.$set(this.data[t],"color",e))}},{key:"reloadBucketSerie",value:function(t,e){this._buckets[t]&&(e&&(this._buckets[t].type=e),this._buckets[t].removeIndicator(this._chart),this._buckets[t].createSerie(this._chart))}},{key:"createBucket",value:function(t){if(t.enabled&&"undefined"===typeof this.data[t.id]){var e=new hl(t.input,t,this.paneId);this._chart&&e.createSerie(this._chart),this._buckets[t.id]=e,this.$set(this.data,e.id,{value:0,name:e.name,color:e.color})}}},{key:"refreshBucketName",value:function(t){var e=t.id,n=t.name,r=this._buckets[e];r.name=n,this.$set(this.data[e],"name",n)}},{key:"editStat",value:function(t){A["a"].open(ga["a"],{paneId:this.paneId,bucketId:t})}},{key:"onResize",value:function(){this.refreshChartDimensions()}}]),n}(Object(s["b"])(Pr));Sl=Object(a["a"])([Object(s["a"])({components:{PaneHeader:Ps},name:"Stats"})],Sl);var El=Sl,Il=El,Tl=(n("3f50"),Object(S["a"])(Il,Zc,tl,!1,null,null,null)),xl=Tl.exports,Al=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pane-counters"},[n("pane-header",{attrs:{paneId:t.paneId}}),n("ul",{staticClass:"counters hide-scrollbar"},t._l(t.activeSteps,(function(e,r){return n("li",{key:r,staticClass:"counter",attrs:{duration:e.duration}},[n("div",{staticClass:"counter__side -buy",style:{width:e.buy/(e.buy+e.sell)*100+"%"}},[t.countersCount?n("span",[t._v(t._s(e.buy))]):n("span",[t._v(t._s(t.formatAmount(e.buy)))])]),n("div",{staticClass:"counter__side -sell",style:{width:e.sell/(e.buy+e.sell)*100+"%"}},[t.countersCount?n("span",[t._v(t._s(e.sell))]):n("span",[t._v(t._s(t.formatAmount(e.sell)))])])])})),0)],1)},Pl=[];function Rl(t){return Rl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(t)}function jl(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Dl(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Dl(t,e){if(t){if("string"===typeof t)return Nl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nl(t,e):void 0}}function Nl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ml(t,e,n){return e&&Bl(t.prototype,e),n&&Bl(t,n),t}function $l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ul(t,e)}function Ul(t,e){return Ul=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ul(t,e)}function Fl(t){var e=Gl();return function(){var n,r=Vl(t);if(e){var i=Vl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hl(this,n)}}function Hl(t,e){return!e||"object"!==Rl(e)&&"function"!==typeof e?ql(t):e}function ql(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Vl(t){return Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vl(t)}var zl=function(t){$l(n,t);var e=Fl(n);function n(){var t;return Ll(this,n),t=e.apply(this,arguments),t.steps=[],t._feed=null,t}return Ml(n,[{key:"preferQuoteCurrencySize",get:function(){return this.$store.state.settings.preferQuoteCurrencySize}},{key:"liquidationsOnly",get:function(){return this.$store.state[this.paneId].liquidationsOnly}},{key:"countersSteps",get:function(){return this.$store.state[this.paneId].steps}},{key:"countersCount",get:function(){return this.$store.state[this.paneId].count}},{key:"countersGranularity",get:function(){return this.$store.state[this.paneId].granularity}},{key:"activeSteps",get:function(){return this.steps.filter((function(t){return t.hasData}))}},{key:"created",value:function(){var t=this;this._onStoreMutation=this.$store.subscribe((function(e){switch(e.type){case"panes/SET_PANE_MARKETS":e.payload.id===t.paneId&&t.createCounters();break;case t.paneId+"/REPLACE_COUNTERS":case t.paneId+"/TOGGLE_LIQUIDATIONS_ONLY":case t.paneId+"/TOGGLE_COUNT":t.createCounters();break}})),this.createCounters(),this._populateCountersInterval=setInterval(this.populateCounters.bind(this),this.countersGranularity)}},{key:"beforeDestroy",value:function(){this._feed&&c["a"].off(this._feed,this.onVolume),this._onStoreMutation(),clearInterval(this._populateCountersInterval)}},{key:"onVolume",value:function(t){var e={buy:t.vbuy,sell:t.vsell};if(this.liquidationsOnly?(e.buy=t.lbuy,e.sell=t.lsell):this.countersCount&&(e.buy=t.cbuy,e.sell=t.csell),e.buy||e.sell){this._activeChunk.timestamp||(this._activeChunk.timestamp=t.timestamp),this._activeChunk.buy+=e.buy,this._activeChunk.sell+=e.sell;for(var n=0;n<this.steps.length;n++)this.steps[n].buy+=e.buy,this.steps[n].sell+=e.sell}}},{key:"clearCounters",value:function(){this._feed&&c["a"].off(this._feed,this.onVolume),this._counters?(this._counters.splice(0,this._counters.length),this._activeChunk.timestamp=null,this._activeChunk.buy=this._activeChunk.sell=0,this.steps.splice(0,this.steps.length)):(this._counters=[],this._activeChunk={timestamp:null,buy:0,sell:0},this.steps=[])}},{key:"createCounters",value:function(){this.clearCounters();var t,e=jl(this.countersSteps);try{for(e.s();!(t=e.n()).done;){var n=t.value;this._counters.push({duration:n,chunks:[]})}}catch(s){e.e(s)}finally{e.f()}var r,i=jl(this._counters);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=0===this._counters.indexOf(o);this.steps.push({duration:Object(D["n"])(o.duration),buy:0,sell:0,hasData:a})}}catch(s){i.e(s)}finally{i.f()}this._feed="bucket-"+Object(D["m"])(this.pane.markets),this._feed.length&&c["a"].on(this._feed,this.onVolume)}},{key:"populateCounters",value:function(){var t=+new Date;this._activeChunk.timestamp&&(this._counters[0].chunks.push({timestamp:this._activeChunk.timestamp,buy:this._activeChunk.buy,sell:this._activeChunk.sell}),this._activeChunk.timestamp=null,this._activeChunk.buy=0,this._activeChunk.sell=0);for(var e,n,r=[],i=0;i<this._counters.length;i++){r.length&&(Array.prototype.push.apply(this._counters[i].chunks,r.splice(0,r.length)),this.steps[i].hasData||(this.steps[i].hasData=!0)),e=0,n=0;for(var o=0,a=0;a<this._counters[i].chunks.length;a++)if(e+=this._counters[i].chunks[a].buy,n+=this._counters[i].chunks[a].sell,this._counters[i].chunks[a].timestamp>=t-this._counters[i].duration){o=a;break}o&&(r=this._counters[i].chunks.splice(0,o+1),this.steps[i].buy-=e,this.steps[i].sell-=n)}}},{key:"formatAmount",value:function(t){return Object(D["i"])(t)}},{key:"formatPrice",value:function(t){return Object(D["k"])(t)}}]),n}(Object(s["b"])(Pr));zl=Object(a["a"])([Object(s["a"])({components:{PaneHeader:Ps},name:"Counters"})],zl);var Wl=zl,Kl=Wl,Xl=(n("7e2d"),Object(S["a"])(Kl,Al,Pl,!1,null,null,null)),Jl=Xl.exports,Ql=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"pane-prices",class:(t={},t[e.mode]=!0,t["-bold"]=this.boldFont,t),on:{mouseenter:function(t){e.pauseSort=!0},mouseleave:function(t){e.pauseSort=!1}}},[r("pane-header",{attrs:{paneId:e.paneId}}),e.markets?r("transition-group",{staticClass:"markets-bar condensed hide-scrollbar pane",attrs:{name:e.transitionGroupName,tag:"div"}},e._l(e.markets,(function(t){var n;return r("div",{key:t.id,staticClass:"market",class:(n={},n["-"+t.exchange]=!0,n["-"+t.status]=!0,n["-hidden"]=e.exchanges[t.exchange].hidden,n),attrs:{title:t.id},on:{click:function(n){return e.$store.dispatch("exchanges/toggleExchangeVisibility",t.exchange)}}},[e.showPairs?r("div",{staticClass:"market__pair",domProps:{textContent:e._s(t.pair)}}):e._e(),r("div",{staticClass:"market__price",domProps:{textContent:e._s(e.formatPrice(t.price))}})])})),0):e._e()],1)},Yl=[];function Zl(t){return Zl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(t)}function tu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tu(Object(n),!0).forEach((function(e){nu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ru(t,e){return au(t)||ou(t,e)||cu(t,e)||iu()}function iu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ou(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function au(t){if(Array.isArray(t))return t}function su(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=cu(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function cu(t,e){if(t){if("string"===typeof t)return lu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(t,e):void 0}}function lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pu(t,e,n){return e&&du(t.prototype,e),n&&du(t,n),t}function hu(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fu(t,e)}function fu(t,e){return fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fu(t,e)}function mu(t){var e=bu();return function(){var n,r=gu(t);if(e){var i=gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yu(this,n)}}function yu(t,e){return!e||"object"!==Zl(e)&&"function"!==typeof e?vu(t):e}function vu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}var _u=function(t){hu(n,t);var e=mu(n);function n(){var t;return uu(this,n),t=e.apply(this,arguments),t.mode="-vertical",t.pauseSort=!1,t.markets=null,t}return pu(n,[{key:"marketChange",value:function(t,e){var n,r=su(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;-1===t.indexOf(i)&&this.removeMarketFromList(i)}}catch(p){r.e(p)}finally{r.f()}var o,a=su(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(-1===e.indexOf(s)){var c=Object(D["s"])(s),l=ru(c,2),u=l[0],d=l[1];this.addMarketToList({id:u+d,exchange:u,pair:d})}}}catch(p){a.e(p)}finally{a.f()}}},{key:"activeMarkets",get:function(){return this.$store.state.app.activeMarkets}},{key:"exchanges",get:function(){return this.$store.state.exchanges}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"showPairs",get:function(){return this.$store.state[this.paneId].showPairs}},{key:"boldFont",get:function(){return this.$store.state[this.paneId].boldFont}},{key:"animateSort",get:function(){return this.$store.state[this.paneId].animateSort}},{key:"transitionGroupName",get:function(){return this.animateSort?"flip-list":null}},{key:"mounted",value:function(){c["a"].on("prices",this.updateExchangesPrices)}},{key:"beforeDestroy",value:function(){c["a"].off("prices",this.updateExchangesPrices)}},{key:"updateExchangesPrices",value:function(t){if(this.markets){var e,n=su(this.markets);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=t[r.id];i!==r.price&&(i?r.price>i?r.status="down":r.price<i?r.status="up":r.status="neutral":r.status="pending",r.price=i)}}catch(p){n.e(p)}finally{n.f()}}else{this.markets=[];var o,a=su(this.pane.markets);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=Object(D["s"])(s),l=ru(c,2),u=l[0],d=l[1];this.addMarketToList({id:u+d,pair:d,exchange:u})}}catch(p){a.e(p)}finally{a.f()}}this.pauseSort||("-horizontal"===this.mode?this.markets=this.markets.sort((function(t,e){return t.price-e.price})):this.markets=this.markets.sort((function(t,e){return e.price-t.price})))}},{key:"removeMarketFromList",value:function(t){var e=this.markets.indexOf(this.markets.find((function(e){return e.exchange+":"+e.pair===t})));-1!==e&&this.markets.splice(e,1)}},{key:"addMarketToList",value:function(t){this.markets||(this.markets=[]),this.markets.push(eu(eu({},t),{},{status:"pending",price:null}))}},{key:"formatPrice",value:function(t){return Object(D["k"])(t)}},{key:"onResize",value:function(t,e){this.mode=t>e?"-horizontal":"-vertical"}}]),n}(Object(s["b"])(Pr));Object(a["a"])([Object(s["d"])("pane.markets")],_u.prototype,"marketChange",null),_u=Object(a["a"])([Object(s["a"])({components:{PaneHeader:Ps},name:"Prices"})],_u);var Cu=_u,ku=Cu,wu=(n("8dbc"),Object(S["a"])(ku,Ql,Yl,!1,null,"0df94e56",null)),Ou=wu.exports;function Su(t){return Su="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(t)}function Eu(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Iu(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Iu(t,e){if(t){if("string"===typeof t)return Tu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tu(t,e):void 0}}function Tu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Au(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pu(t,e,n){return e&&Au(t.prototype,e),n&&Au(t,n),t}function Ru(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ju(t,e)}function ju(t,e){return ju=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ju(t,e)}function Du(t){var e=Bu();return function(){var n,r=Mu(t);if(e){var i=Mu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nu(this,n)}}function Nu(t,e){return!e||"object"!==Su(e)&&"function"!==typeof e?Lu(t):e}function Lu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Mu(t){return Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mu(t)}var $u=function(t){Ru(n,t);var e=Du(n);function n(){var t;return xu(this,n),t=e.apply(this,arguments),t.draggable=!0,t.resizable=!0,t.layoutReady=!1,t.rowHeight=80,t.layout=null,t.cols=null,t.breakpoint=null,t}return Pu(n,[{key:"panes",get:function(){return this.$store.state.panes.panes}},{key:"sortedBreakpoints",get:function(){return Object.keys(this.breakpoints).sort((function(t,e){return he["b"][e]-he["b"][t]}))}},{key:"breakpoints",get:function(){var t=Object.keys(this.$store.state.panes.layouts).reduce((function(t,e){return t[e]=he["c"][e],t}),{}),e=Object.keys(t).sort((function(t,e){return he["b"][e]-he["b"][t]}));return t[e[e.length-1]]=0,t}},{key:"layouts",get:function(){var t=this.$store.state.panes.layouts;return this.breakpoint&&(this.layout=t[this.breakpoint]),t}},{key:"created",value:function(){this.cols=he["b"],this.getLayout(),this.layout=this.layouts[this.breakpoint]}},{key:"mounted",value:function(){window.addEventListener("resize",this.getLayout)}},{key:"beforeDestroy",value:function(){window.addEventListener("resize",this.getLayout)}},{key:"getLayout",value:function(t){if(!t||t.isTrusted)if(this._resizeTimeout&&clearTimeout(this._resizeTimeout),t)this._resizeTimeout=window.setTimeout(this.getLayout.bind(this),200);else{this._resizeTimeout=null;var e,n=window.innerWidth,r=window.innerHeight,i=this.breakpoints,o=null,a=Eu(this.sortedBreakpoints);try{for(a.s();!(e=a.n()).done;){var s=e.value;if(n>i[s]){o=s;break}}}catch(l){a.e(l)}finally{a.f()}var c=he["b"][o];this.rowHeight=r/c,this.breakpoint=o}else this.resizeMaximizedPane()}},{key:"resizeMaximizedPane",value:function(){var t,e=this;t=this._maximizedPaneId?document.getElementById(this._maximizedPaneId).parentElement:document.getElementsByClassName("-maximized")[0],this.$nextTick((function(){if(t){var n,r,i=t.children[0].id;e._maximizedPaneId?(n=parseFloat(t.style.width),r=parseFloat(t.style.height),e._maximizedPaneId=null):(n=t.clientWidth,r=t.clientHeight,e._maximizedPaneId=i),e.resizePane(i,r,n)}}))}},{key:"onBreakpointChanged",value:function(t){this.layout=this.layouts[t]}},{key:"resizePane",value:function(t,e,n){if(this.$refs.panes){var r=this.$refs.panes.find((function(e){return e.paneId===t}));r&&"function"===typeof r.onResize&&r.$nextTick((function(){r.onResize(n,e)}))}}},{key:"onItemResized",value:function(t,e,n,r,i){this.resizePane(t,+r,+i),this.updateItem(t)}},{key:"updateItem",value:function(t){this.$store.commit("panes/UPDATE_ITEM",{breakpoint:this.$refs.grid.lastBreakpoint,item:this.layout.find((function(e){return e.i===t}))})}},{key:"onContainerResized",value:function(t,e,n,r,i){this.resizePane(t,+r,+i)}}]),n}(r["default"]);$u=Object(a["a"])([Object(Le["b"])({components:{GridLayout:Me.a.GridLayout,GridItem:Me.a.GridItem,Chart:Ec,Trades:Yc,Stats:xl,Counters:Jl,Prices:Ou}})],$u);var Uu=$u,Fu=Uu,Hu=Object(S["a"])(Fu,De,Ne,!1,null,null,null),qu=Hu.exports,Gu=n("8219"),Vu=n.n(Gu),zu=n("4ee8"),Wu=n.n(zu);function Ku(t){return Ku="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(t)}function Xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qu(t,e,n){return e&&Ju(t.prototype,e),n&&Ju(t,n),t}function Yu(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zu(t,e)}function Zu(t,e){return Zu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zu(t,e)}function td(t){var e=rd();return function(){var n,r=id(t);if(e){var i=id(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ed(this,n)}}function ed(t,e){return!e||"object"!==Ku(e)&&"function"!==typeof e?nd(t):e}function nd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rd(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},id(t)}var od=function(t){Yu(n,t);var e=td(n);function n(){var t;return Xu(this,n),t=e.apply(this,arguments),t.price=null,t.showStuck=!1,t}return Qu(n,[{key:"pair",get:function(){var t=this.$store.state.app.activeMarkets;return t.length?t[0].pair:"SignificantTrades"}},{key:"showSearch",get:function(){return this.$store.state.app.showSearch}},{key:"isBooted",get:function(){var t=this,e=this.$store.state.app&&this.$store.state.app.isBooted;return clearTimeout(this._stuckTimeout),e||(this._stuckTimeout=setTimeout((function(){t.showStuck=!0}),3e3)),e}},{key:"isLoading",get:function(){return this.$store.state.app.isLoading}},{key:"theme",get:function(){return this.$store.state.settings.theme}},{key:"autoHideHeaders",get:function(){return this.$store.state.settings.autoHideHeaders}},{key:"markets",get:function(){return Object.keys(this.$store.state.panes.marketsListeners)}},{key:"preferedSizingCurrency",get:function(){return this.$store.state.settings.preferQuoteCurrencySize?"quote":"base"}},{key:"baseCurrency",get:function(){return this.$store.state.app.baseCurrency}},{key:"baseCurrencySymbol",get:function(){return this.$store.state.app.baseCurrencySymbol}},{key:"quoteCurrency",get:function(){return this.$store.state.app.quoteCurrency}},{key:"quoteCurrencySymbol",get:function(){return this.$store.state.app.quoteCurrencySymbol}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"progressTask",get:function(){return D["u"]}},{key:"mounted",value:function(){var t=this;c["a"].on("notice",(function(e){t.$store.dispatch("app/showNotice",e)})),c["a"].on("prices",this.updatePrice),document.addEventListener("keydown",this.onDocumentKeyPress)}},{key:"beforeDestroy",value:function(){this.stopUpdatingPrice()}},{key:"updatePrice",value:function(t){var e=0,n=0;for(var r in t)e+=t[r],n++;n?(e/=n,null!==this.price&&(e>+this.price?this.updateFavicon("up"):e<+this.price&&this.updateFavicon("down")),this.price=Object(D["k"])(e),window.document.title=this.pair+" "+this.price):(this.price=null,this.updateFavicon("neutral"),window.document.title=this.pair)}},{key:"stopUpdatingPrice",value:function(){c["a"].off("prices",this.updatePrice),this.price=null}},{key:"updateFavicon",value:function(t){this._faviconElement||(this._faviconElement=document.createElement("link"),this._faviconElement.id="favicon",this._faviconElement.rel="shortcut icon",document.head.appendChild(this._faviconElement)),this._faviconElement.href="up"===t?Vu.a:Wu.a}},{key:"onDocumentKeyPress",value:function(t){if(this.isBooted){var e=document.activeElement;27!==t.keyCode?this.$store.state.app.showSearch||t.metaKey||t.ctrlKey||t.altKey||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||e.isContentEditable||(t=t||window.event,/^[a-z]$/i.test(t.key)?this.$store.dispatch("app/showSearch"):/^[0-9]$/i.test(t.key)&&this.$store.dispatch("app/showTimeframe")):this.$store.dispatch("app/hideSearch")}}},{key:"resetAndReload",value:async function(){var t=await A["a"].confirm({message:"Are you sure ?",ok:"Reset settings",cancel:"Download settings"});!0===t?(await B["a"].reset(),window.location.reload()):!1===t&&B["a"].downloadWorkspace()}}]),n}(s["c"]);od=Object(a["a"])([Object(s["a"])({name:"App",components:{Menu:je,Notices:I,Panes:qu}})],od);var ad=od,sd=ad,cd=Object(S["a"])(sd,i,o,!1,null,null,null),ld=cd.exports,ud=n("6018"),dd=(n("29d8"),n("9f95")),pd=n.n(dd),hd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn verte-control",on:{click:t.openPicker}},[n("div",{staticClass:"verte-control__color",style:{backgroundColor:t.value}}),n("i",{staticClass:"icon-dropper"})])},fd=[],md={name:"Verte",props:{value:{type:String,default:"#000"},label:{type:String}},data:function(){return{currentColor:null,dialogInstance:null}},beforeDestroy:function(){this.dialogInstance&&this.dialogInstance.close()},methods:{openPicker:function(){var t=this;this.dialogInstance=A["a"].openPicker(this.value,(function(e){t.$emit("input",e)}),this.label)}}},yd=md,vd=Object(S["a"])(yd,hd,fd,!1,null,null,null),bd=vd.exports,gd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{contenteditable:!1!==t.editable,disabled:!1===t.editable},on:{keydown:t.onKeyDown,input:function(e){t.changed=!0},focus:t.onFocus,blur:t.onBlur,click:t.onClick,wheel:t.onWheel}})},_d=[];function Cd(t){return Cd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(t)}function kd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Od(t,e,n){return e&&wd(t.prototype,e),n&&wd(t,n),t}function Sd(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ed(t,e)}function Ed(t,e){return Ed=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ed(t,e)}function Id(t){var e=Ad();return function(){var n,r=Pd(t);if(e){var i=Pd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Td(this,n)}}function Td(t,e){return!e||"object"!==Cd(e)&&"function"!==typeof e?xd(t):e}function xd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ad(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pd(t)}var Rd=function(t){Sd(n,t);var e=Id(n);function n(){var t;return kd(this,n),t=e.apply(this,arguments),t.changed=!1,t.focused=!1,t}return Od(n,[{key:"mounted",value:function(){var t=this.$el;t.innerText=this.content}},{key:"onContentChange",value:function(){this.$el.innerText!==this.content&&(this.$el.innerText=this.content)}},{key:"selectAll",value:function(){var t=this;window.setTimeout((function(){var e,n;window.getSelection&&document.createRange?(n=document.createRange(),n.selectNodeContents(t.$el),e=window.getSelection(),e.removeAllRanges(),e.addRange(n)):document.body.createTextRange&&(n=document.body.createTextRange(),n.moveToElementText(t.$el),n.select())}),1)}},{key:"onBlur",value:function(t){13!==t.which||isNaN(t.target.innerText)?(this.changed&&this.$emit("output",t.target.innerText),this.focused=!1,window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()):t.preventDefault()}},{key:"onKeyDown",value:function(t){if(this.disabled||13===t.which)return t.preventDefault(),this.$el.blur(),void(t.target.innerText=this.content);38!==t.which&&40!==t.which||this.crement(40===t.which?1:-1)}},{key:"onFocus",value:function(){this.changed=!1,this.focused=!0}},{key:"onClick",value:function(){var t=+new Date;this.clickAt&&t-this.clickAt<150&&this.selectAll(),this.clickAt=t}},{key:"crement",value:function(t){var e=this.$el.innerText.replace(/[^0-9-.]/g,"");if(!isNaN(e)){var n="undefined"===typeof this.max?1/0:this.max,r="undefined"===typeof this.min?0:this.min,i=this.step||1,o=Object(D["e"])(i),a=i*(t>0?-1:1),s=+Math.max(r,Math.min(n,+e+a)).toFixed(o);this.$emit("output",s)}}},{key:"onWheel",value:function(t){document.activeElement.isContentEditable&&(t.preventDefault(),this.crement(Math.sign(t.deltaY)))}}]),n}(s["c"]);Object(a["a"])([Object(s["d"])("content")],Rd.prototype,"onContentChange",null),Rd=Object(a["a"])([Object(s["a"])({name:"Editable",props:["content","step","min","max","editable","disabled"]})],Rd);var jd=Rd,Dd=jd,Nd=Object(S["a"])(Dd,gd,_d,!1,null,null,null),Ld=Nd.exports,Bd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{staticClass:"mrauto",attrs:{options:t.presets,placeholder:t.label,selectionClass:"ml0"},on:{output:t.onSelect},scopedSlots:t._u([{key:"option-0",fn:function(){return[n("div",{staticClass:"column",on:{mousedown:function(t){t.preventDefault()}}},[n("div",{staticClass:"btn -green",on:{click:t.savePreset}},[n("i",{staticClass:"icon-plus"})]),n("div",{staticClass:"btn -blue",on:{click:t.uploadPreset}},[n("i",{staticClass:"icon-upload"})]),n("div",{staticClass:"btn -red",on:{click:t.applyDefault}},[n("i",{staticClass:"icon-eraser mr4"}),t._v(" Default")])])]},proxy:!0},{key:"option",fn:function(e){var r=e.value;return[r.icon?n("i",{class:"-lower icon-"+r.icon}):t._e(),n("span",[t._v(t._s(r.label))])]}}])})},Md=[],$d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{on:{clickOutside:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[n("div",{domProps:{textContent:t._s(t.name)},on:{dblclick:t.renamePreset}})]),n("div",{staticClass:"subtitle",domProps:{textContent:t._s(t.preset.type)}})])]},proxy:!0}])},[n("form",{on:{submit:function(e){return e.preventDefault(),t.apply(e)}}},[n("p",{staticClass:"mt0"},[t._v("Saved settings for :")]),n("ul",t._l(t.dataProperties,(function(e){return n("li",{key:e},[n("code",{domProps:{textContent:t._s(e)}})])})),0),n("footer",[n("button",{staticClass:"btn -text -red mrauto ml0",attrs:{type:"button"},on:{click:t.deletePreset}},[n("i",{staticClass:"icon-cross mr4"}),t._v(" Delete")]),n("button",{staticClass:"btn -text",attrs:{type:"button"},on:{click:t.downloadPreset}},[n("i",{staticClass:"icon-download mr4"}),t._v(" Download")]),n("button",{staticClass:"btn -large",attrs:{type:"submit"}},[n("i",{staticClass:"icon-check mr4"}),t._v(" Apply")])])])])},Ud=[];function Fd(t){return Fd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(t)}var Hd={mixins:[it["a"]],props:{preset:{required:!0}},data:function(){return{dataProperties:[]}},computed:{name:function(){return this.preset.name.split(":").pop()}},created:function(){this.retrieveDataProperties(this.preset.data)},methods:{deletePreset:async function(){await A["a"].confirm("Delete preset "+this.preset.name+" ?")&&(await B["a"].removePreset(this.preset.name),this.close())},downloadPreset:function(){Object(D["g"])(this.preset,this.preset.type+"_"+Object(D["x"])(this.name))},retrieveDataProperties:function(t){for(var e in t)t[e]&&"object"===Fd(t[e])?this.retrieveDataProperties(t[e]):isNaN(e)&&-1===this.dataProperties.indexOf(e)&&this.dataProperties.push(e)},apply:function(){this.close(!0)},renamePreset:async function(){var t=await A["a"].prompt({action:"Rename",input:this.name});t&&t!==this.name&&(await B["a"].removePreset(this.preset.name),this.preset.name=this.preset.type+":"+t,await B["a"].savePreset(this.preset))}}},qd=Hd,Gd=Object(S["a"])(qd,$d,Ud,!1,null,null,null),Vd=Gd.exports;function zd(t){return zd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(t)}function Wd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xd(t,e,n){return e&&Kd(t.prototype,e),n&&Kd(t,n),t}function Jd(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qd(t,e)}function Qd(t,e){return Qd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qd(t,e)}function Yd(t){var e=ep();return function(){var n,r=np(t);if(e){var i=np(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zd(this,n)}}function Zd(t,e){return!e||"object"!==zd(e)&&"function"!==typeof e?tp(t):e}function tp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ep(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},np(t)}var rp=function(t){Jd(n,t);var e=Yd(n);function n(){var t;return Wd(this,n),t=e.apply(this,arguments),t.presets=[{}],t}return Xd(n,[{key:"created",value:function(){this.getPresets()}},{key:"getPresets",value:async function(){this.presets.splice(1,this.presets.length);for(var t=await B["a"].getPresetsKeysByType(this.type),e=0;e<t.length;e++)this.presets.push({id:t[e],label:t[e].split(":").slice(1).join(":")})}},{key:"onSelect",value:async function(t){if("function"!==typeof this.presets[t].click){var e=await B["a"].getPreset(this.presets[t].id);await A["a"].openAsPromise(Vd,{preset:e})?this.applyPreset(e):await this.getPresets()}}},{key:"savePreset",value:async function(t){if(t&&"string"===typeof t){if(!await A["a"].confirm("Override preset ".concat(t," with current settings ?")))return}else t=await A["a"].prompt("Enter a name");if(t){var e=await this.adapter();e?(e._id&&delete e._id,await B["a"].savePreset({name:this.type+":"+t,type:this.type,data:e}),await this.getPresets()):this.$store.dispatch("app/showNotice",{type:"error",title:"Preset should contain data. Not saving this preset."})}}},{key:"applyDefault",value:async function(){await A["a"].confirm("Reset "+this.type+" to default settings ?")&&this.$emit("apply")}},{key:"applyPreset",value:async function(t){this.$emit("apply",t.data)}},{key:"uploadPreset",value:async function(){var t,e;try{t=await Object(D["b"])()}catch(n){return void this.$store.dispatch("app/showNotice",{title:n.message,type:"error"})}try{if("string"!==typeof t)throw new Error("invalid file, must be text/json");if(e=JSON.parse(t),!e.data)throw new Error("preset is empty");if(e.type!==this.type)throw new Error("preset is not "+this.type+" type")}catch(n){return void this.$store.dispatch("app/showNotice",{title:"Couldn't import preset : ".concat(n.message),type:"error"})}await B["a"].savePreset(e),this.$store.dispatch("app/showNotice",{title:"Preset ".concat(e.name," imported successfully"),type:"info"}),await this.getPresets()}}]),n}(s["c"]);rp=Object(a["a"])([Object(s["a"])({components:{Dropdown:pe},props:{type:{required:!0},adapter:{required:!0},label:{default:"Presets"}}})],rp);var ip=rp,op=ip,ap=Object(S["a"])(op,Bd,Md,!1,null,null,null),sp=ap.exports;if("serviceWorker"in navigator)pd.a.register();r["default"].use(ud["b"],{maxWidth:"200px",duration:0,arrow:!1,animation:"none",delay:[200,0],animateFill:!1,theme:"dark"}),r["default"].component("tippy",ud["a"]),r["default"].component("verte",bd),r["default"].component("dropdown",pe),r["default"].component("editable",Ld),r["default"].component("presets",sp),new r["default"]({el:"#app",store:He["b"],render:function(t){return t(ld)},props:["initialized"]})},ce94:function(t){t.exports=JSON.parse('{"xl":[{"i":"chart","type":"chart","x":0,"y":0,"w":28,"h":32,"isolated":true},{"i":"trades","type":"trades","x":28,"y":0,"w":4,"h":26,"isolated":true},{"i":"liquidations","type":"trades","x":28,"y":26,"w":4,"h":6,"isolated":true}],"lg":[{"i":"chart","type":"chart","x":0,"y":0,"w":20,"h":24,"isolated":true},{"i":"trades","type":"trades","x":20,"y":0,"w":4,"h":20,"isolated":true},{"i":"liquidations","type":"trades","x":20,"y":20,"w":4,"h":4,"isolated":true}],"md":[{"i":"chart","type":"chart","x":0,"y":0,"w":13,"h":16,"isolated":true},{"i":"trades","type":"trades","x":13,"y":0,"w":3,"h":14,"isolated":true},{"i":"liquidations","type":"trades","x":13,"y":14,"w":3,"h":2,"isolated":true}],"sm":[{"i":"chart","type":"chart","x":0,"y":0,"w":12,"h":5,"isolated":true},{"i":"trades","type":"trades","x":0,"y":5,"w":8,"h":7,"isolated":true},{"i":"liquidations","type":"trades","x":8,"y":5,"w":4,"h":7,"isolated":true}],"xs":[{"i":"chart","type":"chart","x":0,"y":0,"w":8,"h":3,"isolated":true},{"i":"trades","type":"trades","x":0,"y":3,"w":8,"h":4,"isolated":true},{"i":"liquidations","type":"trades","x":0,"y":7,"w":8,"h":1,"isolated":true}]}')},d071:function(t,e,n){},d2a1:function(t,e,n){"use strict";n("8322")},d951:function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return y}));var r=n("0613"),i=n("da81"),o=n.n(i),a=n("bd60"),s=n("be31");function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={};async function h(t){t._id&&("number"===typeof p[t._id]&&(clearTimeout(p[t._id]),delete p[t._id]),await s["a"].saveState(t._id,t))}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(t._id)return"number"===typeof p[t._id]&&clearTimeout(p[t._id]),new Promise((function(n){p[t._id]=setTimeout((async function(){await h(t),n()}),e)}))}async function m(t){try{var e=await s["a"].getState(t._id);if(e)return Object.assign({},t,e)}catch(n){s["a"].removeState(t._id)}return t}async function y(t,e,n,i){i?(e=u(u({},a["a"][i.type]),{},{state:JSON.parse(JSON.stringify(a["a"][i.type].state))}),e.state._id=t,e.state._booted=!1,"object"===c(i.settings)&&(i.settings._id&&delete i.settings._id,o()(e.state,i.settings))):e=u(u({},e),{},{state:JSON.parse(JSON.stringify(e.state))}),e.state._id&&(e.state=await m(e.state)),r["b"].registerModule(t,e),n&&"undefined"!==typeof e.actions.boot&&await r["b"].dispatch(t+"/boot"),h(e.state)}},dd52:function(t,e,n){"use strict";n("a97b")},e0d0:function(t,e,n){"use strict";n("d071")},e0ff:function(t,e,n){},ef5b:function(t,e,n){},f1f6:function(t,e,n){"use strict";n("ef5b")},f552:function(t,e,n){},fa07:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"f",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"h",(function(){return m})),n.d(e,"g",(function(){return y})),n.d(e,"b",(function(){return v})),n.d(e,"e",(function(){return b}));var r=n("0613");function i(t,e){return l(t)||c(t,e)||a(t,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function l(t){if(Array.isArray(t))return t}var u=["#F44336","#FF9800","#ffeb3b","#4caf50","#009688","#00bcd4","#2196F3","#673ab7","#9c27b0","#e91e63","#FFCDD2","#FFE0B2","#FFF9C4","#C8E6C9","#B2DFDB","#B2EBF2","#BBDEFB","#D1C4E9","#E1BEE7","#F8BBD0","#ef9a9a","#FFCC80","#FFF59D","#A5D6A7","#80cbc4","#80DEEA","#90CAF9","#B39DDB","#CE93D8","#f48fb1","#E57373","#ffb74d","#FFF176","#81c784","#4db6ac","#4dd0e1","#64B5F6","#9575cd","#ba68c8","#f06292","#EF5350","#FFA726","#ffee58","#66BB6A","#26a69a","#26c6da","#42A5F5","#7e57c2","#ab47bc","#ec407a","#D32F2F","#F57C00","#fbc02d","#388e3c","#00796b","#0097A7","#1976D2","#512da8","#7b1fa2","#C2185B","#B71C1C","#e65100","#F57F17","#1B5E20","#004D40","#006064","#0d47a1","#311B92","#4A148C","#880e4f"];function d(t,e,n){if(n>1)return e;var r=n,i=2*r-1,o=(i/1+1)/2,a=1-o,s=[Math.round(e[0]*o+t[0]*a),Math.round(e[1]*o+t[1]*a),Math.round(e[2]*o+t[2]*a)];return s}function p(t,e){var n=1-t[3];return t[0]=Math.round(255*(t[3]*(t[0]/255)+n*(e[0]/255))),t[1]=Math.round(255*(t[3]*(t[1]/255)+n*(e[1]/255))),t[2]=Math.round(255*(t[3]*(t[2]/255)+n*(e[2]/255))),t.splice(3,1),t}function h(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,(function(t,e,n,r){return e+e+n+n+r+r}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function f(t,e){"undefined"!==typeof t[3]&&e&&(t=p(t,e));var n=Math.sqrt(t[0]*t[0]*.241+t[1]*t[1]*.691+t[2]*t[2]*.068);return n}function m(t,e){if("#"===t[0])return h(t);var n,i;try{if(n=t.match(/rgba?\((\d+)[\s,]*(\d+)[\s,]*(\d+)(?:[\s,]*([\d.]+))?\)/),!n)throw new Error;i=[+n[1],+n[2],+n[3]]}catch(o){r["b"].dispatch("app/showNotice",{title:"".concat(t," isn't a valid color<br>").concat(o.message),type:"error",timeout:0}),i=[0,0,0]}return n&&"undefined"!==typeof n[4]&&(i.push(+n[4]),e&&(i=p(i,e))),i}function y(t){var e=i(t,4),n=e[0],r=e[1],o=e[2],a=e[3];return"rgb"+(a?"a(":"(")+n+","+r+","+o+(a?","+a+")":")")}function v(){var t,e=getComputedStyle(document.getElementById("app")).backgroundColor;return t=-1!==e.indexOf("#")?h(e):m(e),t}function b(t,e){e=Math.max(-1,Math.min(1,e));var n=e<0,r=n?0:e*Math.pow(255,2),i=n?1+e:1-e;return"rgb("+Math.round(Math.pow(i*Math.pow(t[0],2)+r,.5))+","+Math.round(Math.pow(i*Math.pow(t[1],2)+r,.5))+","+Math.round(Math.pow(i*Math.pow(t[2],2)+r,.5))+")"}}});